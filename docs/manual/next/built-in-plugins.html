<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Built-in plugins · Otoroshi</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='otoroshi-manual'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/cc.js"></script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/plugins.js"></script>
<script type="text/javascript" src="../js/ngplugins.js"></script>
<script type="text/javascript" src="../js/expression-language.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>
<link rel="stylesheet" type="text/css" href="../css/plugins.css"/>

<!--
<link rel="shortcut icon" href="../images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>Otoroshi
</a>
<div class="version-number">
1.5.16
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../about.html" class="page">About Otoroshi</a></li>
  <li><a href="../architecture.html" class="page">Architecture</a></li>
  <li><a href="../features.html" class="page">Features</a></li>
  <li><a href="../getting-started.html" class="page">Getting Started</a></li>
  <li><a href="../install/index.html" class="page">Install</a>
  <ul>
    <li><a href="../install/get-otoroshi.html" class="page">Get Otoroshi</a></li>
    <li><a href="../install/setup-otoroshi.html" class="page">Setup Otoroshi</a></li>
    <li><a href="../install/run-otoroshi.html" class="page">Run Otoroshi</a></li>
  </ul></li>
  <li><a href="../entities/index.html" class="page">Main entities</a>
  <ul>
    <li><a href="../entities/organizations.html" class="page">Organizations</a></li>
    <li><a href="../entities/teams.html" class="page">Teams</a></li>
    <li><a href="../entities/global-config.html" class="page">Global config</a></li>
    <li><a href="../entities/apikeys.html" class="page">Apikeys</a></li>
    <li><a href="../entities/service-groups.html" class="page">Service groups</a></li>
    <li><a href="../entities/service-descriptors.html" class="page">Service descriptors</a></li>
    <li><a href="../entities/auth-modules.html" class="page">Authentication modules</a></li>
    <li><a href="../entities/certificates.html" class="page">Certificates</a></li>
    <li><a href="../entities/jwt-verifiers.html" class="page">JWT verifiers</a></li>
    <li><a href="../entities/data-exporters.html" class="page">Data exporters</a></li>
    <li><a href="../entities/scripts.html" class="page">Scripts</a></li>
    <li><a href="../entities/tcp-services.html" class="page">TCP services</a></li>
  </ul></li>
  <li><a href="../topics/index.html" class="page">Detailed topics</a>
  <ul>
    <li><a href="../topics/chaos-engineering.html" class="page">Chaos engineering with the Snow Monkey</a></li>
    <li><a href="../topics/tls.html" class="page">TLS</a></li>
    <li><a href="../topics/pki.html" class="page">Otoroshi&rsquo;s PKI</a></li>
    <li><a href="../topics/monitoring.html" class="page">Monitoring</a></li>
    <li><a href="../topics/events-and-analytics.html" class="page">Events and analytics</a></li>
    <li><a href="../topics/dev-portal.html" class="page">Developer portal with Daikoku</a></li>
    <li><a href="../topics/sessions-mgmt.html" class="page">Sessions management</a></li>
    <li><a href="../topics/otoroshi-protocol.html" class="page">The Otoroshi communication protocol</a></li>
    <li><a href="../topics/expression-language.html" class="page">Expression language</a></li>
    <li><a href="../topics/user-rights.html" class="page">Otoroshi user rights</a></li>
  </ul></li>
  <li><a href="../how-to-s/index.html" class="page">How to&rsquo;s</a>
  <ul>
    <li><a href="../how-to-s/end-to-end-mtls.html" class="page">End-to-end mTLS</a></li>
    <li><a href="../how-to-s/export-alerts-using-mailgun.html" class="page">Send alerts using mailgun</a></li>
    <li><a href="../how-to-s/export-events-to-elastic.html" class="page">Export events to Elasticsearch</a></li>
    <li><a href="../how-to-s/import-export-otoroshi-datastore.html" class="page">Import and export Otoroshi datastore</a></li>
    <li><a href="../how-to-s/secure-app-with-auth0.html" class="page">Secure an app with Auth0</a></li>
    <li><a href="../how-to-s/secure-app-with-keycloak.html" class="page">Secure an app with Keycloak</a></li>
    <li><a href="../how-to-s/secure-app-with-ldap.html" class="page">Secure an app and/or your Otoroshi UI with LDAP</a></li>
    <li><a href="../how-to-s/secure-with-apikey.html" class="page">Secure an api with api keys</a></li>
    <li><a href="../how-to-s/secure-with-oauth1-client.html" class="page">Secure an app with OAuth1 client flow</a></li>
    <li><a href="../how-to-s/secure-with-oauth2-client-credentials.html" class="page">Secure an app with OAuth2 client_credential flow</a></li>
    <li><a href="../how-to-s/setup-otoroshi-cluster.html" class="page">Setup an Otoroshi cluster</a></li>
    <li><a href="../how-to-s/tls-using-lets-encrypt.html" class="page">TLS termination using Let&rsquo;s Encrypt</a></li>
    <li><a href="../how-to-s/secure-an-app-with-jwt-verifiers.html" class="page">Secure an api with jwt verifiers</a></li>
    <li><a href="../how-to-s/secure-the-communication-between-a-backend-app-and-otoroshi.html" class="page">Secure the communication between a backend app and Otoroshi</a></li>
    <li><a href="../how-to-s/tls-termination-using-own-certificates.html" class="page">TLS termination using your own certificates</a></li>
    <li><a href="../how-to-s/resources-loader.html" class="page">The resources loader</a></li>
    <li><a href="../how-to-s/custom-log-levels.html" class="page">Log levels customization</a></li>
    <li><a href="../how-to-s/custom-initial-state.html" class="page">Initial state customization</a></li>
    <li><a href="../how-to-s/communicate-with-kafka.html" class="page">Communicate with Kafka</a></li>
    <li><a href="../how-to-s/working-with-eureka.html" class="page">Working with Eureka</a></li>
  </ul></li>
  <li><a href="../plugins/index.html" class="page">Otoroshi plugins</a>
  <ul>
    <li><a href="../plugins/plugins.html" class="page">Otoroshi plugins system</a></li>
    <li><a href="../plugins/create-plugins.html" class="page">Create plugins</a></li>
    <li><a href="../plugins/built-in-plugins.html" class="page">Otoroshi built-in plugins</a></li>
  </ul></li>
  <li><a href="../api.html" class="page">Admin REST API</a></li>
  <li><a href="../deploy/index.html" class="page">Deploy to production</a>
  <ul>
    <li><a href="../deploy/clustering.html" class="page">Otoroshi clustering</a></li>
    <li><a href="../deploy/kubernetes.html" class="page">Kubernetes</a></li>
    <li><a href="../deploy/clever-cloud.html" class="page">Clever-Cloud</a></li>
    <li><a href="../deploy/aws.html" class="page">AWS - Elastic Beanstalk</a></li>
    <li><a href="../deploy/scaling.html" class="page">Scaling Otoroshi</a></li>
  </ul></li>
  <li><a href="../dev.html" class="page">Developing Otoroshi</a></li>
  <li><a href="../next/index.html" class="page">Otoroshi new proxy engine</a>
  <ul>
    <li><a href="../next/engine.html" class="page">New proxy engine</a></li>
    <li><a href="../next/topics/index.html" class="page">Detailed topics</a></li>
    <li><a href="../next/built-in-plugins.html" class="active page">Built-in plugins</a></li>
  </ul></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title-wrapper">
<div class="title-logo"></div>
<div class="title"><a href="../index.html">Otoroshi</a></div>
</div>
<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>Otoroshi
</a>
<div class="version-number">
1.5.16
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../about.html" class="page">About Otoroshi</a></li>
  <li><a href="../architecture.html" class="page">Architecture</a></li>
  <li><a href="../features.html" class="page">Features</a></li>
  <li><a href="../getting-started.html" class="page">Getting Started</a></li>
  <li><a href="../install/index.html" class="page">Install</a>
  <ul>
    <li><a href="../install/get-otoroshi.html" class="page">Get Otoroshi</a></li>
    <li><a href="../install/setup-otoroshi.html" class="page">Setup Otoroshi</a></li>
    <li><a href="../install/run-otoroshi.html" class="page">Run Otoroshi</a></li>
  </ul></li>
  <li><a href="../entities/index.html" class="page">Main entities</a>
  <ul>
    <li><a href="../entities/organizations.html" class="page">Organizations</a></li>
    <li><a href="../entities/teams.html" class="page">Teams</a></li>
    <li><a href="../entities/global-config.html" class="page">Global config</a></li>
    <li><a href="../entities/apikeys.html" class="page">Apikeys</a></li>
    <li><a href="../entities/service-groups.html" class="page">Service groups</a></li>
    <li><a href="../entities/service-descriptors.html" class="page">Service descriptors</a></li>
    <li><a href="../entities/auth-modules.html" class="page">Authentication modules</a></li>
    <li><a href="../entities/certificates.html" class="page">Certificates</a></li>
    <li><a href="../entities/jwt-verifiers.html" class="page">JWT verifiers</a></li>
    <li><a href="../entities/data-exporters.html" class="page">Data exporters</a></li>
    <li><a href="../entities/scripts.html" class="page">Scripts</a></li>
    <li><a href="../entities/tcp-services.html" class="page">TCP services</a></li>
  </ul></li>
  <li><a href="../topics/index.html" class="page">Detailed topics</a>
  <ul>
    <li><a href="../topics/chaos-engineering.html" class="page">Chaos engineering with the Snow Monkey</a></li>
    <li><a href="../topics/tls.html" class="page">TLS</a></li>
    <li><a href="../topics/pki.html" class="page">Otoroshi&rsquo;s PKI</a></li>
    <li><a href="../topics/monitoring.html" class="page">Monitoring</a></li>
    <li><a href="../topics/events-and-analytics.html" class="page">Events and analytics</a></li>
    <li><a href="../topics/dev-portal.html" class="page">Developer portal with Daikoku</a></li>
    <li><a href="../topics/sessions-mgmt.html" class="page">Sessions management</a></li>
    <li><a href="../topics/otoroshi-protocol.html" class="page">The Otoroshi communication protocol</a></li>
    <li><a href="../topics/expression-language.html" class="page">Expression language</a></li>
    <li><a href="../topics/user-rights.html" class="page">Otoroshi user rights</a></li>
  </ul></li>
  <li><a href="../how-to-s/index.html" class="page">How to&rsquo;s</a>
  <ul>
    <li><a href="../how-to-s/end-to-end-mtls.html" class="page">End-to-end mTLS</a></li>
    <li><a href="../how-to-s/export-alerts-using-mailgun.html" class="page">Send alerts using mailgun</a></li>
    <li><a href="../how-to-s/export-events-to-elastic.html" class="page">Export events to Elasticsearch</a></li>
    <li><a href="../how-to-s/import-export-otoroshi-datastore.html" class="page">Import and export Otoroshi datastore</a></li>
    <li><a href="../how-to-s/secure-app-with-auth0.html" class="page">Secure an app with Auth0</a></li>
    <li><a href="../how-to-s/secure-app-with-keycloak.html" class="page">Secure an app with Keycloak</a></li>
    <li><a href="../how-to-s/secure-app-with-ldap.html" class="page">Secure an app and/or your Otoroshi UI with LDAP</a></li>
    <li><a href="../how-to-s/secure-with-apikey.html" class="page">Secure an api with api keys</a></li>
    <li><a href="../how-to-s/secure-with-oauth1-client.html" class="page">Secure an app with OAuth1 client flow</a></li>
    <li><a href="../how-to-s/secure-with-oauth2-client-credentials.html" class="page">Secure an app with OAuth2 client_credential flow</a></li>
    <li><a href="../how-to-s/setup-otoroshi-cluster.html" class="page">Setup an Otoroshi cluster</a></li>
    <li><a href="../how-to-s/tls-using-lets-encrypt.html" class="page">TLS termination using Let&rsquo;s Encrypt</a></li>
    <li><a href="../how-to-s/secure-an-app-with-jwt-verifiers.html" class="page">Secure an api with jwt verifiers</a></li>
    <li><a href="../how-to-s/secure-the-communication-between-a-backend-app-and-otoroshi.html" class="page">Secure the communication between a backend app and Otoroshi</a></li>
    <li><a href="../how-to-s/tls-termination-using-own-certificates.html" class="page">TLS termination using your own certificates</a></li>
    <li><a href="../how-to-s/resources-loader.html" class="page">The resources loader</a></li>
    <li><a href="../how-to-s/custom-log-levels.html" class="page">Log levels customization</a></li>
    <li><a href="../how-to-s/custom-initial-state.html" class="page">Initial state customization</a></li>
    <li><a href="../how-to-s/communicate-with-kafka.html" class="page">Communicate with Kafka</a></li>
    <li><a href="../how-to-s/working-with-eureka.html" class="page">Working with Eureka</a></li>
  </ul></li>
  <li><a href="../plugins/index.html" class="page">Otoroshi plugins</a>
  <ul>
    <li><a href="../plugins/plugins.html" class="page">Otoroshi plugins system</a></li>
    <li><a href="../plugins/create-plugins.html" class="page">Create plugins</a></li>
    <li><a href="../plugins/built-in-plugins.html" class="page">Otoroshi built-in plugins</a></li>
  </ul></li>
  <li><a href="../api.html" class="page">Admin REST API</a></li>
  <li><a href="../deploy/index.html" class="page">Deploy to production</a>
  <ul>
    <li><a href="../deploy/clustering.html" class="page">Otoroshi clustering</a></li>
    <li><a href="../deploy/kubernetes.html" class="page">Kubernetes</a></li>
    <li><a href="../deploy/clever-cloud.html" class="page">Clever-Cloud</a></li>
    <li><a href="../deploy/aws.html" class="page">AWS - Elastic Beanstalk</a></li>
    <li><a href="../deploy/scaling.html" class="page">Scaling Otoroshi</a></li>
  </ul></li>
  <li><a href="../dev.html" class="page">Developing Otoroshi</a></li>
  <li><a href="../next/index.html" class="page">Otoroshi new proxy engine</a>
  <ul>
    <li><a href="../next/engine.html" class="page">New proxy engine</a></li>
    <li><a href="../next/topics/index.html" class="page">Detailed topics</a></li>
    <li><a href="../next/built-in-plugins.html" class="active page">Built-in plugins</a></li>
  </ul></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="../index.html">Otoroshi</a></li>
  <li><a href="../next/index.html">Otoroshi new proxy engine</a></li>
  <li>Built-in plugins</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#built-in-plugins" name="built-in-plugins" class="anchor"><span class="anchor-link"></span></a>Built-in plugins</h1>
<p>Otoroshi next provides some plugins out of the box. Here is the available plugins with their documentation and reference configuration</p><div id="otoroshi.next.plugins.AdditionalHeadersIn" class="ng-plugin plugin-hidden pl">
<h2><a href="#additional-headers-in" name="additional-headers-in" class="anchor"><span class="anchor-link"></span></a>Additional headers in</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.AdditionalHeadersIn</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds headers in the incoming otoroshi request</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;headers&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.AdditionalHeadersOut" class="ng-plugin plugin-hidden pl">
<h2><a href="#additional-headers-out" name="additional-headers-out" class="anchor"><span class="anchor-link"></span></a>Additional headers out</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.AdditionalHeadersOut</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds headers in the otoroshi response</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;headers&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.AllowHttpMethods" class="ng-plugin plugin-hidden pl">
<h2><a href="#allowed-http-methods" name="allowed-http-methods" class="anchor"><span class="anchor-link"></span></a>Allowed HTTP methods</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.AllowHttpMethods</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request only uses allowed http methods</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;allowed&quot; : [ ],
  &quot;forbidden&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.ApikeyCalls" class="ng-plugin plugin-hidden pl">
<h2><a href="#apikeys" name="apikeys" class="anchor"><span class="anchor-link"></span></a>Apikeys</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>MatchRoute</code></li>
  <li><code>ValidateAccess</code></li>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ApikeyCalls</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin expects to find an apikey to allow the request to pass</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;extractors&quot; : {
    &quot;basic&quot; : {
      &quot;enabled&quot; : true,
      &quot;header_name&quot; : null,
      &quot;query_name&quot; : null
    },
    &quot;custom_headers&quot; : {
      &quot;enabled&quot; : true,
      &quot;client_id_header_name&quot; : null,
      &quot;client_secret_header_name&quot; : null
    },
    &quot;client_id&quot; : {
      &quot;enabled&quot; : true,
      &quot;header_name&quot; : null,
      &quot;query_name&quot; : null
    },
    &quot;jwt&quot; : {
      &quot;enabled&quot; : true,
      &quot;secret_signed&quot; : true,
      &quot;keypair_signed&quot; : true,
      &quot;include_request_attrs&quot; : false,
      &quot;max_jwt_lifespan_sec&quot; : null,
      &quot;header_name&quot; : null,
      &quot;query_name&quot; : null,
      &quot;cookie_name&quot; : null
    }
  },
  &quot;routing&quot; : {
    &quot;enabled&quot; : false
  },
  &quot;validate&quot; : true,
  &quot;pass_with_user&quot; : false,
  &quot;wipe_backend_request&quot; : true
}
</code></pre></div><div id="otoroshi.next.plugins.ApikeyQuotas" class="ng-plugin plugin-hidden pl">
<h2><a href="#apikey-quotas" name="apikey-quotas" class="anchor"><span class="anchor-link"></span></a>Apikey quotas</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ApikeyQuotas</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Increments quotas for the currents apikey. Useful when &lsquo;legacy checks&rsquo; are disabled on a service/globally or when apikey are extracted in a custom fashion.</p></div><div id="otoroshi.next.plugins.AuthModule" class="ng-plugin plugin-hidden pl">
<h2><a href="#authentication" name="authentication" class="anchor"><span class="anchor-link"></span></a>Authentication</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.AuthModule</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin applies an authentication module</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;pass_with_apikey&quot; : false,
  &quot;auth_module&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.BuildMode" class="ng-plugin plugin-hidden pl">
<h2><a href="#build-mode" name="build-mode" class="anchor"><span class="anchor-link"></span></a>Build mode</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.BuildMode</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin displays a build page</p></div><div id="otoroshi.next.plugins.CanaryMode" class="ng-plugin plugin-hidden pl">
<h2><a href="#canary-mode" name="canary-mode" class="anchor"><span class="anchor-link"></span></a>Canary mode</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.CanaryMode</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can split a portion of the traffic to canary backends</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;traffic&quot; : 0.2,
  &quot;targets&quot; : [ ],
  &quot;root&quot; : &quot;/&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.ContextValidation" class="ng-plugin plugin-hidden pl">
<h2><a href="#context-validator" name="context-validator" class="anchor"><span class="anchor-link"></span></a>Context validator</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ContextValidation</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin validates the current context using JSONPath validators.</p>
<p>This plugin let you configure a list of validators that will check if the current call can pass. A validator is composed of a <a href="https://goessner.net/articles/JsonPath/">JSONPath</a> that will tell what to check and a value that is the expected value. The JSONPath will be applied on a document that will look like</p>
<pre class="prettyprint"><code class="language-js">{
  &quot;snowflake&quot; : &quot;1516772930422308903&quot;,
  &quot;apikey&quot; : { // current apikey
    &quot;clientId&quot; : &quot;vrmElDerycXrofar&quot;,
    &quot;clientName&quot; : &quot;default-apikey&quot;,
    &quot;metadata&quot; : {
      &quot;foo&quot; : &quot;bar&quot;
    },
    &quot;tags&quot; : [ ]
  },
  &quot;user&quot; : null, //  current user
  &quot;request&quot; : {
    &quot;id&quot; : 1,
    &quot;method&quot; : &quot;GET&quot;,
    &quot;headers&quot; : {
      &quot;Host&quot; : &quot;ctx-validation-next-gen.oto.tools:9999&quot;,
      &quot;Accept&quot; : &quot;*/*&quot;,
      &quot;User-Agent&quot; : &quot;curl/7.64.1&quot;,
      &quot;Authorization&quot; : &quot;Basic dnJtRWxEZXJ5Y1hyb2ZhcjpvdDdOSTkyVGI2Q2J4bWVMYU9UNzJxamdCU2JlRHNLbkxtY1FBcXBjVjZTejh0Z3I1b2RUOHAzYjB5SEVNRzhZ&quot;,
      &quot;Remote-Address&quot; : &quot;127.0.0.1:58929&quot;,
      &quot;Timeout-Access&quot; : &quot;&lt;function1&gt;&quot;,
      &quot;Raw-Request-URI&quot; : &quot;/foo&quot;,
      &quot;Tls-Session-Info&quot; : &quot;Session(1650461821330|SSL_NULL_WITH_NULL_NULL)&quot;
    },
    &quot;cookies&quot; : [ ],
    &quot;tls&quot; : false,
    &quot;uri&quot; : &quot;/foo&quot;,
    &quot;path&quot; : &quot;/foo&quot;,
    &quot;version&quot; : &quot;HTTP/1.1&quot;,
    &quot;has_body&quot; : false,
    &quot;remote&quot; : &quot;127.0.0.1&quot;,
    &quot;client_cert_chain&quot; : null
  },
  &quot;config&quot; : {
    &quot;validators&quot; : [ {
      &quot;path&quot; : &quot;$.apikey.metadata.foo&quot;,
      &quot;value&quot; : &quot;bar&quot;
    } ]
  },
  &quot;global_config&quot; : { ... }, // global config
  &quot;attrs&quot; : {
    &quot;otoroshi.core.SnowFlake&quot; : &quot;1516772930422308903&quot;,
    &quot;otoroshi.core.ElCtx&quot; : {
      &quot;requestId&quot; : &quot;1516772930422308903&quot;,
      &quot;requestSnowflake&quot; : &quot;1516772930422308903&quot;,
      &quot;requestTimestamp&quot; : &quot;2022-04-20T15:37:01.548+02:00&quot;
    },
    &quot;otoroshi.next.core.Report&quot; : &quot;otoroshi.next.proxy.NgExecutionReport@277b44e2&quot;,
    &quot;otoroshi.core.RequestStart&quot; : 1650461821545,
    &quot;otoroshi.core.RequestWebsocket&quot; : false,
    &quot;otoroshi.core.RequestCounterOut&quot; : 0,
    &quot;otoroshi.core.RemainingQuotas&quot; : {
      &quot;authorizedCallsPerSec&quot; : 10000000,
      &quot;currentCallsPerSec&quot; : 0,
      &quot;remainingCallsPerSec&quot; : 10000000,
      &quot;authorizedCallsPerDay&quot; : 10000000,
      &quot;currentCallsPerDay&quot; : 2,
      &quot;remainingCallsPerDay&quot; : 9999998,
      &quot;authorizedCallsPerMonth&quot; : 10000000,
      &quot;currentCallsPerMonth&quot; : 269,
      &quot;remainingCallsPerMonth&quot; : 9999731
    },
    &quot;otoroshi.next.core.MatchedRoutes&quot; : &quot;MutableList(route_022825450-e97d-42ed-8e22-b23342c1c7c8)&quot;,
    &quot;otoroshi.core.RequestNumber&quot; : 1,
    &quot;otoroshi.next.core.Route&quot; : { ... }, // current route as json
    &quot;otoroshi.core.RequestTimestamp&quot; : &quot;2022-04-20T15:37:01.548+02:00&quot;,
    &quot;otoroshi.core.ApiKey&quot; : { ... }, // current apikey as json
    &quot;otoroshi.core.User&quot; : { ... }, // current user as json
    &quot;otoroshi.core.RequestCounterIn&quot; : 0
  },
  &quot;route&quot; : { ... },
  &quot;token&quot; : null // current valid jwt token if one
}
</code></pre>
<p>the expected value support some syntax tricks like</p>
<ul>
  <li><code>Not(value)</code> on a string to check if the current value does not equals another value</li>
  <li><code>Regex(regex)</code> on a string to check if the current value matches the regex</li>
  <li><code>RegexNot(regex)</code> on a string to check if the current value does not matches the regex</li>
  <li><code>Wildcard(*value*)</code> on a string to check if the current value matches the value with wildcards</li>
  <li><code>WildcardNot(*value*)</code> on a string to check if the current value does not matches the value with wildcards</li>
  <li><code>Contains(value)</code> on a string to check if the current value contains a value</li>
  <li><code>ContainsNot(value)</code> on a string to check if the current value does not contains a value</li>
  <li><code>Contains(Regex(regex))</code> on an array to check if one of the item of the array matches the regex</li>
  <li><code>ContainsNot(Regex(regex))</code> on an array to check if one of the item of the array does not matches the regex</li>
  <li><code>Contains(Wildcard(*value*))</code> on an array to check if one of the item of the array matches the wildcard value</li>
  <li><code>ContainsNot(Wildcard(*value*))</code> on an array to check if one of the item of the array does not matches the wildcard value</li>
  <li><code>Contains(value)</code> on an array to check if the array contains a value</li>
  <li><code>ContainsNot(value)</code> on an array to check if the array does not contains a value</li>
</ul>
<p>for instance to check if the current apikey has a metadata name <code>foo</code> with a value containing <code>bar</code>, you can write the following validator</p>
<pre class="prettyprint"><code class="language-js">{
  &quot;path&quot;: &quot;$.apikey.metadata.foo&quot;,
  &quot;value&quot;: &quot;Contains(bar)&quot;
}
</code></pre>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;validators&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.Cors" class="ng-plugin plugin-hidden pl">
<h2><a href="#cors" name="cors" class="anchor"><span class="anchor-link"></span></a>CORS</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.Cors</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin applies CORS rules</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;allow_origin&quot; : &quot;*&quot;,
  &quot;expose_headers&quot; : [ ],
  &quot;allow_headers&quot; : [ ],
  &quot;allow_methods&quot; : [ ],
  &quot;excluded_patterns&quot; : [ ],
  &quot;max_age&quot; : null,
  &quot;allow_credentials&quot; : true
}
</code></pre></div><div id="otoroshi.next.plugins.DisableHttp10" class="ng-plugin plugin-hidden pl">
<h2><a href="#disable-http-1-0" name="disable-http-1-0" class="anchor"><span class="anchor-link"></span></a>Disable HTTP/1.0</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.DisableHttp10</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin forbids HTTP/1.0 requests</p></div><div id="otoroshi.next.plugins.EndlessHttpResponse" class="ng-plugin plugin-hidden pl">
<h2><a href="#endless-http-responses" name="endless-http-responses" class="anchor"><span class="anchor-link"></span></a>Endless HTTP responses</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.EndlessHttpResponse</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin returns 128 Gb of 0 to the ip addresses is in the list</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;finger&quot; : false,
  &quot;addresses&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.ForceHttpsTraffic" class="ng-plugin plugin-hidden pl">
<h2><a href="#force-https-traffic" name="force-https-traffic" class="anchor"><span class="anchor-link"></span></a>Force HTTPS traffic</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ForceHttpsTraffic</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request uses HTTPS</p></div><div id="otoroshi.next.plugins.GlobalMaintenanceMode" class="ng-plugin plugin-hidden pl">
<h2><a href="#global-maintenance-mode" name="global-maintenance-mode" class="anchor"><span class="anchor-link"></span></a>Global Maintenance mode</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.GlobalMaintenanceMode</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin displays a maintenance page for every services. Useful when &lsquo;legacy checks&rsquo; are disabled on a service/globally</p></div><div id="otoroshi.next.plugins.GlobalPerIpAddressThrottling" class="ng-plugin plugin-hidden pl">
<h2><a href="#global-per-ip-address-throttling" name="global-per-ip-address-throttling" class="anchor"><span class="anchor-link"></span></a>Global per ip address throttling</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.GlobalPerIpAddressThrottling</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Enforce global per ip address throttling. Useful when &lsquo;legacy checks&rsquo; are disabled on a service/globally</p></div><div id="otoroshi.next.plugins.GlobalThrottling" class="ng-plugin plugin-hidden pl">
<h2><a href="#global-throttling" name="global-throttling" class="anchor"><span class="anchor-link"></span></a>Global throttling</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.GlobalThrottling</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Enforce global throttling. Useful when &lsquo;legacy checks&rsquo; are disabled on a service/globally</p></div><div id="otoroshi.next.plugins.GzipResponseCompressor" class="ng-plugin plugin-hidden pl">
<h2><a href="#gzip-compression" name="gzip-compression" class="anchor"><span class="anchor-link"></span></a>Gzip compression</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.GzipResponseCompressor</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can compress responses using gzip</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;excluded_patterns&quot; : [ ],
  &quot;allowed_list&quot; : [ &quot;text/*&quot;, &quot;application/javascript&quot;, &quot;application/json&quot; ],
  &quot;blocked_list&quot; : [ ],
  &quot;buffer_size&quot; : 8192,
  &quot;chunked_threshold&quot; : 102400,
  &quot;compression_level&quot; : 5
}
</code></pre></div><div id="otoroshi.next.plugins.HeadersValidation" class="ng-plugin plugin-hidden pl">
<h2><a href="#headers-validation" name="headers-validation" class="anchor"><span class="anchor-link"></span></a>Headers validation</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.HeadersValidation</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin validates the values of incoming request headers</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;headers&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.IpAddressAllowedList" class="ng-plugin plugin-hidden pl">
<h2><a href="#ip-allowed-list" name="ip-allowed-list" class="anchor"><span class="anchor-link"></span></a>IP allowed list</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.IpAddressAllowedList</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request ip address is in the allowed list</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;addresses&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.IpAddressBlockList" class="ng-plugin plugin-hidden pl">
<h2><a href="#ip-block-list" name="ip-block-list" class="anchor"><span class="anchor-link"></span></a>IP block list</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.IpAddressBlockList</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request ip address is not in the blocked list</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;addresses&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.JQ" class="ng-plugin plugin-hidden pl">
<h2><a href="#jq" name="jq" class="anchor"><span class="anchor-link"></span></a>JQ</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JQ</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin let you transform JSON bodies (in requests and responses) using <a href="https://stedolan.github.io/jq/manual/#Basicfilters">JQ filters</a>.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;request&quot; : &quot;.&quot;,
  &quot;response&quot; : &quot;&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.JQRequest" class="ng-plugin plugin-hidden pl">
<h2><a href="#jq-transform-request" name="jq-transform-request" class="anchor"><span class="anchor-link"></span></a>JQ transform request</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JQRequest</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin let you transform request JSON body using <a href="https://stedolan.github.io/jq/manual/#Basicfilters">JQ filters</a>.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : &quot;.&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.JQResponse" class="ng-plugin plugin-hidden pl">
<h2><a href="#jq-transform-response" name="jq-transform-response" class="anchor"><span class="anchor-link"></span></a>JQ transform response</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JQResponse</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin let you transform JSON response using <a href="https://stedolan.github.io/jq/manual/#Basicfilters">JQ filters</a>.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : &quot;.&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.JsonToXmlRequest" class="ng-plugin plugin-hidden pl">
<h2><a href="#request-body-json-to-xml" name="request-body-json-to-xml" class="anchor"><span class="anchor-link"></span></a>request body json-to-xml</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JsonToXmlRequest</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin transform incoming request body from json to xml and may apply a jq transformation</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.JsonToXmlResponse" class="ng-plugin plugin-hidden pl">
<h2><a href="#response-body-json-to-xml" name="response-body-json-to-xml" class="anchor"><span class="anchor-link"></span></a>response body json-to-xml</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JsonToXmlResponse</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin transform response body from json to xml and may apply a jq transformation</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.JwtVerification" class="ng-plugin plugin-hidden pl">
<h2><a href="#jwt-verifiers" name="jwt-verifiers" class="anchor"><span class="anchor-link"></span></a>Jwt verifiers</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JwtVerification</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request with one or more jwt verifier</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;verifiers&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.MaintenanceMode" class="ng-plugin plugin-hidden pl">
<h2><a href="#maintenance-mode" name="maintenance-mode" class="anchor"><span class="anchor-link"></span></a>Maintenance mode</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.MaintenanceMode</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin displays a maintenance page</p></div><div id="otoroshi.next.plugins.MissingHeadersIn" class="ng-plugin plugin-hidden pl">
<h2><a href="#missing-headers-in" name="missing-headers-in" class="anchor"><span class="anchor-link"></span></a>Missing headers in</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.MissingHeadersIn</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds headers (if missing) in the incoming otoroshi request</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;headers&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.MissingHeadersOut" class="ng-plugin plugin-hidden pl">
<h2><a href="#missing-headers-out" name="missing-headers-out" class="anchor"><span class="anchor-link"></span></a>Missing headers out</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.MissingHeadersOut</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds headers (if missing) in the otoroshi response</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;headers&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.MockResponses" class="ng-plugin plugin-hidden pl">
<h2><a href="#mock-responses" name="mock-responses" class="anchor"><span class="anchor-link"></span></a>Mock Responses</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.MockResponses</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin returns mock responses</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;responses&quot; : [ ],
  &quot;pass_through&quot; : true
}
</code></pre></div><div id="otoroshi.next.plugins.OtoroshiChallenge" class="ng-plugin plugin-hidden pl">
<h2><a href="#otoroshi-challenge-token" name="otoroshi-challenge-token" class="anchor"><span class="anchor-link"></span></a>Otoroshi challenge token</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OtoroshiChallenge</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds a jwt challenge token to the request to a backend and expects a response with a matching token</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;version&quot; : 2,
  &quot;ttl&quot; : 30,
  &quot;request_header_name&quot; : null,
  &quot;response_header_name&quot; : null,
  &quot;algo_to_backend&quot; : {
    &quot;type&quot; : &quot;HSAlgoSettings&quot;,
    &quot;size&quot; : 512,
    &quot;secret&quot; : &quot;secret&quot;,
    &quot;base64&quot; : false
  },
  &quot;algo_from_backend&quot; : {
    &quot;type&quot; : &quot;HSAlgoSettings&quot;,
    &quot;size&quot; : 512,
    &quot;secret&quot; : &quot;secret&quot;,
    &quot;base64&quot; : false
  },
  &quot;state_resp_leeway&quot; : 10
}
</code></pre></div><div id="otoroshi.next.plugins.OtoroshiInfos" class="ng-plugin plugin-hidden pl">
<h2><a href="#otoroshi-info-token" name="otoroshi-info-token" class="anchor"><span class="anchor-link"></span></a>Otoroshi info. token</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OtoroshiInfos</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds a jwt info. token to the request to a backend</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;version&quot; : &quot;Latest&quot;,
  &quot;ttl&quot; : 30,
  &quot;header_name&quot; : null,
  &quot;algo&quot; : {
    &quot;type&quot; : &quot;HSAlgoSettings&quot;,
    &quot;size&quot; : 512,
    &quot;secret&quot; : &quot;secret&quot;,
    &quot;base64&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.OverrideHost" class="ng-plugin plugin-hidden pl">
<h2><a href="#override-host-header" name="override-host-header" class="anchor"><span class="anchor-link"></span></a>Override host header</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OverrideHost</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin override the current Host header with the Host of the backend target</p></div><div id="otoroshi.next.plugins.PublicPrivatePaths" class="ng-plugin plugin-hidden pl">
<h2><a href="#public-private-paths" name="public-private-paths" class="anchor"><span class="anchor-link"></span></a>Public/Private paths</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.PublicPrivatePaths</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin allows or forbid request based on path patterns</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;strict&quot; : false,
  &quot;private_patterns&quot; : [ ],
  &quot;public_patterns&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.QueryTransformer" class="ng-plugin plugin-hidden pl">
<h2><a href="#query-param-transformer" name="query-param-transformer" class="anchor"><span class="anchor-link"></span></a>Query param transformer</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.QueryTransformer</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can modify the query params of the request</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;remove&quot; : [ ],
  &quot;rename&quot; : { },
  &quot;add&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.RBAC" class="ng-plugin plugin-hidden pl">
<h2><a href="#rbac" name="rbac" class="anchor"><span class="anchor-link"></span></a>RBAC</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.RBAC</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin check if current user/apikey/jwt token has the right role</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;allow&quot; : [ ],
  &quot;deny&quot; : [ ],
  &quot;allow_all&quot; : false,
  &quot;deny_all&quot; : false,
  &quot;jwt_path&quot; : null,
  &quot;apikey_path&quot; : null,
  &quot;user_path&quot; : null,
  &quot;role_prefix&quot; : null,
  &quot;roles&quot; : &quot;roles&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.ReadOnlyCalls" class="ng-plugin plugin-hidden pl">
<h2><a href="#read-only-requests" name="read-only-requests" class="anchor"><span class="anchor-link"></span></a>Read only requests</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ReadOnlyCalls</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request only reads data</p></div><div id="otoroshi.next.plugins.Redirection" class="ng-plugin plugin-hidden pl">
<h2><a href="#redirection" name="redirection" class="anchor"><span class="anchor-link"></span></a>Redirection</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.Redirection</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin redirects the current request elsewhere</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;code&quot; : 303,
  &quot;to&quot; : &quot;https://www.otoroshi.io&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.RemoveHeadersIn" class="ng-plugin plugin-hidden pl">
<h2><a href="#remove-headers-in" name="remove-headers-in" class="anchor"><span class="anchor-link"></span></a>Remove headers in</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.RemoveHeadersIn</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin removes headers in the incoming otoroshi request</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;header_names&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.RemoveHeadersOut" class="ng-plugin plugin-hidden pl">
<h2><a href="#remove-headers-out" name="remove-headers-out" class="anchor"><span class="anchor-link"></span></a>Remove headers out</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.RemoveHeadersOut</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin removes headers in the otoroshi response</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;header_names&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.Robots" class="ng-plugin plugin-hidden pl">
<h2><a href="#robots" name="robots" class="anchor"><span class="anchor-link"></span></a>Robots</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.Robots</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin provides all the necessary tool to handle search engine robots</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;robot_txt_enabled&quot; : true,
  &quot;robot_txt_content&quot; : &quot;User-agent: *\nDisallow: /\n&quot;,
  &quot;meta_enabled&quot; : true,
  &quot;meta_content&quot; : &quot;noindex,nofollow,noarchive&quot;,
  &quot;header_enabled&quot; : true,
  &quot;header_content&quot; : &quot;noindex, nofollow, noarchive&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.RoutingRestrictions" class="ng-plugin plugin-hidden pl">
<h2><a href="#routing-restrictions" name="routing-restrictions" class="anchor"><span class="anchor-link"></span></a>Routing Restrictions</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.RoutingRestrictions</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin apply routing restriction <code>method domain/path</code> on the current request/route</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;allow_last&quot; : true,
  &quot;allowed&quot; : [ ],
  &quot;forbidden&quot; : [ ],
  &quot;not_found&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.SOAPAction" class="ng-plugin plugin-hidden pl">
<h2><a href="#soap-action" name="soap-action" class="anchor"><span class="anchor-link"></span></a>SOAP action</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.SOAPAction</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin is able to call SOAP actions and expose it as a rest endpoint</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;url&quot; : null,
  &quot;envelope&quot; : &quot;&lt;soap envelope /&gt;&quot;,
  &quot;action&quot; : null,
  &quot;preserve_query&quot; : true,
  &quot;charset&quot; : null,
  &quot;jq_request_filter&quot; : null,
  &quot;jq_response_filter&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.SendOtoroshiHeadersBack" class="ng-plugin plugin-hidden pl">
<h2><a href="#send-otoroshi-headers-back" name="send-otoroshi-headers-back" class="anchor"><span class="anchor-link"></span></a>Send otoroshi headers back</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.SendOtoroshiHeadersBack</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds response header containing useful informations about the current call</p></div><div id="otoroshi.next.plugins.SnowMonkeyChaos" class="ng-plugin plugin-hidden pl">
<h2><a href="#snow-monkey-chaos" name="snow-monkey-chaos" class="anchor"><span class="anchor-link"></span></a>Snow Monkey Chaos</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.SnowMonkeyChaos</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin introduce some chaos into you life</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;large_request_fault&quot; : null,
  &quot;large_response_fault&quot; : null,
  &quot;latency_injection_fault&quot; : null,
  &quot;bad_responses_fault&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.StaticResponse" class="ng-plugin plugin-hidden pl">
<h2><a href="#static-response" name="static-response" class="anchor"><span class="anchor-link"></span></a>Static Response</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.StaticResponse</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin returns static responses</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;status&quot; : 200,
  &quot;headers&quot; : { },
  &quot;body&quot; : &quot;&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.TcpTunnel" class="ng-plugin plugin-hidden pl">
<h2><a href="#tcp-tunnel" name="tcp-tunnel" class="anchor"><span class="anchor-link"></span></a>TCP Tunnel</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>HandlesTunnel</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.TcpTunnel</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin creates TCP tunnels through otoroshi</p></div><div id="otoroshi.next.plugins.UdpTunnel" class="ng-plugin plugin-hidden pl">
<h2><a href="#udp-tunnel" name="udp-tunnel" class="anchor"><span class="anchor-link"></span></a>UDP Tunnel</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>HandlesTunnel</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.UdpTunnel</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin creates UDP tunnels through otoroshi</p></div><div id="otoroshi.next.plugins.W3CTracing" class="ng-plugin plugin-hidden pl">
<h2><a href="#w3c-trace-context" name="w3c-trace-context" class="anchor"><span class="anchor-link"></span></a>W3C Trace Context</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.W3CTracing</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin propagates W3C Trace Context spans and can export it to Jaeger or Zipkin</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;kind&quot; : &quot;noop&quot;,
  &quot;endpoint&quot; : &quot;http://localhost:3333/spans&quot;,
  &quot;timeout&quot; : 30000,
  &quot;baggage&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.XForwardedHeaders" class="ng-plugin plugin-hidden pl">
<h2><a href="#x-forwarded-headers" name="x-forwarded-headers" class="anchor"><span class="anchor-link"></span></a>X-Forwarded-* headers</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.XForwardedHeaders</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds all the X-Forwarder-* headers to the request for the backend target</p></div><div id="otoroshi.next.plugins.XmlToJsonRequest" class="ng-plugin plugin-hidden pl">
<h2><a href="#request-body-xml-to-json" name="request-body-xml-to-json" class="anchor"><span class="anchor-link"></span></a>request body xml-to-json</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.XmlToJsonRequest</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin transform incoming request body from xml to json and may apply a jq transformation</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.XmlToJsonResponse" class="ng-plugin plugin-hidden pl">
<h2><a href="#response-body-xml-to-json" name="response-body-xml-to-json" class="anchor"><span class="anchor-link"></span></a>response body xml-to-json</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.XmlToJsonResponse</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin transform response body from xml to json and may apply a jq transformation</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : null
}
</code></pre></div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="../next/built-in-plugins.html#built-in-plugins" class="header">Built-in plugins</a>
  <ul>
    <li><a href="../next/built-in-plugins.html#additional-headers-in" class="header">Additional headers in</a></li>
    <li><a href="../next/built-in-plugins.html#additional-headers-out" class="header">Additional headers out</a></li>
    <li><a href="../next/built-in-plugins.html#allowed-http-methods" class="header">Allowed HTTP methods</a></li>
    <li><a href="../next/built-in-plugins.html#apikeys" class="header">Apikeys</a></li>
    <li><a href="../next/built-in-plugins.html#apikey-quotas" class="header">Apikey quotas</a></li>
    <li><a href="../next/built-in-plugins.html#authentication" class="header">Authentication</a></li>
    <li><a href="../next/built-in-plugins.html#build-mode" class="header">Build mode</a></li>
    <li><a href="../next/built-in-plugins.html#canary-mode" class="header">Canary mode</a></li>
    <li><a href="../next/built-in-plugins.html#context-validator" class="header">Context validator</a></li>
    <li><a href="../next/built-in-plugins.html#cors" class="header">CORS</a></li>
    <li><a href="../next/built-in-plugins.html#disable-http-1-0" class="header">Disable HTTP/1.0</a></li>
    <li><a href="../next/built-in-plugins.html#endless-http-responses" class="header">Endless HTTP responses</a></li>
    <li><a href="../next/built-in-plugins.html#force-https-traffic" class="header">Force HTTPS traffic</a></li>
    <li><a href="../next/built-in-plugins.html#global-maintenance-mode" class="header">Global Maintenance mode</a></li>
    <li><a href="../next/built-in-plugins.html#global-per-ip-address-throttling" class="header">Global per ip address throttling</a></li>
    <li><a href="../next/built-in-plugins.html#global-throttling" class="header">Global throttling</a></li>
    <li><a href="../next/built-in-plugins.html#gzip-compression" class="header">Gzip compression</a></li>
    <li><a href="../next/built-in-plugins.html#headers-validation" class="header">Headers validation</a></li>
    <li><a href="../next/built-in-plugins.html#ip-allowed-list" class="header">IP allowed list</a></li>
    <li><a href="../next/built-in-plugins.html#ip-block-list" class="header">IP block list</a></li>
    <li><a href="../next/built-in-plugins.html#jq" class="header">JQ</a></li>
    <li><a href="../next/built-in-plugins.html#jq-transform-request" class="header">JQ transform request</a></li>
    <li><a href="../next/built-in-plugins.html#jq-transform-response" class="header">JQ transform response</a></li>
    <li><a href="../next/built-in-plugins.html#request-body-json-to-xml" class="header">request body json-to-xml</a></li>
    <li><a href="../next/built-in-plugins.html#response-body-json-to-xml" class="header">response body json-to-xml</a></li>
    <li><a href="../next/built-in-plugins.html#jwt-verifiers" class="header">Jwt verifiers</a></li>
    <li><a href="../next/built-in-plugins.html#maintenance-mode" class="header">Maintenance mode</a></li>
    <li><a href="../next/built-in-plugins.html#missing-headers-in" class="header">Missing headers in</a></li>
    <li><a href="../next/built-in-plugins.html#missing-headers-out" class="header">Missing headers out</a></li>
    <li><a href="../next/built-in-plugins.html#mock-responses" class="header">Mock Responses</a></li>
    <li><a href="../next/built-in-plugins.html#otoroshi-challenge-token" class="header">Otoroshi challenge token</a></li>
    <li><a href="../next/built-in-plugins.html#otoroshi-info-token" class="header">Otoroshi info. token</a></li>
    <li><a href="../next/built-in-plugins.html#override-host-header" class="header">Override host header</a></li>
    <li><a href="../next/built-in-plugins.html#public-private-paths" class="header">Public/Private paths</a></li>
    <li><a href="../next/built-in-plugins.html#query-param-transformer" class="header">Query param transformer</a></li>
    <li><a href="../next/built-in-plugins.html#rbac" class="header">RBAC</a></li>
    <li><a href="../next/built-in-plugins.html#read-only-requests" class="header">Read only requests</a></li>
    <li><a href="../next/built-in-plugins.html#redirection" class="header">Redirection</a></li>
    <li><a href="../next/built-in-plugins.html#remove-headers-in" class="header">Remove headers in</a></li>
    <li><a href="../next/built-in-plugins.html#remove-headers-out" class="header">Remove headers out</a></li>
    <li><a href="../next/built-in-plugins.html#robots" class="header">Robots</a></li>
    <li><a href="../next/built-in-plugins.html#routing-restrictions" class="header">Routing Restrictions</a></li>
    <li><a href="../next/built-in-plugins.html#soap-action" class="header">SOAP action</a></li>
    <li><a href="../next/built-in-plugins.html#send-otoroshi-headers-back" class="header">Send otoroshi headers back</a></li>
    <li><a href="../next/built-in-plugins.html#snow-monkey-chaos" class="header">Snow Monkey Chaos</a></li>
    <li><a href="../next/built-in-plugins.html#static-response" class="header">Static Response</a></li>
    <li><a href="../next/built-in-plugins.html#tcp-tunnel" class="header">TCP Tunnel</a></li>
    <li><a href="../next/built-in-plugins.html#udp-tunnel" class="header">UDP Tunnel</a></li>
    <li><a href="../next/built-in-plugins.html#w3c-trace-context" class="header">W3C Trace Context</a></li>
    <li><a href="../next/built-in-plugins.html#x-forwarded-headers" class="header">X-Forwarded-* headers</a></li>
    <li><a href="../next/built-in-plugins.html#request-body-xml-to-json" class="header">request body xml-to-json</a></li>
    <li><a href="../next/built-in-plugins.html#response-body-xml-to-json" class="header">response body xml-to-json</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2022</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="../lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.5/elasticlunr.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112498312-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-112498312-1');
</script>
</html>





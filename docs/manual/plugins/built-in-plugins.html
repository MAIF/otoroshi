<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Built-in plugins · Otoroshi</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='otoroshi-manual'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/cc.js"></script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/plugins.js"></script>
<script type="text/javascript" src="../js/ngplugins.js"></script>
<script type="text/javascript" src="../js/expression-language.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>
<link rel="stylesheet" type="text/css" href="../css/plugins.css"/>

<!--
<link rel="shortcut icon" href="../images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>Otoroshi
</a>
<div class="version-number">
16.4.0
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../about.html" class="page">About Otoroshi</a></li>
  <li><a href="../architecture.html" class="page">Architecture</a></li>
  <li><a href="../features.html" class="page">Features</a></li>
  <li><a href="../getting-started.html" class="page">Getting Started</a></li>
  <li><a href="../install/index.html" class="page">Install</a>
  <ul>
    <li><a href="../install/get-otoroshi.html" class="page">Get Otoroshi</a></li>
    <li><a href="../install/setup-otoroshi.html" class="page">Setup Otoroshi</a></li>
    <li><a href="../install/run-otoroshi.html" class="page">Run Otoroshi</a></li>
  </ul></li>
  <li><a href="../entities/index.html" class="page">Main entities</a>
  <ul>
    <li><a href="../entities/routes.html" class="page">Routes</a></li>
    <li><a href="../entities/backends.html" class="page">Backends</a></li>
    <li><a href="../entities/organizations.html" class="page">Organizations</a></li>
    <li><a href="../entities/teams.html" class="page">Teams</a></li>
    <li><a href="../entities/global-config.html" class="page">Global config</a></li>
    <li><a href="../entities/apikeys.html" class="page">Apikeys</a></li>
    <li><a href="../entities/service-groups.html" class="page">Service groups</a></li>
    <li><a href="../entities/auth-modules.html" class="page">Authentication modules</a></li>
    <li><a href="../entities/certificates.html" class="page">Certificates</a></li>
    <li><a href="../entities/jwt-verifiers.html" class="page">JWT verifiers</a></li>
    <li><a href="../entities/data-exporters.html" class="page">Data exporters</a></li>
    <li><a href="../entities/scripts.html" class="page">Scripts</a></li>
    <li><a href="../entities/tcp-services.html" class="page">TCP services</a></li>
    <li><a href="../entities/service-descriptors.html" class="page">Service descriptors</a></li>
  </ul></li>
  <li><a href="../topics/index.html" class="page">Detailed topics</a>
  <ul>
    <li><a href="../topics/engine.html" class="page">Proxy engine</a></li>
    <li><a href="../topics/wasm-usage.html" class="page">Otoroshi and WASM</a></li>
    <li><a href="../topics/chaos-engineering.html" class="page">Chaos engineering with the Snow Monkey</a></li>
    <li><a href="../topics/tls.html" class="page">TLS</a></li>
    <li><a href="../topics/pki.html" class="page">Otoroshi&rsquo;s PKI</a></li>
    <li><a href="../topics/monitoring.html" class="page">Monitoring</a></li>
    <li><a href="../topics/events-and-analytics.html" class="page">Events and analytics</a></li>
    <li><a href="../topics/dev-portal.html" class="page">Developer portal with Daikoku</a></li>
    <li><a href="../topics/sessions-mgmt.html" class="page">Sessions management</a></li>
    <li><a href="../topics/otoroshi-protocol.html" class="page">The Otoroshi communication protocol</a></li>
    <li><a href="../topics/expression-language.html" class="page">Expression language</a></li>
    <li><a href="../topics/user-rights.html" class="page">Otoroshi user rights</a></li>
    <li><a href="../topics/graphql-composer.html" class="page">GraphQL Composer Plugin</a></li>
    <li><a href="../topics/secrets.html" class="page">Secrets management</a></li>
    <li><a href="../topics/tunnels.html" class="page">Otoroshi tunnels</a></li>
    <li><a href="../topics/relay-routing.html" class="page">Relay Routing</a></li>
    <li><a href="../topics/netty-server.html" class="page">Alternative HTTP server</a></li>
    <li><a href="../topics/http3.html" class="page">HTTP3 support</a></li>
    <li><a href="../topics/anonymous-reporting.html" class="page">Anonymous reporting</a></li>
  </ul></li>
  <li><a href="../how-to-s/index.html" class="page">How to&rsquo;s</a>
  <ul>
    <li><a href="../how-to-s/wasm-usage.html" class="page">Using wasm plugins</a></li>
    <li><a href="../how-to-s/wasm-manager-installation.html" class="page">Deploy your own WASM Manager</a></li>
    <li><a href="../how-to-s/tailscale-integration.html" class="page">Tailscale integration</a></li>
    <li><a href="../how-to-s/end-to-end-mtls.html" class="page">End-to-end mTLS</a></li>
    <li><a href="../how-to-s/export-alerts-using-mailgun.html" class="page">Send alerts using mailgun</a></li>
    <li><a href="../how-to-s/export-events-to-elastic.html" class="page">Export events to Elasticsearch</a></li>
    <li><a href="../how-to-s/import-export-otoroshi-datastore.html" class="page">Import and export Otoroshi datastore</a></li>
    <li><a href="../how-to-s/secure-app-with-auth0.html" class="page">Secure an app with Auth0</a></li>
    <li><a href="../how-to-s/secure-app-with-keycloak.html" class="page">Secure an app with Keycloak</a></li>
    <li><a href="../how-to-s/secure-app-with-ldap.html" class="page">Secure an app and/or your Otoroshi UI with LDAP</a></li>
    <li><a href="../how-to-s/secure-with-apikey.html" class="page">Secure an api with api keys</a></li>
    <li><a href="../how-to-s/secure-with-oauth1-client.html" class="page">Secure an app with OAuth1 client flow</a></li>
    <li><a href="../how-to-s/secure-with-oauth2-client-credentials.html" class="page">Secure an app with OAuth2 client_credential flow</a></li>
    <li><a href="../how-to-s/setup-otoroshi-cluster.html" class="page">Setup an Otoroshi cluster</a></li>
    <li><a href="../how-to-s/tls-using-lets-encrypt.html" class="page">TLS termination using Let&rsquo;s Encrypt</a></li>
    <li><a href="../how-to-s/secure-an-app-with-jwt-verifiers.html" class="page">Secure an api with jwt verifiers</a></li>
    <li><a href="../how-to-s/secure-the-communication-between-a-backend-app-and-otoroshi.html" class="page">Secure the communication between a backend app and Otoroshi</a></li>
    <li><a href="../how-to-s/tls-termination-using-own-certificates.html" class="page">TLS termination using your own certificates</a></li>
    <li><a href="../how-to-s/resources-loader.html" class="page">The resources loader</a></li>
    <li><a href="../how-to-s/custom-log-levels.html" class="page">Log levels customization</a></li>
    <li><a href="../how-to-s/custom-initial-state.html" class="page">Initial state customization</a></li>
    <li><a href="../how-to-s/communicate-with-kafka.html" class="page">Communicate with Kafka</a></li>
    <li><a href="../how-to-s/create-custom-auth-module.html" class="page">Create your Authentication module</a></li>
    <li><a href="../how-to-s/working-with-eureka.html" class="page">Working with Eureka</a></li>
    <li><a href="../how-to-s/instanciate-waf-coraza.html" class="page">Instanciate a WAF with Coraza</a></li>
  </ul></li>
  <li><a href="../plugins/index.html" class="page">Otoroshi plugins</a>
  <ul>
    <li><a href="../plugins/plugins.html" class="page">Otoroshi plugins system</a></li>
    <li><a href="../plugins/create-plugins.html" class="page">Create plugins</a></li>
    <li><a href="../plugins/built-in-plugins.html" class="active page">Built-in plugins</a></li>
    <li><a href="../plugins/built-in-legacy-plugins.html" class="page">Built-in legacy plugins</a></li>
  </ul></li>
  <li><a href="../api.html" class="page">Admin REST API</a></li>
  <li><a href="../deploy/index.html" class="page">Deploy to production</a>
  <ul>
    <li><a href="../deploy/clustering.html" class="page">Otoroshi clustering</a></li>
    <li><a href="../deploy/kubernetes.html" class="page">Kubernetes</a></li>
    <li><a href="../deploy/clever-cloud.html" class="page">Clever-Cloud</a></li>
    <li><a href="../deploy/aws.html" class="page">AWS - Elastic Beanstalk</a></li>
    <li><a href="../deploy/scaling.html" class="page">Scaling Otoroshi</a></li>
  </ul></li>
  <li><a href="../dev.html" class="page">Developing Otoroshi</a></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title-wrapper">
<div class="title-logo"></div>
<div class="title"><a href="../index.html">Otoroshi</a></div>
</div>
<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>Otoroshi
</a>
<div class="version-number">
16.4.0
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../about.html" class="page">About Otoroshi</a></li>
  <li><a href="../architecture.html" class="page">Architecture</a></li>
  <li><a href="../features.html" class="page">Features</a></li>
  <li><a href="../getting-started.html" class="page">Getting Started</a></li>
  <li><a href="../install/index.html" class="page">Install</a>
  <ul>
    <li><a href="../install/get-otoroshi.html" class="page">Get Otoroshi</a></li>
    <li><a href="../install/setup-otoroshi.html" class="page">Setup Otoroshi</a></li>
    <li><a href="../install/run-otoroshi.html" class="page">Run Otoroshi</a></li>
  </ul></li>
  <li><a href="../entities/index.html" class="page">Main entities</a>
  <ul>
    <li><a href="../entities/routes.html" class="page">Routes</a></li>
    <li><a href="../entities/backends.html" class="page">Backends</a></li>
    <li><a href="../entities/organizations.html" class="page">Organizations</a></li>
    <li><a href="../entities/teams.html" class="page">Teams</a></li>
    <li><a href="../entities/global-config.html" class="page">Global config</a></li>
    <li><a href="../entities/apikeys.html" class="page">Apikeys</a></li>
    <li><a href="../entities/service-groups.html" class="page">Service groups</a></li>
    <li><a href="../entities/auth-modules.html" class="page">Authentication modules</a></li>
    <li><a href="../entities/certificates.html" class="page">Certificates</a></li>
    <li><a href="../entities/jwt-verifiers.html" class="page">JWT verifiers</a></li>
    <li><a href="../entities/data-exporters.html" class="page">Data exporters</a></li>
    <li><a href="../entities/scripts.html" class="page">Scripts</a></li>
    <li><a href="../entities/tcp-services.html" class="page">TCP services</a></li>
    <li><a href="../entities/service-descriptors.html" class="page">Service descriptors</a></li>
  </ul></li>
  <li><a href="../topics/index.html" class="page">Detailed topics</a>
  <ul>
    <li><a href="../topics/engine.html" class="page">Proxy engine</a></li>
    <li><a href="../topics/wasm-usage.html" class="page">Otoroshi and WASM</a></li>
    <li><a href="../topics/chaos-engineering.html" class="page">Chaos engineering with the Snow Monkey</a></li>
    <li><a href="../topics/tls.html" class="page">TLS</a></li>
    <li><a href="../topics/pki.html" class="page">Otoroshi&rsquo;s PKI</a></li>
    <li><a href="../topics/monitoring.html" class="page">Monitoring</a></li>
    <li><a href="../topics/events-and-analytics.html" class="page">Events and analytics</a></li>
    <li><a href="../topics/dev-portal.html" class="page">Developer portal with Daikoku</a></li>
    <li><a href="../topics/sessions-mgmt.html" class="page">Sessions management</a></li>
    <li><a href="../topics/otoroshi-protocol.html" class="page">The Otoroshi communication protocol</a></li>
    <li><a href="../topics/expression-language.html" class="page">Expression language</a></li>
    <li><a href="../topics/user-rights.html" class="page">Otoroshi user rights</a></li>
    <li><a href="../topics/graphql-composer.html" class="page">GraphQL Composer Plugin</a></li>
    <li><a href="../topics/secrets.html" class="page">Secrets management</a></li>
    <li><a href="../topics/tunnels.html" class="page">Otoroshi tunnels</a></li>
    <li><a href="../topics/relay-routing.html" class="page">Relay Routing</a></li>
    <li><a href="../topics/netty-server.html" class="page">Alternative HTTP server</a></li>
    <li><a href="../topics/http3.html" class="page">HTTP3 support</a></li>
    <li><a href="../topics/anonymous-reporting.html" class="page">Anonymous reporting</a></li>
  </ul></li>
  <li><a href="../how-to-s/index.html" class="page">How to&rsquo;s</a>
  <ul>
    <li><a href="../how-to-s/wasm-usage.html" class="page">Using wasm plugins</a></li>
    <li><a href="../how-to-s/wasm-manager-installation.html" class="page">Deploy your own WASM Manager</a></li>
    <li><a href="../how-to-s/tailscale-integration.html" class="page">Tailscale integration</a></li>
    <li><a href="../how-to-s/end-to-end-mtls.html" class="page">End-to-end mTLS</a></li>
    <li><a href="../how-to-s/export-alerts-using-mailgun.html" class="page">Send alerts using mailgun</a></li>
    <li><a href="../how-to-s/export-events-to-elastic.html" class="page">Export events to Elasticsearch</a></li>
    <li><a href="../how-to-s/import-export-otoroshi-datastore.html" class="page">Import and export Otoroshi datastore</a></li>
    <li><a href="../how-to-s/secure-app-with-auth0.html" class="page">Secure an app with Auth0</a></li>
    <li><a href="../how-to-s/secure-app-with-keycloak.html" class="page">Secure an app with Keycloak</a></li>
    <li><a href="../how-to-s/secure-app-with-ldap.html" class="page">Secure an app and/or your Otoroshi UI with LDAP</a></li>
    <li><a href="../how-to-s/secure-with-apikey.html" class="page">Secure an api with api keys</a></li>
    <li><a href="../how-to-s/secure-with-oauth1-client.html" class="page">Secure an app with OAuth1 client flow</a></li>
    <li><a href="../how-to-s/secure-with-oauth2-client-credentials.html" class="page">Secure an app with OAuth2 client_credential flow</a></li>
    <li><a href="../how-to-s/setup-otoroshi-cluster.html" class="page">Setup an Otoroshi cluster</a></li>
    <li><a href="../how-to-s/tls-using-lets-encrypt.html" class="page">TLS termination using Let&rsquo;s Encrypt</a></li>
    <li><a href="../how-to-s/secure-an-app-with-jwt-verifiers.html" class="page">Secure an api with jwt verifiers</a></li>
    <li><a href="../how-to-s/secure-the-communication-between-a-backend-app-and-otoroshi.html" class="page">Secure the communication between a backend app and Otoroshi</a></li>
    <li><a href="../how-to-s/tls-termination-using-own-certificates.html" class="page">TLS termination using your own certificates</a></li>
    <li><a href="../how-to-s/resources-loader.html" class="page">The resources loader</a></li>
    <li><a href="../how-to-s/custom-log-levels.html" class="page">Log levels customization</a></li>
    <li><a href="../how-to-s/custom-initial-state.html" class="page">Initial state customization</a></li>
    <li><a href="../how-to-s/communicate-with-kafka.html" class="page">Communicate with Kafka</a></li>
    <li><a href="../how-to-s/create-custom-auth-module.html" class="page">Create your Authentication module</a></li>
    <li><a href="../how-to-s/working-with-eureka.html" class="page">Working with Eureka</a></li>
    <li><a href="../how-to-s/instanciate-waf-coraza.html" class="page">Instanciate a WAF with Coraza</a></li>
  </ul></li>
  <li><a href="../plugins/index.html" class="page">Otoroshi plugins</a>
  <ul>
    <li><a href="../plugins/plugins.html" class="page">Otoroshi plugins system</a></li>
    <li><a href="../plugins/create-plugins.html" class="page">Create plugins</a></li>
    <li><a href="../plugins/built-in-plugins.html" class="active page">Built-in plugins</a></li>
    <li><a href="../plugins/built-in-legacy-plugins.html" class="page">Built-in legacy plugins</a></li>
  </ul></li>
  <li><a href="../api.html" class="page">Admin REST API</a></li>
  <li><a href="../deploy/index.html" class="page">Deploy to production</a>
  <ul>
    <li><a href="../deploy/clustering.html" class="page">Otoroshi clustering</a></li>
    <li><a href="../deploy/kubernetes.html" class="page">Kubernetes</a></li>
    <li><a href="../deploy/clever-cloud.html" class="page">Clever-Cloud</a></li>
    <li><a href="../deploy/aws.html" class="page">AWS - Elastic Beanstalk</a></li>
    <li><a href="../deploy/scaling.html" class="page">Scaling Otoroshi</a></li>
  </ul></li>
  <li><a href="../dev.html" class="page">Developing Otoroshi</a></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="../index.html">Otoroshi</a></li>
  <li><a href="../plugins/index.html">Otoroshi plugins</a></li>
  <li>Built-in plugins</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#built-in-plugins" name="built-in-plugins" class="anchor"><span class="anchor-link"></span></a>Built-in plugins</h1>
<p>Otoroshi next provides some plugins out of the box. Here is the available plugins with their documentation and reference configuration</p><div id="otoroshi.next.plugins.AdditionalHeadersIn" class="ng-plugin plugin-hidden pl">
<h2><a href="#additional-headers-in" name="additional-headers-in" class="anchor"><span class="anchor-link"></span></a>Additional headers in</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.AdditionalHeadersIn</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds headers in the incoming otoroshi request</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;headers&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.AdditionalHeadersOut" class="ng-plugin plugin-hidden pl">
<h2><a href="#additional-headers-out" name="additional-headers-out" class="anchor"><span class="anchor-link"></span></a>Additional headers out</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.AdditionalHeadersOut</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds headers in the otoroshi response</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;headers&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.AllowHttpMethods" class="ng-plugin plugin-hidden pl">
<h2><a href="#allowed-http-methods" name="allowed-http-methods" class="anchor"><span class="anchor-link"></span></a>Allowed HTTP methods</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.AllowHttpMethods</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request only uses allowed http methods</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;allowed&quot; : [ ],
  &quot;forbidden&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.ApikeyAuthModule" class="ng-plugin plugin-hidden pl">
<h2><a href="#apikey-auth-module" name="apikey-auth-module" class="anchor"><span class="anchor-link"></span></a>Apikey auth module</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ApikeyAuthModule</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds basic auth on service where credentials are valid apikeys on the current service.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;realm&quot; : &quot;apikey-auth-module-realm&quot;,
  &quot;matcher&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.ApikeyCalls" class="ng-plugin plugin-hidden pl">
<h2><a href="#apikeys" name="apikeys" class="anchor"><span class="anchor-link"></span></a>Apikeys</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>MatchRoute</code></li>
  <li><code>ValidateAccess</code></li>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ApikeyCalls</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin expects to find an apikey to allow the request to pass</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;extractors&quot; : {
    &quot;basic&quot; : {
      &quot;enabled&quot; : true,
      &quot;header_name&quot; : null,
      &quot;query_name&quot; : null
    },
    &quot;custom_headers&quot; : {
      &quot;enabled&quot; : true,
      &quot;client_id_header_name&quot; : null,
      &quot;client_secret_header_name&quot; : null
    },
    &quot;client_id&quot; : {
      &quot;enabled&quot; : true,
      &quot;header_name&quot; : null,
      &quot;query_name&quot; : null
    },
    &quot;jwt&quot; : {
      &quot;enabled&quot; : true,
      &quot;secret_signed&quot; : true,
      &quot;keypair_signed&quot; : true,
      &quot;include_request_attrs&quot; : false,
      &quot;max_jwt_lifespan_sec&quot; : null,
      &quot;header_name&quot; : null,
      &quot;query_name&quot; : null,
      &quot;cookie_name&quot; : null
    }
  },
  &quot;routing&quot; : {
    &quot;enabled&quot; : false
  },
  &quot;validate&quot; : true,
  &quot;mandatory&quot; : true,
  &quot;pass_with_user&quot; : false,
  &quot;wipe_backend_request&quot; : true,
  &quot;update_quotas&quot; : true
}
</code></pre></div><div id="otoroshi.next.plugins.ApikeyQuotas" class="ng-plugin plugin-hidden pl">
<h2><a href="#apikey-quotas" name="apikey-quotas" class="anchor"><span class="anchor-link"></span></a>Apikey quotas</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ApikeyQuotas</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Increments quotas for the currents apikey. Useful when &lsquo;legacy checks&rsquo; are disabled on a service/globally or when apikey are extracted in a custom fashion.</p></div><div id="otoroshi.next.plugins.AuthModule" class="ng-plugin plugin-hidden pl">
<h2><a href="#authentication" name="authentication" class="anchor"><span class="anchor-link"></span></a>Authentication</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.AuthModule</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin applies an authentication module</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;pass_with_apikey&quot; : false,
  &quot;auth_module&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.BasicAuthCaller" class="ng-plugin plugin-hidden pl">
<h2><a href="#basic-auth-caller" name="basic-auth-caller" class="anchor"><span class="anchor-link"></span></a>Basic Auth. caller</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.BasicAuthCaller</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can be used to call api that are authenticated using basic auth.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;username&quot; : null,
  &quot;passaword&quot; : null,
  &quot;headerName&quot; : &quot;Authorization&quot;,
  &quot;headerValueFormat&quot; : &quot;Basic %s&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.BuildMode" class="ng-plugin plugin-hidden pl">
<h2><a href="#build-mode" name="build-mode" class="anchor"><span class="anchor-link"></span></a>Build mode</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.BuildMode</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin displays a build page</p></div><div id="otoroshi.next.plugins.CanaryMode" class="ng-plugin plugin-hidden pl">
<h2><a href="#canary-mode" name="canary-mode" class="anchor"><span class="anchor-link"></span></a>Canary mode</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.CanaryMode</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can split a portion of the traffic to canary backends</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;traffic&quot; : 0.2,
  &quot;targets&quot; : [ ],
  &quot;root&quot; : &quot;/&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.ContextValidation" class="ng-plugin plugin-hidden pl">
<h2><a href="#context-validator" name="context-validator" class="anchor"><span class="anchor-link"></span></a>Context validator</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ContextValidation</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin validates the current context using JSONPath validators.</p>
<p>This plugin let you configure a list of validators that will check if the current call can pass. A validator is composed of a <a href="https://goessner.net/articles/JsonPath/">JSONPath</a> that will tell what to check and a value that is the expected value. The JSONPath will be applied on a document that will look like</p>
<pre class="prettyprint"><code class="language-js">{
  &quot;snowflake&quot; : &quot;1516772930422308903&quot;,
  &quot;apikey&quot; : { // current apikey
    &quot;clientId&quot; : &quot;vrmElDerycXrofar&quot;,
    &quot;clientName&quot; : &quot;default-apikey&quot;,
    &quot;metadata&quot; : {
      &quot;foo&quot; : &quot;bar&quot;
    },
    &quot;tags&quot; : [ ]
  },
  &quot;user&quot; : null, //  current user
  &quot;request&quot; : {
    &quot;id&quot; : 1,
    &quot;method&quot; : &quot;GET&quot;,
    &quot;headers&quot; : {
      &quot;Host&quot; : &quot;ctx-validation-next-gen.oto.tools:9999&quot;,
      &quot;Accept&quot; : &quot;*/*&quot;,
      &quot;User-Agent&quot; : &quot;curl/7.64.1&quot;,
      &quot;Authorization&quot; : &quot;Basic dnJtRWxEZXJ5Y1hyb2ZhcjpvdDdOSTkyVGI2Q2J4bWVMYU9UNzJxamdCU2JlRHNLbkxtY1FBcXBjVjZTejh0Z3I1b2RUOHAzYjB5SEVNRzhZ&quot;,
      &quot;Remote-Address&quot; : &quot;127.0.0.1:58929&quot;,
      &quot;Timeout-Access&quot; : &quot;&lt;function1&gt;&quot;,
      &quot;Raw-Request-URI&quot; : &quot;/foo&quot;,
      &quot;Tls-Session-Info&quot; : &quot;Session(1650461821330|SSL_NULL_WITH_NULL_NULL)&quot;
    },
    &quot;cookies&quot; : [ ],
    &quot;tls&quot; : false,
    &quot;uri&quot; : &quot;/foo&quot;,
    &quot;path&quot; : &quot;/foo&quot;,
    &quot;version&quot; : &quot;HTTP/1.1&quot;,
    &quot;has_body&quot; : false,
    &quot;remote&quot; : &quot;127.0.0.1&quot;,
    &quot;client_cert_chain&quot; : null
  },
  &quot;config&quot; : {
    &quot;validators&quot; : [ {
      &quot;path&quot; : &quot;$.apikey.metadata.foo&quot;,
      &quot;value&quot; : &quot;bar&quot;
    } ]
  },
  &quot;global_config&quot; : { ... }, // global config
  &quot;attrs&quot; : {
    &quot;otoroshi.core.SnowFlake&quot; : &quot;1516772930422308903&quot;,
    &quot;otoroshi.core.ElCtx&quot; : {
      &quot;requestId&quot; : &quot;1516772930422308903&quot;,
      &quot;requestSnowflake&quot; : &quot;1516772930422308903&quot;,
      &quot;requestTimestamp&quot; : &quot;2022-04-20T15:37:01.548+02:00&quot;
    },
    &quot;otoroshi.next.core.Report&quot; : &quot;otoroshi.next.proxy.NgExecutionReport@277b44e2&quot;,
    &quot;otoroshi.core.RequestStart&quot; : 1650461821545,
    &quot;otoroshi.core.RequestWebsocket&quot; : false,
    &quot;otoroshi.core.RequestCounterOut&quot; : 0,
    &quot;otoroshi.core.RemainingQuotas&quot; : {
      &quot;authorizedCallsPerSec&quot; : 10000000,
      &quot;currentCallsPerSec&quot; : 0,
      &quot;remainingCallsPerSec&quot; : 10000000,
      &quot;authorizedCallsPerDay&quot; : 10000000,
      &quot;currentCallsPerDay&quot; : 2,
      &quot;remainingCallsPerDay&quot; : 9999998,
      &quot;authorizedCallsPerMonth&quot; : 10000000,
      &quot;currentCallsPerMonth&quot; : 269,
      &quot;remainingCallsPerMonth&quot; : 9999731
    },
    &quot;otoroshi.next.core.MatchedRoutes&quot; : &quot;MutableList(route_022825450-e97d-42ed-8e22-b23342c1c7c8)&quot;,
    &quot;otoroshi.core.RequestNumber&quot; : 1,
    &quot;otoroshi.next.core.Route&quot; : { ... }, // current route as json
    &quot;otoroshi.core.RequestTimestamp&quot; : &quot;2022-04-20T15:37:01.548+02:00&quot;,
    &quot;otoroshi.core.ApiKey&quot; : { ... }, // current apikey as json
    &quot;otoroshi.core.User&quot; : { ... }, // current user as json
    &quot;otoroshi.core.RequestCounterIn&quot; : 0
  },
  &quot;route&quot; : { ... },
  &quot;token&quot; : null // current valid jwt token if one
}
</code></pre>
<p>the expected value support some syntax tricks like</p>
<ul>
  <li><code>Not(value)</code> on a string to check if the current value does not equals another value</li>
  <li><code>Regex(regex)</code> on a string to check if the current value matches the regex</li>
  <li><code>RegexNot(regex)</code> on a string to check if the current value does not matches the regex</li>
  <li><code>Wildcard(*value*)</code> on a string to check if the current value matches the value with wildcards</li>
  <li><code>WildcardNot(*value*)</code> on a string to check if the current value does not matches the value with wildcards</li>
  <li><code>Contains(value)</code> on a string to check if the current value contains a value</li>
  <li><code>ContainsNot(value)</code> on a string to check if the current value does not contains a value</li>
  <li><code>Contains(Regex(regex))</code> on an array to check if one of the item of the array matches the regex</li>
  <li><code>ContainsNot(Regex(regex))</code> on an array to check if one of the item of the array does not matches the regex</li>
  <li><code>Contains(Wildcard(*value*))</code> on an array to check if one of the item of the array matches the wildcard value</li>
  <li><code>ContainsNot(Wildcard(*value*))</code> on an array to check if one of the item of the array does not matches the wildcard value</li>
  <li><code>Contains(value)</code> on an array to check if the array contains a value</li>
  <li><code>ContainsNot(value)</code> on an array to check if the array does not contains a value</li>
</ul>
<p>for instance to check if the current apikey has a metadata name <code>foo</code> with a value containing <code>bar</code>, you can write the following validator</p>
<pre class="prettyprint"><code class="language-js">{
  &quot;path&quot;: &quot;$.apikey.metadata.foo&quot;,
  &quot;value&quot;: &quot;Contains(bar)&quot;
}
</code></pre>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;validators&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.Cors" class="ng-plugin plugin-hidden pl">
<h2><a href="#cors" name="cors" class="anchor"><span class="anchor-link"></span></a>CORS</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.Cors</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin applies CORS rules</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;allow_origin&quot; : &quot;*&quot;,
  &quot;expose_headers&quot; : [ ],
  &quot;allow_headers&quot; : [ ],
  &quot;allow_methods&quot; : [ ],
  &quot;excluded_patterns&quot; : [ ],
  &quot;max_age&quot; : null,
  &quot;allow_credentials&quot; : true
}
</code></pre></div><div id="otoroshi.next.plugins.DisableHttp10" class="ng-plugin plugin-hidden pl">
<h2><a href="#disable-http-1-0" name="disable-http-1-0" class="anchor"><span class="anchor-link"></span></a>Disable HTTP/1.0</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.DisableHttp10</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin forbids HTTP/1.0 requests</p></div><div id="otoroshi.next.plugins.EndlessHttpResponse" class="ng-plugin plugin-hidden pl">
<h2><a href="#endless-http-responses" name="endless-http-responses" class="anchor"><span class="anchor-link"></span></a>Endless HTTP responses</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.EndlessHttpResponse</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin returns 128 Gb of 0 to the ip addresses is in the list</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;finger&quot; : false,
  &quot;addresses&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.EurekaServerSink" class="ng-plugin plugin-hidden pl">
<h2><a href="#eureka-instance" name="eureka-instance" class="anchor"><span class="anchor-link"></span></a>Eureka instance</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>CallBackend</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.EurekaServerSink</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Eureka plugin description</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;evictionTimeout&quot; : 300
}
</code></pre></div><div id="otoroshi.next.plugins.EurekaTarget" class="ng-plugin plugin-hidden pl">
<h2><a href="#internal-eureka-target" name="internal-eureka-target" class="anchor"><span class="anchor-link"></span></a>Internal Eureka target</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.EurekaTarget</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can be used to used a target that come from an internal Eureka server.  If you want to use a target which it locate outside of Otoroshi, you must use the External Eureka Server.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;eureka_server&quot; : null,
  &quot;eureka_app&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.ExternalEurekaTarget" class="ng-plugin plugin-hidden pl">
<h2><a href="#external-eureka-target" name="external-eureka-target" class="anchor"><span class="anchor-link"></span></a>External Eureka target</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ExternalEurekaTarget</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can be used to used a target that come from an external Eureka server.  If you want to use a target that is directly exposed by an implementation of Eureka by Otoroshi,  you must use the Internal Eureka Server.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;eureka_server&quot; : null,
  &quot;eureka_app&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.ForceHttpsTraffic" class="ng-plugin plugin-hidden pl">
<h2><a href="#force-https-traffic" name="force-https-traffic" class="anchor"><span class="anchor-link"></span></a>Force HTTPS traffic</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ForceHttpsTraffic</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request uses HTTPS</p></div><div id="otoroshi.next.plugins.GlobalMaintenanceMode" class="ng-plugin plugin-hidden pl">
<h2><a href="#global-maintenance-mode" name="global-maintenance-mode" class="anchor"><span class="anchor-link"></span></a>Global Maintenance mode</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.GlobalMaintenanceMode</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin displays a maintenance page for every services. Useful when &lsquo;legacy checks&rsquo; are disabled on a service/globally</p></div><div id="otoroshi.next.plugins.GlobalPerIpAddressThrottling" class="ng-plugin plugin-hidden pl">
<h2><a href="#global-per-ip-address-throttling" name="global-per-ip-address-throttling" class="anchor"><span class="anchor-link"></span></a>Global per ip address throttling</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.GlobalPerIpAddressThrottling</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Enforce global per ip address throttling. Useful when &lsquo;legacy checks&rsquo; are disabled on a service/globally</p></div><div id="otoroshi.next.plugins.GlobalThrottling" class="ng-plugin plugin-hidden pl">
<h2><a href="#global-throttling" name="global-throttling" class="anchor"><span class="anchor-link"></span></a>Global throttling</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.GlobalThrottling</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Enforce global throttling. Useful when &lsquo;legacy checks&rsquo; are disabled on a service/globally</p></div><div id="otoroshi.next.plugins.GraphQLBackend" class="ng-plugin plugin-hidden pl">
<h2><a href="#graphql-composer" name="graphql-composer" class="anchor"><span class="anchor-link"></span></a>GraphQL Composer</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>CallBackend</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.GraphQLBackend</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin exposes a GraphQL API that you can compose with whatever you want</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;schema&quot; : &quot;\n   type User {\n     name: String!\n     firstname: String!\n   }\n\n   type Query {\n    users: [User] @json(data: \&quot;[{ \\\&quot;firstname\\\&quot;: \\\&quot;Foo\\\&quot;, \\\&quot;name\\\&quot;: \\\&quot;Bar\\\&quot; }, { \\\&quot;firstname\\\&quot;: \\\&quot;Bar\\\&quot;, \\\&quot;name\\\&quot;: \\\&quot;Foo\\\&quot; }]\&quot;)\n   }\n  &quot;,
  &quot;permissions&quot; : [ ],
  &quot;initial_data&quot; : null,
  &quot;max_depth&quot; : 15
}
</code></pre></div><div id="otoroshi.next.plugins.GraphQLProxy" class="ng-plugin plugin-hidden pl">
<h2><a href="#graphql-proxy" name="graphql-proxy" class="anchor"><span class="anchor-link"></span></a>GraphQL Proxy</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>CallBackend</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.GraphQLProxy</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can apply validations (query, schema, max depth, max complexity) on graphql endpoints</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;endpoint&quot; : &quot;https://countries.trevorblades.com/graphql&quot;,
  &quot;schema&quot; : null,
  &quot;max_depth&quot; : 50,
  &quot;max_complexity&quot; : 50000,
  &quot;path&quot; : &quot;/graphql&quot;,
  &quot;headers&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.GraphQLQuery" class="ng-plugin plugin-hidden pl">
<h2><a href="#graphql-query-to-rest" name="graphql-query-to-rest" class="anchor"><span class="anchor-link"></span></a>GraphQL Query to REST</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>CallBackend</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.GraphQLQuery</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can be used to call GraphQL query endpoints and expose it as a REST endpoint</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;url&quot; : &quot;https://some.graphql/endpoint&quot;,
  &quot;headers&quot; : { },
  &quot;method&quot; : &quot;POST&quot;,
  &quot;query&quot; : &quot;{\n\n}&quot;,
  &quot;timeout&quot; : 60000,
  &quot;response_path&quot; : null,
  &quot;response_filter&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.GzipResponseCompressor" class="ng-plugin plugin-hidden pl">
<h2><a href="#gzip-compression" name="gzip-compression" class="anchor"><span class="anchor-link"></span></a>Gzip compression</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.GzipResponseCompressor</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can compress responses using gzip</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;excluded_patterns&quot; : [ ],
  &quot;allowed_list&quot; : [ &quot;text/*&quot;, &quot;application/javascript&quot;, &quot;application/json&quot; ],
  &quot;blocked_list&quot; : [ ],
  &quot;buffer_size&quot; : 8192,
  &quot;chunked_threshold&quot; : 102400,
  &quot;compression_level&quot; : 5
}
</code></pre></div><div id="otoroshi.next.plugins.HMACCaller" class="ng-plugin plugin-hidden pl">
<h2><a href="#hmac-caller-plugin" name="hmac-caller-plugin" class="anchor"><span class="anchor-link"></span></a>HMAC caller plugin</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.HMACCaller</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can be used to call a &ldquo;protected&rdquo; api by an HMAC signature. It will adds a signature with the secret configured on the plugin.  The signature string will always the content of the header list listed in the plugin configuration.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;secret&quot; : null,
  &quot;algo&quot; : &quot;HMAC-SHA512&quot;,
  &quot;authorizationHeader&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.HMACValidator" class="ng-plugin plugin-hidden pl">
<h2><a href="#hmac-access-validator" name="hmac-access-validator" class="anchor"><span class="anchor-link"></span></a>HMAC access validator</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.HMACValidator</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can be used to check if a HMAC signature is present and valid in Authorization header.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;secret&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.HeadersValidation" class="ng-plugin plugin-hidden pl">
<h2><a href="#headers-validation" name="headers-validation" class="anchor"><span class="anchor-link"></span></a>Headers validation</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.HeadersValidation</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin validates the values of incoming request headers</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;headers&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.Http3Switch" class="ng-plugin plugin-hidden pl">
<h2><a href="#http3-traffic-switch" name="http3-traffic-switch" class="anchor"><span class="anchor-link"></span></a>Http3 traffic switch</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.Http3Switch</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin injects additional alt-svc header to switch to the http3 server</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;ma&quot; : 3600
}
</code></pre></div><div id="otoroshi.next.plugins.IpAddressAllowedList" class="ng-plugin plugin-hidden pl">
<h2><a href="#ip-allowed-list" name="ip-allowed-list" class="anchor"><span class="anchor-link"></span></a>IP allowed list</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.IpAddressAllowedList</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request ip address is in the allowed list</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;addresses&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.IpAddressBlockList" class="ng-plugin plugin-hidden pl">
<h2><a href="#ip-block-list" name="ip-block-list" class="anchor"><span class="anchor-link"></span></a>IP block list</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.IpAddressBlockList</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request ip address is not in the blocked list</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;addresses&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.JQ" class="ng-plugin plugin-hidden pl">
<h2><a href="#jq" name="jq" class="anchor"><span class="anchor-link"></span></a>JQ</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JQ</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin let you transform JSON bodies (in requests and responses) using <a href="https://stedolan.github.io/jq/manual/#Basicfilters">JQ filters</a>.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;request&quot; : &quot;.&quot;,
  &quot;response&quot; : &quot;&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.JQRequest" class="ng-plugin plugin-hidden pl">
<h2><a href="#jq-transform-request" name="jq-transform-request" class="anchor"><span class="anchor-link"></span></a>JQ transform request</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JQRequest</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin let you transform request JSON body using <a href="https://stedolan.github.io/jq/manual/#Basicfilters">JQ filters</a>.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : &quot;.&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.JQResponse" class="ng-plugin plugin-hidden pl">
<h2><a href="#jq-transform-response" name="jq-transform-response" class="anchor"><span class="anchor-link"></span></a>JQ transform response</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JQResponse</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin let you transform JSON response using <a href="https://stedolan.github.io/jq/manual/#Basicfilters">JQ filters</a>.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : &quot;.&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.JsonToXmlRequest" class="ng-plugin plugin-hidden pl">
<h2><a href="#request-body-json-to-xml" name="request-body-json-to-xml" class="anchor"><span class="anchor-link"></span></a>request body json-to-xml</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JsonToXmlRequest</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin transform incoming request body from json to xml and may apply a jq transformation</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.JsonToXmlResponse" class="ng-plugin plugin-hidden pl">
<h2><a href="#response-body-json-to-xml" name="response-body-json-to-xml" class="anchor"><span class="anchor-link"></span></a>response body json-to-xml</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JsonToXmlResponse</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin transform response body from json to xml and may apply a jq transformation</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.JwtSigner" class="ng-plugin plugin-hidden pl">
<h2><a href="#jwt-signer" name="jwt-signer" class="anchor"><span class="anchor-link"></span></a>Jwt signer</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JwtSigner</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can only generate token</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;verifier&quot; : null,
  &quot;replace_if_present&quot; : true,
  &quot;fail_if_present&quot; : false
}
</code></pre></div><div id="otoroshi.next.plugins.JwtVerification" class="ng-plugin plugin-hidden pl">
<h2><a href="#jwt-verifiers" name="jwt-verifiers" class="anchor"><span class="anchor-link"></span></a>Jwt verifiers</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JwtVerification</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request with one or more jwt verifier</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;verifiers&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.JwtVerificationOnly" class="ng-plugin plugin-hidden pl">
<h2><a href="#jwt-verification-only" name="jwt-verification-only" class="anchor"><span class="anchor-link"></span></a>Jwt verification only</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.JwtVerificationOnly</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request with one jwt verifier</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;verifier&quot; : null,
  &quot;fail_if_absent&quot; : true
}
</code></pre></div><div id="otoroshi.next.plugins.MaintenanceMode" class="ng-plugin plugin-hidden pl">
<h2><a href="#maintenance-mode" name="maintenance-mode" class="anchor"><span class="anchor-link"></span></a>Maintenance mode</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.MaintenanceMode</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin displays a maintenance page</p></div><div id="otoroshi.next.plugins.MissingHeadersIn" class="ng-plugin plugin-hidden pl">
<h2><a href="#missing-headers-in" name="missing-headers-in" class="anchor"><span class="anchor-link"></span></a>Missing headers in</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.MissingHeadersIn</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds headers (if missing) in the incoming otoroshi request</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;headers&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.MissingHeadersOut" class="ng-plugin plugin-hidden pl">
<h2><a href="#missing-headers-out" name="missing-headers-out" class="anchor"><span class="anchor-link"></span></a>Missing headers out</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.MissingHeadersOut</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds headers (if missing) in the otoroshi response</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;headers&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.MockResponses" class="ng-plugin plugin-hidden pl">
<h2><a href="#mock-responses" name="mock-responses" class="anchor"><span class="anchor-link"></span></a>Mock Responses</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>CallBackend</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.MockResponses</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin returns mock responses</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;responses&quot; : [ ],
  &quot;pass_through&quot; : true
}
</code></pre></div><div id="otoroshi.next.plugins.NgAuthModuleExpectedUser" class="ng-plugin plugin-hidden pl">
<h2><a href="#user-logged-in-expected" name="user-logged-in-expected" class="anchor"><span class="anchor-link"></span></a>User logged in expected</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgAuthModuleExpectedUser</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin enforce that a user from any auth. module is logged in</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;only_from&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.NgAuthModuleUserExtractor" class="ng-plugin plugin-hidden pl">
<h2><a href="#user-extraction-from-auth-module" name="user-extraction-from-auth-module" class="anchor"><span class="anchor-link"></span></a>User extraction from auth. module</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgAuthModuleUserExtractor</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin extracts users from an authentication module without enforcing login</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;auth_module&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.NgBiscuitExtractor" class="ng-plugin plugin-hidden pl">
<h2><a href="#apikey-from-biscuit-token-extractor" name="apikey-from-biscuit-token-extractor" class="anchor"><span class="anchor-link"></span></a>Apikey from Biscuit token extractor</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgBiscuitExtractor</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin extract an from a Biscuit token where the biscuit has an #authority fact &lsquo;client_id&rsquo; containing apikey client_id and an #authority fact &lsquo;client_sign&rsquo; that is the HMAC256 signature of the apikey client_id with the apikey client_secret</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;public_key&quot; : null,
  &quot;checks&quot; : [ ],
  &quot;facts&quot; : [ ],
  &quot;resources&quot; : [ ],
  &quot;rules&quot; : [ ],
  &quot;revocation_ids&quot; : [ ],
  &quot;extractor&quot; : {
    &quot;name&quot; : &quot;Authorization&quot;,
    &quot;type&quot; : &quot;header&quot;
  },
  &quot;enforce&quot; : false
}
</code></pre></div><div id="otoroshi.next.plugins.NgBiscuitValidator" class="ng-plugin plugin-hidden pl">
<h2><a href="#biscuit-token-validator" name="biscuit-token-validator" class="anchor"><span class="anchor-link"></span></a>Biscuit token validator</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgBiscuitValidator</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin validates a Biscuit token</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;public_key&quot; : null,
  &quot;checks&quot; : [ ],
  &quot;facts&quot; : [ ],
  &quot;resources&quot; : [ ],
  &quot;rules&quot; : [ ],
  &quot;revocation_ids&quot; : [ ],
  &quot;extractor&quot; : {
    &quot;name&quot; : &quot;Authorization&quot;,
    &quot;type&quot; : &quot;header&quot;
  },
  &quot;enforce&quot; : false
}
</code></pre></div><div id="otoroshi.next.plugins.NgCertificateAsApikey" class="ng-plugin plugin-hidden pl">
<h2><a href="#client-certificate-as-apikey" name="client-certificate-as-apikey" class="anchor"><span class="anchor-link"></span></a>Client certificate as apikey</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgCertificateAsApikey</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin uses client certificate as an apikey. The apikey will be stored for classic apikey usage</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;read_only&quot; : false,
  &quot;allow_client_id_only&quot; : false,
  &quot;throttling_quota&quot; : 100,
  &quot;daily_quota&quot; : 10000000,
  &quot;monthly_quota&quot; : 10000000,
  &quot;constrained_services_only&quot; : false,
  &quot;tags&quot; : [ ],
  &quot;metadata&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.NgClientCertChainHeader" class="ng-plugin plugin-hidden pl">
<h2><a href="#client-certificate-header" name="client-certificate-header" class="anchor"><span class="anchor-link"></span></a>Client certificate header</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgClientCertChainHeader</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin pass client certificate informations to the target in headers</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;send_pem&quot; : false,
  &quot;pem_header_name&quot; : &quot;X-Client-Cert-Pem&quot;,
  &quot;send_dns&quot; : false,
  &quot;dns_header_name&quot; : &quot;X-Client-Cert-DNs&quot;,
  &quot;send_chain&quot; : false,
  &quot;chain_header_name&quot; : &quot;X-Client-Cert-Chain&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.NgClientCredentials" class="ng-plugin plugin-hidden pl">
<h2><a href="#client-credential-service" name="client-credential-service" class="anchor"><span class="anchor-link"></span></a>Client Credential Service</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>Sink</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgClientCredentials</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin add an an oauth client credentials service (<code>https://unhandleddomain/.well-known/otoroshi/oauth/token</code>) to create an access_token given a client id and secret</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;expiration&quot; : 3600000,
  &quot;default_key_pair&quot; : &quot;otoroshi-jwt-signing&quot;,
  &quot;domain&quot; : &quot;*&quot;,
  &quot;secure&quot; : true,
  &quot;biscuit&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.NgDefaultRequestBody" class="ng-plugin plugin-hidden pl">
<h2><a href="#default-request-body" name="default-request-body" class="anchor"><span class="anchor-link"></span></a>Default request body</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgDefaultRequestBody</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds a default request body if none specified</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;bodyBinary&quot; : &quot;&quot;,
  &quot;contentType&quot; : &quot;text/plain&quot;,
  &quot;contentEncoding&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.NgDeferPlugin" class="ng-plugin plugin-hidden pl">
<h2><a href="#defer-responses" name="defer-responses" class="anchor"><span class="anchor-link"></span></a>Defer Responses</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgDeferPlugin</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin will expect a <code>X-Defer</code> header or a <code>defer</code> query param and defer the response according to the value in milliseconds. This plugin is some kind of inside joke as one a our customer ask us to make slower apis.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;duration&quot; : 0
}
</code></pre></div><div id="otoroshi.next.plugins.NgDiscoverySelfRegistrationSink" class="ng-plugin plugin-hidden pl">
<h2><a href="#global-self-registration-endpoints-service-discovery-" name="global-self-registration-endpoints-service-discovery-" class="anchor"><span class="anchor-link"></span></a>Global self registration endpoints (service discovery)</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>Sink</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgDiscoverySelfRegistrationSink</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin add support for self registration endpoint on specific hostnames</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{ }
</code></pre></div><div id="otoroshi.next.plugins.NgDiscoverySelfRegistrationTransformer" class="ng-plugin plugin-hidden pl">
<h2><a href="#self-registration-endpoints-service-discovery-" name="self-registration-endpoints-service-discovery-" class="anchor"><span class="anchor-link"></span></a>Self registration endpoints (service discovery)</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgDiscoverySelfRegistrationTransformer</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin add support for self registration endpoint on a specific service</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{ }
</code></pre></div><div id="otoroshi.next.plugins.NgDiscoveryTargetsSelector" class="ng-plugin plugin-hidden pl">
<h2><a href="#service-discovery-target-selector-service-discovery-" name="service-discovery-target-selector-service-discovery-" class="anchor"><span class="anchor-link"></span></a>Service discovery target selector (service discovery)</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgDiscoveryTargetsSelector</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin select a target in the pool of discovered targets for this service. Use in combination with either <code>DiscoverySelfRegistrationSink</code> or <code>DiscoverySelfRegistrationTransformer</code> to make it work using the <code>self registration</code> pattern. Or use an implementation of <code>DiscoveryJob</code> for the <code>third party registration pattern</code>.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{ }
</code></pre></div><div id="otoroshi.next.plugins.NgErrorRewriter" class="ng-plugin plugin-hidden pl">
<h2><a href="#error-response-rewrite" name="error-response-rewrite" class="anchor"><span class="anchor-link"></span></a>Error response rewrite</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgErrorRewriter</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin catch http response with specific statuses and rewrite the response</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;ranges&quot; : [ {
    &quot;from&quot; : 500,
    &quot;to&quot; : 599
  } ],
  &quot;templates&quot; : {
    &quot;default&quot; : &quot;&lt;html&gt;\n  &lt;body style=\&quot;background-color: #333; color: #eee; display: flex; flex-direction: column; justify-content: center; align-items: center; font-size: 40px\&quot;&gt;\n    &lt;p&gt;An error occurred with id: &lt;span style=\&quot;color: red\&quot;&gt;${error_id}&lt;/span&gt;&lt;/p&gt;\n    &lt;p&gt;please contact your administrator with this error id !&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;&quot;
  },
  &quot;log&quot; : true,
  &quot;export&quot; : true
}
</code></pre></div><div id="otoroshi.next.plugins.NgGeolocationInfoEndpoint" class="ng-plugin plugin-hidden pl">
<h2><a href="#geolocation-endpoint" name="geolocation-endpoint" class="anchor"><span class="anchor-link"></span></a>Geolocation endpoint</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgGeolocationInfoEndpoint</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin will expose current geolocation informations on the following endpoint <code>/.well-known/otoroshi/plugins/geolocation</code></p></div><div id="otoroshi.next.plugins.NgGeolocationInfoHeader" class="ng-plugin plugin-hidden pl">
<h2><a href="#geolocation-header" name="geolocation-header" class="anchor"><span class="anchor-link"></span></a>Geolocation header</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgGeolocationInfoHeader</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin will send informations extracted by the Geolocation details extractor to the target service in a header.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;header_name&quot; : &quot;X-User-Agent-Info&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.NgHasAllowedUsersValidator" class="ng-plugin plugin-hidden pl">
<h2><a href="#allowed-users-only" name="allowed-users-only" class="anchor"><span class="anchor-link"></span></a>Allowed users only</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgHasAllowedUsersValidator</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin only let allowed users pass</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;usernames&quot; : [ ],
  &quot;emails&quot; : [ ],
  &quot;email_domains&quot; : [ ],
  &quot;metadata_match&quot; : [ ],
  &quot;metadata_not_match&quot; : [ ],
  &quot;profile_match&quot; : [ ],
  &quot;profile_not_match&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.NgHasClientCertMatchingApikeyValidator" class="ng-plugin plugin-hidden pl">
<h2><a href="#client-certificate-api-key-only" name="client-certificate-api-key-only" class="anchor"><span class="anchor-link"></span></a>Client Certificate + Api Key only</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgHasClientCertMatchingApikeyValidator</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Check if a client certificate is present in the request and that the apikey used matches the client certificate. You can set the client cert. DN in an apikey metadata named <code>allowed-client-cert-dn</code></p></div><div id="otoroshi.next.plugins.NgHasClientCertMatchingHttpValidator" class="ng-plugin plugin-hidden pl">
<h2><a href="#client-certificate-matching-over-http-" name="client-certificate-matching-over-http-" class="anchor"><span class="anchor-link"></span></a>Client certificate matching (over http)</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgHasClientCertMatchingHttpValidator</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Check if client certificate matches the following fetched from an http endpoint</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;serial_numbers&quot; : [ ],
  &quot;subject_dns&quot; : [ ],
  &quot;issuer_dns&quot; : [ ],
  &quot;regex_subject_dns&quot; : [ ],
  &quot;regex_issuer_dns&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.NgHasClientCertMatchingValidator" class="ng-plugin plugin-hidden pl">
<h2><a href="#client-certificate-matching" name="client-certificate-matching" class="anchor"><span class="anchor-link"></span></a>Client certificate matching</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgHasClientCertMatchingValidator</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Check if client certificate matches the following configuration</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;serial_numbers&quot; : [ ],
  &quot;subject_dns&quot; : [ ],
  &quot;issuer_dns&quot; : [ ],
  &quot;regex_subject_dns&quot; : [ ],
  &quot;regex_issuer_dns&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.NgHasClientCertValidator" class="ng-plugin plugin-hidden pl">
<h2><a href="#client-certificate-only" name="client-certificate-only" class="anchor"><span class="anchor-link"></span></a>Client Certificate Only</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgHasClientCertValidator</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Check if a client certificate is present in the request</p></div><div id="otoroshi.next.plugins.NgHtmlPatcher" class="ng-plugin plugin-hidden pl">
<h2><a href="#html-patcher" name="html-patcher" class="anchor"><span class="anchor-link"></span></a>Html Patcher</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgHtmlPatcher</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can inject elements in html pages (in the body or in the head) returned by the service</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;append_head&quot; : [ ],
  &quot;append_body&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.NgHttpClientCache" class="ng-plugin plugin-hidden pl">
<h2><a href="#http-client-cache" name="http-client-cache" class="anchor"><span class="anchor-link"></span></a>HTTP Client Cache</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgHttpClientCache</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin add cache headers to responses</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;max_age_seconds&quot; : 86400,
  &quot;methods&quot; : [ &quot;GET&quot; ],
  &quot;status&quot; : [ 200 ],
  &quot;mime_types&quot; : [ &quot;text/html&quot; ]
}
</code></pre></div><div id="otoroshi.next.plugins.NgIpStackGeolocationInfoExtractor" class="ng-plugin plugin-hidden pl">
<h2><a href="#geolocation-details-extractor-using-ipstack-api-" name="geolocation-details-extractor-using-ipstack-api-" class="anchor"><span class="anchor-link"></span></a>Geolocation details extractor (using IpStack api)</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgIpStackGeolocationInfoExtractor</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin extract geolocation informations from ip address using the <a href="https://ipstack.com/">IpStack dbs</a>. The informations are store in plugins attrs for other plugins to use</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;apikey&quot; : null,
  &quot;timeout&quot; : 2000,
  &quot;log&quot; : false
}
</code></pre></div><div id="otoroshi.next.plugins.NgIzanamiV1Canary" class="ng-plugin plugin-hidden pl">
<h2><a href="#izanami-v1-canary-campaign" name="izanami-v1-canary-campaign" class="anchor"><span class="anchor-link"></span></a>Izanami V1 Canary Campaign</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgIzanamiV1Canary</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin allow you to perform canary testing based on an izanami experiment campaign (A/B test)</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;experiment_id&quot; : &quot;foo:bar:qix&quot;,
  &quot;config_id&quot; : &quot;foo:bar:qix:config&quot;,
  &quot;izanami_url&quot; : &quot;https://izanami.foo.bar&quot;,
  &quot;tls&quot; : {
    &quot;certs&quot; : [ ],
    &quot;trusted_certs&quot; : [ ],
    &quot;enabled&quot; : false,
    &quot;loose&quot; : false,
    &quot;trust_all&quot; : false
  },
  &quot;client_id&quot; : &quot;client&quot;,
  &quot;client_secret&quot; : &quot;secret&quot;,
  &quot;timeout&quot; : 5000,
  &quot;route_config&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.NgIzanamiV1Proxy" class="ng-plugin plugin-hidden pl">
<h2><a href="#izanami-v1-apis-proxy" name="izanami-v1-apis-proxy" class="anchor"><span class="anchor-link"></span></a>Izanami v1 APIs Proxy</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgIzanamiV1Proxy</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin exposes routes to proxy Izanami configuration and features tree APIs</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;path&quot; : &quot;/api/izanami&quot;,
  &quot;feature_pattern&quot; : &quot;*&quot;,
  &quot;config_pattern&quot; : &quot;*&quot;,
  &quot;auto_context&quot; : false,
  &quot;features_enabled&quot; : true,
  &quot;features_with_context_enabled&quot; : true,
  &quot;configuration_enabled&quot; : false,
  &quot;tls&quot; : {
    &quot;certs&quot; : [ ],
    &quot;trusted_certs&quot; : [ ],
    &quot;enabled&quot; : false,
    &quot;loose&quot; : false,
    &quot;trust_all&quot; : false
  },
  &quot;izanami_url&quot; : &quot;https://izanami.foo.bar&quot;,
  &quot;client_id&quot; : &quot;client&quot;,
  &quot;client_secret&quot; : &quot;secret&quot;,
  &quot;timeout&quot; : 500
}
</code></pre></div><div id="otoroshi.next.plugins.NgJwtUserExtractor" class="ng-plugin plugin-hidden pl">
<h2><a href="#jwt-user-extractor" name="jwt-user-extractor" class="anchor"><span class="anchor-link"></span></a>Jwt user extractor</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgJwtUserExtractor</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin extract a user from a JWT token</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;verifier&quot; : &quot;none&quot;,
  &quot;strict&quot; : true,
  &quot;strip&quot; : false,
  &quot;name_path&quot; : null,
  &quot;email_path&quot; : null,
  &quot;meta_path&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.NgLegacyApikeyCall" class="ng-plugin plugin-hidden pl">
<h2><a href="#legacy-apikeys" name="legacy-apikeys" class="anchor"><span class="anchor-link"></span></a>Legacy apikeys</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>MatchRoute</code></li>
  <li><code>ValidateAccess</code></li>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgLegacyApikeyCall</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin expects to find an apikey to allow the request to pass. This plugin behaves exactly like the service descriptor does</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;public_patterns&quot; : [ ],
  &quot;private_patterns&quot; : [ ],
  &quot;extractors&quot; : {
    &quot;basic&quot; : {
      &quot;enabled&quot; : true,
      &quot;header_name&quot; : null,
      &quot;query_name&quot; : null
    },
    &quot;custom_headers&quot; : {
      &quot;enabled&quot; : true,
      &quot;client_id_header_name&quot; : null,
      &quot;client_secret_header_name&quot; : null
    },
    &quot;client_id&quot; : {
      &quot;enabled&quot; : true,
      &quot;header_name&quot; : null,
      &quot;query_name&quot; : null
    },
    &quot;jwt&quot; : {
      &quot;enabled&quot; : true,
      &quot;secret_signed&quot; : true,
      &quot;keypair_signed&quot; : true,
      &quot;include_request_attrs&quot; : false,
      &quot;max_jwt_lifespan_sec&quot; : null,
      &quot;header_name&quot; : null,
      &quot;query_name&quot; : null,
      &quot;cookie_name&quot; : null
    }
  },
  &quot;routing&quot; : {
    &quot;enabled&quot; : false
  },
  &quot;validate&quot; : true,
  &quot;mandatory&quot; : true,
  &quot;pass_with_user&quot; : false,
  &quot;wipe_backend_request&quot; : true,
  &quot;update_quotas&quot; : true
}
</code></pre></div><div id="otoroshi.next.plugins.NgLegacyAuthModuleCall" class="ng-plugin plugin-hidden pl">
<h2><a href="#legacy-authentication" name="legacy-authentication" class="anchor"><span class="anchor-link"></span></a>Legacy Authentication</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgLegacyAuthModuleCall</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin applies an authentication module the same way service descriptor does</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;public_patterns&quot; : [ ],
  &quot;private_patterns&quot; : [ ],
  &quot;pass_with_apikey&quot; : false,
  &quot;auth_module&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.NgLog4ShellFilter" class="ng-plugin plugin-hidden pl">
<h2><a href="#log4shell-mitigation-plugin" name="log4shell-mitigation-plugin" class="anchor"><span class="anchor-link"></span></a>Log4Shell mitigation plugin</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgLog4ShellFilter</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin try to detect Log4Shell attacks in request and block them</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;status&quot; : 200,
  &quot;body&quot; : &quot;&quot;,
  &quot;parse_body&quot; : false
}
</code></pre></div><div id="otoroshi.next.plugins.NgMaxMindGeolocationInfoExtractor" class="ng-plugin plugin-hidden pl">
<h2><a href="#geolocation-details-extractor-using-maxmind-db-" name="geolocation-details-extractor-using-maxmind-db-" class="anchor"><span class="anchor-link"></span></a>Geolocation details extractor (using Maxmind db)</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgMaxMindGeolocationInfoExtractor</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin extract geolocation informations from ip address using the <a href="https://www.maxmind.com/en/geoip2-databases">Maxmind dbs</a>. The informations are store in plugins attrs for other plugins to use</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;path&quot; : &quot;global&quot;,
  &quot;log&quot; : false
}
</code></pre></div><div id="otoroshi.next.plugins.NgResponseCache" class="ng-plugin plugin-hidden pl">
<h2><a href="#response-cache" name="response-cache" class="anchor"><span class="anchor-link"></span></a>Response Cache</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgResponseCache</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can cache responses from target services in the otoroshi datasstore It also provides a debug UI at <code>/.well-known/otoroshi/bodylogger</code>.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;ttl&quot; : 3600000,
  &quot;maxSize&quot; : 52428800,
  &quot;autoClean&quot; : true,
  &quot;filter&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.NgSecurityTxt" class="ng-plugin plugin-hidden pl">
<h2><a href="#security-txt" name="security-txt" class="anchor"><span class="anchor-link"></span></a>Security Txt</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgSecurityTxt</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin exposes a special route <code>/.well-known/security.txt</code> as proposed at <a href="https://securitytxt.org/">https://securitytxt.org/</a></p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;contact&quot; : &quot;contact@foo.bar&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.NgServiceQuotas" class="ng-plugin plugin-hidden pl">
<h2><a href="#public-quotas" name="public-quotas" class="anchor"><span class="anchor-link"></span></a>Public quotas</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgServiceQuotas</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin will enforce public quotas on the current route</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;throttling_quota&quot; : 10000000,
  &quot;daily_quota&quot; : 10000000,
  &quot;monthly_quota&quot; : 10000000
}
</code></pre></div><div id="otoroshi.next.plugins.NgTrafficMirroring" class="ng-plugin plugin-hidden pl">
<h2><a href="#traffic-mirroring" name="traffic-mirroring" class="anchor"><span class="anchor-link"></span></a>Traffic Mirroring</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgTrafficMirroring</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin will mirror every request to other targets</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;to&quot; : &quot;https://foo.bar.dev&quot;,
  &quot;enabled&quot; : true,
  &quot;capture_response&quot; : false,
  &quot;generate_events&quot; : false
}
</code></pre></div><div id="otoroshi.next.plugins.NgUserAgentExtractor" class="ng-plugin plugin-hidden pl">
<h2><a href="#user-agent-details-extractor" name="user-agent-details-extractor" class="anchor"><span class="anchor-link"></span></a>User-Agent details extractor</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgUserAgentExtractor</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin extract informations from User-Agent header such as browsser version, OS version, etc. The informations are store in plugins attrs for other plugins to use</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;log&quot; : false
}
</code></pre></div><div id="otoroshi.next.plugins.NgUserAgentInfoEndpoint" class="ng-plugin plugin-hidden pl">
<h2><a href="#user-agent-endpoint" name="user-agent-endpoint" class="anchor"><span class="anchor-link"></span></a>User-Agent endpoint</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgUserAgentInfoEndpoint</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin will expose current user-agent informations on the following endpoint: /.well-known/otoroshi/plugins/user-agent</p></div><div id="otoroshi.next.plugins.NgUserAgentInfoHeader" class="ng-plugin plugin-hidden pl">
<h2><a href="#user-agent-header" name="user-agent-header" class="anchor"><span class="anchor-link"></span></a>User-Agent header</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.NgUserAgentInfoHeader</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin will sent informations extracted by the User-Agent details extractor to the target service in a header</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;header_name&quot; : &quot;X-User-Agent-Info&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.OAuth1Caller" class="ng-plugin plugin-hidden pl">
<h2><a href="#oauth1-caller" name="oauth1-caller" class="anchor"><span class="anchor-link"></span></a>OAuth1 caller</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OAuth1Caller</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can be used to call api that are authenticated using OAuth1.  Consumer key, secret, and OAuth token et OAuth token secret can be pass through the metadata of an api key  or via the configuration of this plugin.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;consumerKey&quot; : null,
  &quot;consumerSecret&quot; : null,
  &quot;token&quot; : null,
  &quot;tokenSecret&quot; : null,
  &quot;algo&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.OAuth2Caller" class="ng-plugin plugin-hidden pl">
<h2><a href="#oauth2-caller" name="oauth2-caller" class="anchor"><span class="anchor-link"></span></a>OAuth2 caller</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OAuth2Caller</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can be used to call api that are authenticated using OAuth2 client_credential/password flow. Do not forget to enable client retry to handle token generation on expire.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;kind&quot; : &quot;client_credentials&quot;,
  &quot;url&quot; : &quot;https://127.0.0.1:8080/oauth/token&quot;,
  &quot;method&quot; : &quot;POST&quot;,
  &quot;headerName&quot; : &quot;Authorization&quot;,
  &quot;headerValueFormat&quot; : &quot;Bearer %s&quot;,
  &quot;jsonPayload&quot; : false,
  &quot;clientId&quot; : &quot;the client_id&quot;,
  &quot;clientSecret&quot; : &quot;the client_secret&quot;,
  &quot;scope&quot; : null,
  &quot;audience&quot; : null,
  &quot;user&quot; : null,
  &quot;password&quot; : null,
  &quot;cacheTokenSeconds&quot; : 600000,
  &quot;tlsConfig&quot; : {
    &quot;certs&quot; : [ ],
    &quot;trustedCerts&quot; : [ ],
    &quot;mtls&quot; : false,
    &quot;loose&quot; : false,
    &quot;trustAll&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.OIDCAccessTokenAsApikey" class="ng-plugin plugin-hidden pl">
<h2><a href="#oidc-access-token-as-apikey" name="oidc-access-token-as-apikey" class="anchor"><span class="anchor-link"></span></a>OIDC access_token as apikey</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OIDCAccessTokenAsApikey</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin will use the third party apikey configuration to generate an apikey</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;enabled&quot; : true,
  &quot;atLeastOne&quot; : false,
  &quot;config&quot; : {
    &quot;enabled&quot; : true,
    &quot;quotasEnabled&quot; : true,
    &quot;uniqueApiKey&quot; : false,
    &quot;type&quot; : &quot;OIDC&quot;,
    &quot;oidcConfigRef&quot; : &quot;some-oidc-auth-module-id&quot;,
    &quot;localVerificationOnly&quot; : false,
    &quot;mode&quot; : &quot;Tmp&quot;,
    &quot;ttl&quot; : 0,
    &quot;headerName&quot; : &quot;Authorization&quot;,
    &quot;throttlingQuota&quot; : 100,
    &quot;dailyQuota&quot; : 10000000,
    &quot;monthlyQuota&quot; : 10000000,
    &quot;excludedPatterns&quot; : [ ],
    &quot;scopes&quot; : [ ],
    &quot;rolesPath&quot; : [ ],
    &quot;roles&quot; : [ ]
  }
}
</code></pre></div><div id="otoroshi.next.plugins.OIDCAccessTokenValidator" class="ng-plugin plugin-hidden pl">
<h2><a href="#oidc-access-token-validator" name="oidc-access-token-validator" class="anchor"><span class="anchor-link"></span></a>OIDC access_token validator</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OIDCAccessTokenValidator</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin will use the third party apikey configuration and apply it while keeping the apikey mecanism of otoroshi. Use it to combine apikey validation and OIDC access_token validation.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;enabled&quot; : true,
  &quot;atLeastOne&quot; : false,
  &quot;config&quot; : {
    &quot;enabled&quot; : true,
    &quot;quotasEnabled&quot; : true,
    &quot;uniqueApiKey&quot; : false,
    &quot;type&quot; : &quot;OIDC&quot;,
    &quot;oidcConfigRef&quot; : &quot;some-oidc-auth-module-id&quot;,
    &quot;localVerificationOnly&quot; : false,
    &quot;mode&quot; : &quot;Tmp&quot;,
    &quot;ttl&quot; : 0,
    &quot;headerName&quot; : &quot;Authorization&quot;,
    &quot;throttlingQuota&quot; : 100,
    &quot;dailyQuota&quot; : 10000000,
    &quot;monthlyQuota&quot; : 10000000,
    &quot;excludedPatterns&quot; : [ ],
    &quot;scopes&quot; : [ ],
    &quot;rolesPath&quot; : [ ],
    &quot;roles&quot; : [ ]
  }
}
</code></pre></div><div id="otoroshi.next.plugins.OIDCHeaders" class="ng-plugin plugin-hidden pl">
<h2><a href="#oidc-headers" name="oidc-headers" class="anchor"><span class="anchor-link"></span></a>OIDC headers</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OIDCHeaders</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin injects headers containing tokens and profile from current OIDC provider.</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;profile&quot; : {
    &quot;send&quot; : false,
    &quot;headerName&quot; : &quot;X-OIDC-User&quot;
  },
  &quot;idToken&quot; : {
    &quot;send&quot; : false,
    &quot;name&quot; : &quot;id_token&quot;,
    &quot;headerName&quot; : &quot;X-OIDC-Id-Token&quot;,
    &quot;jwt&quot; : true
  },
  &quot;accessToken&quot; : {
    &quot;send&quot; : false,
    &quot;name&quot; : &quot;access_token&quot;,
    &quot;headerName&quot; : &quot;X-OIDC-Access-Token&quot;,
    &quot;jwt&quot; : true
  }
}
</code></pre></div><div id="otoroshi.next.plugins.OtoroshiChallenge" class="ng-plugin plugin-hidden pl">
<h2><a href="#otoroshi-challenge-token" name="otoroshi-challenge-token" class="anchor"><span class="anchor-link"></span></a>Otoroshi challenge token</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OtoroshiChallenge</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds a jwt challenge token to the request to a backend and expects a response with a matching token</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;version&quot; : &quot;V2&quot;,
  &quot;ttl&quot; : 30,
  &quot;request_header_name&quot; : null,
  &quot;response_header_name&quot; : null,
  &quot;algo_to_backend&quot; : {
    &quot;type&quot; : &quot;HSAlgoSettings&quot;,
    &quot;size&quot; : 512,
    &quot;secret&quot; : &quot;secret&quot;,
    &quot;base64&quot; : false
  },
  &quot;algo_from_backend&quot; : {
    &quot;type&quot; : &quot;HSAlgoSettings&quot;,
    &quot;size&quot; : 512,
    &quot;secret&quot; : &quot;secret&quot;,
    &quot;base64&quot; : false
  },
  &quot;state_resp_leeway&quot; : 10
}
</code></pre></div><div id="otoroshi.next.plugins.OtoroshiHeadersIn" class="ng-plugin plugin-hidden pl">
<h2><a href="#otoroshi-headers-in" name="otoroshi-headers-in" class="anchor"><span class="anchor-link"></span></a>Otoroshi headers in</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OtoroshiHeadersIn</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds Otoroshi specific headers to the request</p></div><div id="otoroshi.next.plugins.OtoroshiInfos" class="ng-plugin plugin-hidden pl">
<h2><a href="#otoroshi-info-token" name="otoroshi-info-token" class="anchor"><span class="anchor-link"></span></a>Otoroshi info. token</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OtoroshiInfos</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds a jwt token with informations about the caller to the backend</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;version&quot; : &quot;Latest&quot;,
  &quot;ttl&quot; : 30,
  &quot;header_name&quot; : null,
  &quot;add_fields&quot; : null,
  &quot;algo&quot; : {
    &quot;type&quot; : &quot;HSAlgoSettings&quot;,
    &quot;size&quot; : 512,
    &quot;secret&quot; : &quot;secret&quot;,
    &quot;base64&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.OverrideHost" class="ng-plugin plugin-hidden pl">
<h2><a href="#override-host-header" name="override-host-header" class="anchor"><span class="anchor-link"></span></a>Override host header</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.OverrideHost</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin override the current Host header with the Host of the backend target</p></div><div id="otoroshi.next.plugins.PublicPrivatePaths" class="ng-plugin plugin-hidden pl">
<h2><a href="#public-private-paths" name="public-private-paths" class="anchor"><span class="anchor-link"></span></a>Public/Private paths</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.PublicPrivatePaths</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin allows or forbid request based on path patterns</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;strict&quot; : false,
  &quot;private_patterns&quot; : [ ],
  &quot;public_patterns&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.QueryTransformer" class="ng-plugin plugin-hidden pl">
<h2><a href="#query-param-transformer" name="query-param-transformer" class="anchor"><span class="anchor-link"></span></a>Query param transformer</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.QueryTransformer</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can modify the query params of the request</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;remove&quot; : [ ],
  &quot;rename&quot; : { },
  &quot;add&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.RBAC" class="ng-plugin plugin-hidden pl">
<h2><a href="#rbac" name="rbac" class="anchor"><span class="anchor-link"></span></a>RBAC</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.RBAC</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin check if current user/apikey/jwt token has the right role</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;allow&quot; : [ ],
  &quot;deny&quot; : [ ],
  &quot;allow_all&quot; : false,
  &quot;deny_all&quot; : false,
  &quot;jwt_path&quot; : null,
  &quot;apikey_path&quot; : null,
  &quot;user_path&quot; : null,
  &quot;role_prefix&quot; : null,
  &quot;roles&quot; : &quot;roles&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.ReadOnlyCalls" class="ng-plugin plugin-hidden pl">
<h2><a href="#read-only-requests" name="read-only-requests" class="anchor"><span class="anchor-link"></span></a>Read only requests</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.ReadOnlyCalls</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin verifies the current request only reads data</p></div><div id="otoroshi.next.plugins.Redirection" class="ng-plugin plugin-hidden pl">
<h2><a href="#redirection" name="redirection" class="anchor"><span class="anchor-link"></span></a>Redirection</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.Redirection</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin redirects the current request elsewhere</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;code&quot; : 303,
  &quot;to&quot; : &quot;https://www.otoroshi.io&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.RemoveHeadersIn" class="ng-plugin plugin-hidden pl">
<h2><a href="#remove-headers-in" name="remove-headers-in" class="anchor"><span class="anchor-link"></span></a>Remove headers in</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.RemoveHeadersIn</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin removes headers in the incoming otoroshi request</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;header_names&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.RemoveHeadersOut" class="ng-plugin plugin-hidden pl">
<h2><a href="#remove-headers-out" name="remove-headers-out" class="anchor"><span class="anchor-link"></span></a>Remove headers out</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.RemoveHeadersOut</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin removes headers in the otoroshi response</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;header_names&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.Robots" class="ng-plugin plugin-hidden pl">
<h2><a href="#robots" name="robots" class="anchor"><span class="anchor-link"></span></a>Robots</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.Robots</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin provides all the necessary tool to handle search engine robots</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;robot_txt_enabled&quot; : true,
  &quot;robot_txt_content&quot; : &quot;User-agent: *\nDisallow: /\n&quot;,
  &quot;meta_enabled&quot; : true,
  &quot;meta_content&quot; : &quot;noindex,nofollow,noarchive&quot;,
  &quot;header_enabled&quot; : true,
  &quot;header_content&quot; : &quot;noindex, nofollow, noarchive&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.RoutingRestrictions" class="ng-plugin plugin-hidden pl">
<h2><a href="#routing-restrictions" name="routing-restrictions" class="anchor"><span class="anchor-link"></span></a>Routing Restrictions</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.RoutingRestrictions</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin apply routing restriction <code>method domain/path</code> on the current request/route</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;allow_last&quot; : true,
  &quot;allowed&quot; : [ ],
  &quot;forbidden&quot; : [ ],
  &quot;not_found&quot; : [ ]
}
</code></pre></div><div id="otoroshi.next.plugins.S3Backend" class="ng-plugin plugin-hidden pl">
<h2><a href="#s3-static-backend" name="s3-static-backend" class="anchor"><span class="anchor-link"></span></a>S3 Static backend</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>CallBackend</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.S3Backend</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin is able to S3 bucket with file content</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;bucket&quot; : &quot;&quot;,
  &quot;endpoint&quot; : &quot;&quot;,
  &quot;region&quot; : &quot;eu-west-1&quot;,
  &quot;access&quot; : &quot;client&quot;,
  &quot;secret&quot; : &quot;secret&quot;,
  &quot;key&quot; : &quot;&quot;,
  &quot;chunkSize&quot; : 8388608,
  &quot;v4auth&quot; : true,
  &quot;writeEvery&quot; : 60000,
  &quot;acl&quot; : &quot;private&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.SOAPAction" class="ng-plugin plugin-hidden pl">
<h2><a href="#soap-action" name="soap-action" class="anchor"><span class="anchor-link"></span></a>SOAP action</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>CallBackend</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.SOAPAction</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin is able to call SOAP actions and expose it as a rest endpoint</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;url&quot; : null,
  &quot;envelope&quot; : &quot;&lt;soap envelope /&gt;&quot;,
  &quot;action&quot; : null,
  &quot;preserve_query&quot; : true,
  &quot;charset&quot; : null,
  &quot;jq_request_filter&quot; : null,
  &quot;jq_response_filter&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.SendOtoroshiHeadersBack" class="ng-plugin plugin-hidden pl">
<h2><a href="#send-otoroshi-headers-back" name="send-otoroshi-headers-back" class="anchor"><span class="anchor-link"></span></a>Send otoroshi headers back</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.SendOtoroshiHeadersBack</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds response header containing useful informations about the current call</p></div><div id="otoroshi.next.plugins.SnowMonkeyChaos" class="ng-plugin plugin-hidden pl">
<h2><a href="#snow-monkey-chaos" name="snow-monkey-chaos" class="anchor"><span class="anchor-link"></span></a>Snow Monkey Chaos</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.SnowMonkeyChaos</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin introduce some chaos into you life</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;large_request_fault&quot; : null,
  &quot;large_response_fault&quot; : null,
  &quot;latency_injection_fault&quot; : null,
  &quot;bad_responses_fault&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.StaticBackend" class="ng-plugin plugin-hidden pl">
<h2><a href="#static-backend" name="static-backend" class="anchor"><span class="anchor-link"></span></a>Static backend</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>CallBackend</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.StaticBackend</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin is able to serve a static folder with file content</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;root_path&quot; : &quot;/tmp&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.StaticResponse" class="ng-plugin plugin-hidden pl">
<h2><a href="#static-response" name="static-response" class="anchor"><span class="anchor-link"></span></a>Static Response</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>CallBackend</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.StaticResponse</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin returns static responses</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;status&quot; : 200,
  &quot;headers&quot; : { },
  &quot;body&quot; : &quot;&quot;
}
</code></pre></div><div id="otoroshi.next.plugins.TailscaleSelectTargetByName" class="ng-plugin plugin-hidden pl">
<h2><a href="#tailscale-select-target-by-name" name="tailscale-select-target-by-name" class="anchor"><span class="anchor-link"></span></a>Tailscale select target by name</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.TailscaleSelectTargetByName</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin selects a machine instance on Tailscale network based on its name</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;machine_name&quot; : &quot;my-machine&quot;,
  &quot;use_ip_address&quot; : false
}
</code></pre></div><div id="otoroshi.next.plugins.TcpTunnel" class="ng-plugin plugin-hidden pl">
<h2><a href="#tcp-tunnel" name="tcp-tunnel" class="anchor"><span class="anchor-link"></span></a>TCP Tunnel</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>HandlesTunnel</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.TcpTunnel</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin creates TCP tunnels through otoroshi</p></div><div id="otoroshi.next.plugins.UdpTunnel" class="ng-plugin plugin-hidden pl">
<h2><a href="#udp-tunnel" name="udp-tunnel" class="anchor"><span class="anchor-link"></span></a>UDP Tunnel</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>HandlesTunnel</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.UdpTunnel</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin creates UDP tunnels through otoroshi</p></div><div id="otoroshi.next.plugins.W3CTracing" class="ng-plugin plugin-hidden pl">
<h2><a href="#w3c-trace-context" name="w3c-trace-context" class="anchor"><span class="anchor-link"></span></a>W3C Trace Context</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.W3CTracing</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin propagates W3C Trace Context spans and can export it to Jaeger or Zipkin</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;kind&quot; : &quot;noop&quot;,
  &quot;endpoint&quot; : &quot;http://localhost:3333/spans&quot;,
  &quot;timeout&quot; : 30000,
  &quot;baggage&quot; : { }
}
</code></pre></div><div id="otoroshi.next.plugins.WasmAccessValidator" class="ng-plugin plugin-hidden pl">
<h2><a href="#wasm-access-control" name="wasm-access-control" class="anchor"><span class="anchor-link"></span></a>Wasm Access control</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.WasmAccessValidator</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Delegate route access to a wasm plugin</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;source&quot; : {
    &quot;kind&quot; : &quot;Unknown&quot;,
    &quot;path&quot; : &quot;&quot;,
    &quot;opts&quot; : { }
  },
  &quot;memoryPages&quot; : 4,
  &quot;functionName&quot; : null,
  &quot;config&quot; : { },
  &quot;allowedHosts&quot; : [ ],
  &quot;allowedPaths&quot; : { },
  &quot;wasi&quot; : false,
  &quot;opa&quot; : false,
  &quot;lifetime&quot; : &quot;Forever&quot;,
  &quot;authorizations&quot; : {
    &quot;httpAccess&quot; : false,
    &quot;proxyHttpCallTimeout&quot; : 5000,
    &quot;globalDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;globalMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;proxyStateAccess&quot; : false,
    &quot;configurationAccess&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.WasmBackend" class="ng-plugin plugin-hidden pl">
<h2><a href="#wasm-backend" name="wasm-backend" class="anchor"><span class="anchor-link"></span></a>Wasm Backend</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>CallBackend</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.WasmBackend</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can be used to use a wasm plugin as backend</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;source&quot; : {
    &quot;kind&quot; : &quot;Unknown&quot;,
    &quot;path&quot; : &quot;&quot;,
    &quot;opts&quot; : { }
  },
  &quot;memoryPages&quot; : 4,
  &quot;functionName&quot; : null,
  &quot;config&quot; : { },
  &quot;allowedHosts&quot; : [ ],
  &quot;allowedPaths&quot; : { },
  &quot;wasi&quot; : false,
  &quot;opa&quot; : false,
  &quot;lifetime&quot; : &quot;Forever&quot;,
  &quot;authorizations&quot; : {
    &quot;httpAccess&quot; : false,
    &quot;proxyHttpCallTimeout&quot; : 5000,
    &quot;globalDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;globalMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;proxyStateAccess&quot; : false,
    &quot;configurationAccess&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.WasmOPA" class="ng-plugin plugin-hidden pl">
<h2><a href="#open-policy-agent-opa-" name="open-policy-agent-opa-" class="anchor"><span class="anchor-link"></span></a>Open Policy Agent (OPA)</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>ValidateAccess</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.WasmOPA</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Repo policies as WASM modules</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;source&quot; : {
    &quot;kind&quot; : &quot;Unknown&quot;,
    &quot;path&quot; : &quot;&quot;,
    &quot;opts&quot; : { }
  },
  &quot;memoryPages&quot; : 4,
  &quot;functionName&quot; : null,
  &quot;config&quot; : { },
  &quot;allowedHosts&quot; : [ ],
  &quot;allowedPaths&quot; : { },
  &quot;wasi&quot; : false,
  &quot;opa&quot; : true,
  &quot;lifetime&quot; : &quot;Forever&quot;,
  &quot;authorizations&quot; : {
    &quot;httpAccess&quot; : false,
    &quot;proxyHttpCallTimeout&quot; : 5000,
    &quot;globalDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;globalMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;proxyStateAccess&quot; : false,
    &quot;configurationAccess&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.WasmPreRoute" class="ng-plugin plugin-hidden pl">
<h2><a href="#wasm-pre-route" name="wasm-pre-route" class="anchor"><span class="anchor-link"></span></a>Wasm pre-route</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>PreRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.WasmPreRoute</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can be used to use a wasm plugin as in pre-route phase</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;source&quot; : {
    &quot;kind&quot; : &quot;Unknown&quot;,
    &quot;path&quot; : &quot;&quot;,
    &quot;opts&quot; : { }
  },
  &quot;memoryPages&quot; : 4,
  &quot;functionName&quot; : null,
  &quot;config&quot; : { },
  &quot;allowedHosts&quot; : [ ],
  &quot;allowedPaths&quot; : { },
  &quot;wasi&quot; : false,
  &quot;opa&quot; : false,
  &quot;lifetime&quot; : &quot;Forever&quot;,
  &quot;authorizations&quot; : {
    &quot;httpAccess&quot; : false,
    &quot;proxyHttpCallTimeout&quot; : 5000,
    &quot;globalDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;globalMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;proxyStateAccess&quot; : false,
    &quot;configurationAccess&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.WasmRequestTransformer" class="ng-plugin plugin-hidden pl">
<h2><a href="#wasm-request-transformer" name="wasm-request-transformer" class="anchor"><span class="anchor-link"></span></a>Wasm Request Transformer</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.WasmRequestTransformer</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Transform the content of the request with a wasm plugin</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;source&quot; : {
    &quot;kind&quot; : &quot;Unknown&quot;,
    &quot;path&quot; : &quot;&quot;,
    &quot;opts&quot; : { }
  },
  &quot;memoryPages&quot; : 4,
  &quot;functionName&quot; : null,
  &quot;config&quot; : { },
  &quot;allowedHosts&quot; : [ ],
  &quot;allowedPaths&quot; : { },
  &quot;wasi&quot; : false,
  &quot;opa&quot; : false,
  &quot;lifetime&quot; : &quot;Forever&quot;,
  &quot;authorizations&quot; : {
    &quot;httpAccess&quot; : false,
    &quot;proxyHttpCallTimeout&quot; : 5000,
    &quot;globalDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;globalMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;proxyStateAccess&quot; : false,
    &quot;configurationAccess&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.WasmResponseTransformer" class="ng-plugin plugin-hidden pl">
<h2><a href="#wasm-response-transformer" name="wasm-response-transformer" class="anchor"><span class="anchor-link"></span></a>Wasm Response Transformer</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.WasmResponseTransformer</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Transform the content of a response with a wasm plugin</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;source&quot; : {
    &quot;kind&quot; : &quot;Unknown&quot;,
    &quot;path&quot; : &quot;&quot;,
    &quot;opts&quot; : { }
  },
  &quot;memoryPages&quot; : 4,
  &quot;functionName&quot; : null,
  &quot;config&quot; : { },
  &quot;allowedHosts&quot; : [ ],
  &quot;allowedPaths&quot; : { },
  &quot;wasi&quot; : false,
  &quot;opa&quot; : false,
  &quot;lifetime&quot; : &quot;Forever&quot;,
  &quot;authorizations&quot; : {
    &quot;httpAccess&quot; : false,
    &quot;proxyHttpCallTimeout&quot; : 5000,
    &quot;globalDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;globalMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;proxyStateAccess&quot; : false,
    &quot;configurationAccess&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.WasmRouteMatcher" class="ng-plugin plugin-hidden pl">
<h2><a href="#wasm-route-matcher" name="wasm-route-matcher" class="anchor"><span class="anchor-link"></span></a>Wasm Route Matcher</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>MatchRoute</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.WasmRouteMatcher</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can be used to use a wasm plugin as route matcher</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;source&quot; : {
    &quot;kind&quot; : &quot;Unknown&quot;,
    &quot;path&quot; : &quot;&quot;,
    &quot;opts&quot; : { }
  },
  &quot;memoryPages&quot; : 4,
  &quot;functionName&quot; : null,
  &quot;config&quot; : { },
  &quot;allowedHosts&quot; : [ ],
  &quot;allowedPaths&quot; : { },
  &quot;wasi&quot; : false,
  &quot;opa&quot; : false,
  &quot;lifetime&quot; : &quot;Forever&quot;,
  &quot;authorizations&quot; : {
    &quot;httpAccess&quot; : false,
    &quot;proxyHttpCallTimeout&quot; : 5000,
    &quot;globalDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;globalMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;proxyStateAccess&quot; : false,
    &quot;configurationAccess&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.WasmRouter" class="ng-plugin plugin-hidden pl">
<h2><a href="#wasm-router" name="wasm-router" class="anchor"><span class="anchor-link"></span></a>Wasm Router</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>Router</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.WasmRouter</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Can decide for routing with a wasm plugin</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;source&quot; : {
    &quot;kind&quot; : &quot;Unknown&quot;,
    &quot;path&quot; : &quot;&quot;,
    &quot;opts&quot; : { }
  },
  &quot;memoryPages&quot; : 4,
  &quot;functionName&quot; : null,
  &quot;config&quot; : { },
  &quot;allowedHosts&quot; : [ ],
  &quot;allowedPaths&quot; : { },
  &quot;wasi&quot; : false,
  &quot;opa&quot; : false,
  &quot;lifetime&quot; : &quot;Forever&quot;,
  &quot;authorizations&quot; : {
    &quot;httpAccess&quot; : false,
    &quot;proxyHttpCallTimeout&quot; : 5000,
    &quot;globalDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;globalMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;proxyStateAccess&quot; : false,
    &quot;configurationAccess&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.WasmSink" class="ng-plugin plugin-hidden pl">
<h2><a href="#wasm-sink" name="wasm-sink" class="anchor"><span class="anchor-link"></span></a>Wasm Sink</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>Sink</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.WasmSink</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>Handle unmatched requests with a wasm plugin</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;source&quot; : {
    &quot;kind&quot; : &quot;Unknown&quot;,
    &quot;path&quot; : &quot;&quot;,
    &quot;opts&quot; : { }
  },
  &quot;memoryPages&quot; : 4,
  &quot;functionName&quot; : null,
  &quot;config&quot; : { },
  &quot;allowedHosts&quot; : [ ],
  &quot;allowedPaths&quot; : { },
  &quot;wasi&quot; : false,
  &quot;opa&quot; : false,
  &quot;lifetime&quot; : &quot;Forever&quot;,
  &quot;authorizations&quot; : {
    &quot;httpAccess&quot; : false,
    &quot;proxyHttpCallTimeout&quot; : 5000,
    &quot;globalDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginDataStoreAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;globalMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;pluginMapAccess&quot; : {
      &quot;read&quot; : false,
      &quot;write&quot; : false
    },
    &quot;proxyStateAccess&quot; : false,
    &quot;configurationAccess&quot; : false
  }
}
</code></pre></div><div id="otoroshi.next.plugins.XForwardedHeaders" class="ng-plugin plugin-hidden pl">
<h2><a href="#x-forwarded-headers" name="x-forwarded-headers" class="anchor"><span class="anchor-link"></span></a>X-Forwarded-* headers</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.XForwardedHeaders</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin adds all the X-Forwarder-* headers to the request for the backend target</p></div><div id="otoroshi.next.plugins.XmlToJsonRequest" class="ng-plugin plugin-hidden pl">
<h2><a href="#request-body-xml-to-json" name="request-body-xml-to-json" class="anchor"><span class="anchor-link"></span></a>request body xml-to-json</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformRequest</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.XmlToJsonRequest</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin transform incoming request body from xml to json and may apply a jq transformation</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : null
}
</code></pre></div><div id="otoroshi.next.plugins.XmlToJsonResponse" class="ng-plugin plugin-hidden pl">
<h2><a href="#response-body-xml-to-json" name="response-body-xml-to-json" class="anchor"><span class="anchor-link"></span></a>response body xml-to-json</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>TransformResponse</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.plugins.XmlToJsonResponse</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin transform response body from xml to json and may apply a jq transformation</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;filter&quot; : null
}
</code></pre></div><div id="otoroshi.next.tunnel.TunnelPlugin" class="ng-plugin plugin-hidden pl">
<h2><a href="#remote-tunnel-calls" name="remote-tunnel-calls" class="anchor"><span class="anchor-link"></span></a>Remote tunnel calls</h2>
<h3><a href="#defined-on-steps" name="defined-on-steps" class="anchor"><span class="anchor-link"></span></a>Defined on steps</h3>
<ul>
  <li><code>CallBackend</code></li>
</ul>
<h3><a href="#plugin-reference" name="plugin-reference" class="anchor"><span class="anchor-link"></span></a>Plugin reference</h3>
<p><code>cp:otoroshi.next.tunnel.TunnelPlugin</code></p>
<h3><a href="#description" name="description" class="anchor"><span class="anchor-link"></span></a>Description</h3>
<p>This plugin can contact remote service using tunnels</p>
<h3><a href="#default-configuration" name="default-configuration" class="anchor"><span class="anchor-link"></span></a>Default configuration</h3>
<pre class="prettyprint"><code class="language-json">{
  &quot;tunnel_id&quot; : &quot;default&quot;
}
</code></pre></div>
<div class="nav-next">
<p><strong>Next:</strong> <a href="../plugins/built-in-legacy-plugins.html">Built-in legacy plugins</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="../plugins/built-in-plugins.html#built-in-plugins" class="header">Built-in plugins</a>
  <ul>
    <li><a href="../plugins/built-in-plugins.html#additional-headers-in" class="header">Additional headers in</a></li>
    <li><a href="../plugins/built-in-plugins.html#additional-headers-out" class="header">Additional headers out</a></li>
    <li><a href="../plugins/built-in-plugins.html#allowed-http-methods" class="header">Allowed HTTP methods</a></li>
    <li><a href="../plugins/built-in-plugins.html#apikey-auth-module" class="header">Apikey auth module</a></li>
    <li><a href="../plugins/built-in-plugins.html#apikeys" class="header">Apikeys</a></li>
    <li><a href="../plugins/built-in-plugins.html#apikey-quotas" class="header">Apikey quotas</a></li>
    <li><a href="../plugins/built-in-plugins.html#authentication" class="header">Authentication</a></li>
    <li><a href="../plugins/built-in-plugins.html#basic-auth-caller" class="header">Basic Auth. caller</a></li>
    <li><a href="../plugins/built-in-plugins.html#build-mode" class="header">Build mode</a></li>
    <li><a href="../plugins/built-in-plugins.html#canary-mode" class="header">Canary mode</a></li>
    <li><a href="../plugins/built-in-plugins.html#context-validator" class="header">Context validator</a></li>
    <li><a href="../plugins/built-in-plugins.html#cors" class="header">CORS</a></li>
    <li><a href="../plugins/built-in-plugins.html#disable-http-1-0" class="header">Disable HTTP/1.0</a></li>
    <li><a href="../plugins/built-in-plugins.html#endless-http-responses" class="header">Endless HTTP responses</a></li>
    <li><a href="../plugins/built-in-plugins.html#eureka-instance" class="header">Eureka instance</a></li>
    <li><a href="../plugins/built-in-plugins.html#internal-eureka-target" class="header">Internal Eureka target</a></li>
    <li><a href="../plugins/built-in-plugins.html#external-eureka-target" class="header">External Eureka target</a></li>
    <li><a href="../plugins/built-in-plugins.html#force-https-traffic" class="header">Force HTTPS traffic</a></li>
    <li><a href="../plugins/built-in-plugins.html#global-maintenance-mode" class="header">Global Maintenance mode</a></li>
    <li><a href="../plugins/built-in-plugins.html#global-per-ip-address-throttling" class="header">Global per ip address throttling</a></li>
    <li><a href="../plugins/built-in-plugins.html#global-throttling" class="header">Global throttling</a></li>
    <li><a href="../plugins/built-in-plugins.html#graphql-composer" class="header">GraphQL Composer</a></li>
    <li><a href="../plugins/built-in-plugins.html#graphql-proxy" class="header">GraphQL Proxy</a></li>
    <li><a href="../plugins/built-in-plugins.html#graphql-query-to-rest" class="header">GraphQL Query to REST</a></li>
    <li><a href="../plugins/built-in-plugins.html#gzip-compression" class="header">Gzip compression</a></li>
    <li><a href="../plugins/built-in-plugins.html#hmac-caller-plugin" class="header">HMAC caller plugin</a></li>
    <li><a href="../plugins/built-in-plugins.html#hmac-access-validator" class="header">HMAC access validator</a></li>
    <li><a href="../plugins/built-in-plugins.html#headers-validation" class="header">Headers validation</a></li>
    <li><a href="../plugins/built-in-plugins.html#http3-traffic-switch" class="header">Http3 traffic switch</a></li>
    <li><a href="../plugins/built-in-plugins.html#ip-allowed-list" class="header">IP allowed list</a></li>
    <li><a href="../plugins/built-in-plugins.html#ip-block-list" class="header">IP block list</a></li>
    <li><a href="../plugins/built-in-plugins.html#jq" class="header">JQ</a></li>
    <li><a href="../plugins/built-in-plugins.html#jq-transform-request" class="header">JQ transform request</a></li>
    <li><a href="../plugins/built-in-plugins.html#jq-transform-response" class="header">JQ transform response</a></li>
    <li><a href="../plugins/built-in-plugins.html#request-body-json-to-xml" class="header">request body json-to-xml</a></li>
    <li><a href="../plugins/built-in-plugins.html#response-body-json-to-xml" class="header">response body json-to-xml</a></li>
    <li><a href="../plugins/built-in-plugins.html#jwt-signer" class="header">Jwt signer</a></li>
    <li><a href="../plugins/built-in-plugins.html#jwt-verifiers" class="header">Jwt verifiers</a></li>
    <li><a href="../plugins/built-in-plugins.html#jwt-verification-only" class="header">Jwt verification only</a></li>
    <li><a href="../plugins/built-in-plugins.html#maintenance-mode" class="header">Maintenance mode</a></li>
    <li><a href="../plugins/built-in-plugins.html#missing-headers-in" class="header">Missing headers in</a></li>
    <li><a href="../plugins/built-in-plugins.html#missing-headers-out" class="header">Missing headers out</a></li>
    <li><a href="../plugins/built-in-plugins.html#mock-responses" class="header">Mock Responses</a></li>
    <li><a href="../plugins/built-in-plugins.html#user-logged-in-expected" class="header">User logged in expected</a></li>
    <li><a href="../plugins/built-in-plugins.html#user-extraction-from-auth-module" class="header">User extraction from auth. module</a></li>
    <li><a href="../plugins/built-in-plugins.html#apikey-from-biscuit-token-extractor" class="header">Apikey from Biscuit token extractor</a></li>
    <li><a href="../plugins/built-in-plugins.html#biscuit-token-validator" class="header">Biscuit token validator</a></li>
    <li><a href="../plugins/built-in-plugins.html#client-certificate-as-apikey" class="header">Client certificate as apikey</a></li>
    <li><a href="../plugins/built-in-plugins.html#client-certificate-header" class="header">Client certificate header</a></li>
    <li><a href="../plugins/built-in-plugins.html#client-credential-service" class="header">Client Credential Service</a></li>
    <li><a href="../plugins/built-in-plugins.html#default-request-body" class="header">Default request body</a></li>
    <li><a href="../plugins/built-in-plugins.html#defer-responses" class="header">Defer Responses</a></li>
    <li><a href="../plugins/built-in-plugins.html#global-self-registration-endpoints-service-discovery-" class="header">Global self registration endpoints (service discovery)</a></li>
    <li><a href="../plugins/built-in-plugins.html#self-registration-endpoints-service-discovery-" class="header">Self registration endpoints (service discovery)</a></li>
    <li><a href="../plugins/built-in-plugins.html#service-discovery-target-selector-service-discovery-" class="header">Service discovery target selector (service discovery)</a></li>
    <li><a href="../plugins/built-in-plugins.html#error-response-rewrite" class="header">Error response rewrite</a></li>
    <li><a href="../plugins/built-in-plugins.html#geolocation-endpoint" class="header">Geolocation endpoint</a></li>
    <li><a href="../plugins/built-in-plugins.html#geolocation-header" class="header">Geolocation header</a></li>
    <li><a href="../plugins/built-in-plugins.html#allowed-users-only" class="header">Allowed users only</a></li>
    <li><a href="../plugins/built-in-plugins.html#client-certificate-api-key-only" class="header">Client Certificate + Api Key only</a></li>
    <li><a href="../plugins/built-in-plugins.html#client-certificate-matching-over-http-" class="header">Client certificate matching (over http)</a></li>
    <li><a href="../plugins/built-in-plugins.html#client-certificate-matching" class="header">Client certificate matching</a></li>
    <li><a href="../plugins/built-in-plugins.html#client-certificate-only" class="header">Client Certificate Only</a></li>
    <li><a href="../plugins/built-in-plugins.html#html-patcher" class="header">Html Patcher</a></li>
    <li><a href="../plugins/built-in-plugins.html#http-client-cache" class="header">HTTP Client Cache</a></li>
    <li><a href="../plugins/built-in-plugins.html#geolocation-details-extractor-using-ipstack-api-" class="header">Geolocation details extractor (using IpStack api)</a></li>
    <li><a href="../plugins/built-in-plugins.html#izanami-v1-canary-campaign" class="header">Izanami V1 Canary Campaign</a></li>
    <li><a href="../plugins/built-in-plugins.html#izanami-v1-apis-proxy" class="header">Izanami v1 APIs Proxy</a></li>
    <li><a href="../plugins/built-in-plugins.html#jwt-user-extractor" class="header">Jwt user extractor</a></li>
    <li><a href="../plugins/built-in-plugins.html#legacy-apikeys" class="header">Legacy apikeys</a></li>
    <li><a href="../plugins/built-in-plugins.html#legacy-authentication" class="header">Legacy Authentication</a></li>
    <li><a href="../plugins/built-in-plugins.html#log4shell-mitigation-plugin" class="header">Log4Shell mitigation plugin</a></li>
    <li><a href="../plugins/built-in-plugins.html#geolocation-details-extractor-using-maxmind-db-" class="header">Geolocation details extractor (using Maxmind db)</a></li>
    <li><a href="../plugins/built-in-plugins.html#response-cache" class="header">Response Cache</a></li>
    <li><a href="../plugins/built-in-plugins.html#security-txt" class="header">Security Txt</a></li>
    <li><a href="../plugins/built-in-plugins.html#public-quotas" class="header">Public quotas</a></li>
    <li><a href="../plugins/built-in-plugins.html#traffic-mirroring" class="header">Traffic Mirroring</a></li>
    <li><a href="../plugins/built-in-plugins.html#user-agent-details-extractor" class="header">User-Agent details extractor</a></li>
    <li><a href="../plugins/built-in-plugins.html#user-agent-endpoint" class="header">User-Agent endpoint</a></li>
    <li><a href="../plugins/built-in-plugins.html#user-agent-header" class="header">User-Agent header</a></li>
    <li><a href="../plugins/built-in-plugins.html#oauth1-caller" class="header">OAuth1 caller</a></li>
    <li><a href="../plugins/built-in-plugins.html#oauth2-caller" class="header">OAuth2 caller</a></li>
    <li><a href="../plugins/built-in-plugins.html#oidc-access-token-as-apikey" class="header">OIDC access_token as apikey</a></li>
    <li><a href="../plugins/built-in-plugins.html#oidc-access-token-validator" class="header">OIDC access_token validator</a></li>
    <li><a href="../plugins/built-in-plugins.html#oidc-headers" class="header">OIDC headers</a></li>
    <li><a href="../plugins/built-in-plugins.html#otoroshi-challenge-token" class="header">Otoroshi challenge token</a></li>
    <li><a href="../plugins/built-in-plugins.html#otoroshi-headers-in" class="header">Otoroshi headers in</a></li>
    <li><a href="../plugins/built-in-plugins.html#otoroshi-info-token" class="header">Otoroshi info. token</a></li>
    <li><a href="../plugins/built-in-plugins.html#override-host-header" class="header">Override host header</a></li>
    <li><a href="../plugins/built-in-plugins.html#public-private-paths" class="header">Public/Private paths</a></li>
    <li><a href="../plugins/built-in-plugins.html#query-param-transformer" class="header">Query param transformer</a></li>
    <li><a href="../plugins/built-in-plugins.html#rbac" class="header">RBAC</a></li>
    <li><a href="../plugins/built-in-plugins.html#read-only-requests" class="header">Read only requests</a></li>
    <li><a href="../plugins/built-in-plugins.html#redirection" class="header">Redirection</a></li>
    <li><a href="../plugins/built-in-plugins.html#remove-headers-in" class="header">Remove headers in</a></li>
    <li><a href="../plugins/built-in-plugins.html#remove-headers-out" class="header">Remove headers out</a></li>
    <li><a href="../plugins/built-in-plugins.html#robots" class="header">Robots</a></li>
    <li><a href="../plugins/built-in-plugins.html#routing-restrictions" class="header">Routing Restrictions</a></li>
    <li><a href="../plugins/built-in-plugins.html#s3-static-backend" class="header">S3 Static backend</a></li>
    <li><a href="../plugins/built-in-plugins.html#soap-action" class="header">SOAP action</a></li>
    <li><a href="../plugins/built-in-plugins.html#send-otoroshi-headers-back" class="header">Send otoroshi headers back</a></li>
    <li><a href="../plugins/built-in-plugins.html#snow-monkey-chaos" class="header">Snow Monkey Chaos</a></li>
    <li><a href="../plugins/built-in-plugins.html#static-backend" class="header">Static backend</a></li>
    <li><a href="../plugins/built-in-plugins.html#static-response" class="header">Static Response</a></li>
    <li><a href="../plugins/built-in-plugins.html#tailscale-select-target-by-name" class="header">Tailscale select target by name</a></li>
    <li><a href="../plugins/built-in-plugins.html#tcp-tunnel" class="header">TCP Tunnel</a></li>
    <li><a href="../plugins/built-in-plugins.html#udp-tunnel" class="header">UDP Tunnel</a></li>
    <li><a href="../plugins/built-in-plugins.html#w3c-trace-context" class="header">W3C Trace Context</a></li>
    <li><a href="../plugins/built-in-plugins.html#wasm-access-control" class="header">Wasm Access control</a></li>
    <li><a href="../plugins/built-in-plugins.html#wasm-backend" class="header">Wasm Backend</a></li>
    <li><a href="../plugins/built-in-plugins.html#open-policy-agent-opa-" class="header">Open Policy Agent (OPA)</a></li>
    <li><a href="../plugins/built-in-plugins.html#wasm-pre-route" class="header">Wasm pre-route</a></li>
    <li><a href="../plugins/built-in-plugins.html#wasm-request-transformer" class="header">Wasm Request Transformer</a></li>
    <li><a href="../plugins/built-in-plugins.html#wasm-response-transformer" class="header">Wasm Response Transformer</a></li>
    <li><a href="../plugins/built-in-plugins.html#wasm-route-matcher" class="header">Wasm Route Matcher</a></li>
    <li><a href="../plugins/built-in-plugins.html#wasm-router" class="header">Wasm Router</a></li>
    <li><a href="../plugins/built-in-plugins.html#wasm-sink" class="header">Wasm Sink</a></li>
    <li><a href="../plugins/built-in-plugins.html#x-forwarded-headers" class="header">X-Forwarded-* headers</a></li>
    <li><a href="../plugins/built-in-plugins.html#request-body-xml-to-json" class="header">request body xml-to-json</a></li>
    <li><a href="../plugins/built-in-plugins.html#response-body-xml-to-json" class="header">response body xml-to-json</a></li>
    <li><a href="../plugins/built-in-plugins.html#remote-tunnel-calls" class="header">Remote tunnel calls</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2023</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="../lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.5/elasticlunr.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112498312-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-112498312-1');
</script>
</html>





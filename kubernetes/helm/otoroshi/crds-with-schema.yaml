---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "service-groups.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "ServiceGroup"
    plural: "service-groups"
    singular: "service-group"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "The otoroshi model for a group of services"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "The otoroshi model for a group of services"
            properties:
              id:
                type: "string"
                description: "A unique random string to identify your service"
              _loc:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    type: "string"
                  teams:
                    type: "array"
                    items:
                      type: "string"
                    description: "Teams of the current entity"
                type: "object"
              name:
                type: "string"
                description: "The name of your service. Only for debug and human readability\
                  \ purposes"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Just a bunch of random properties"
              description:
                type: "string"
                description: "Entity description"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "certificates.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Certificate"
    plural: "certificates"
    singular: "certificate"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "The otoroshi model for X509 certificates"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "The otoroshi model for X509 certificates"
            properties:
              certType:
                type: "string"
                description: "the kind of certificate"
              name:
                type: "string"
                description: "Entity name"
              revoked:
                type: "boolean"
                description: "Certificate is revoked"
              subject:
                type: "string"
                description: "Certificate subject"
              description:
                type: "string"
                description: "Entity description"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              domain:
                type: "string"
                description: "Certificate domain"
              ca:
                type: "boolean"
                description: "Is cert a CA ?"
              keypair:
                type: "boolean"
                description: "Is cert used for its keypair only ?"
              letsEncrypt:
                type: "boolean"
                description: "Let's encrypt (ACME) generated"
              autoRenew:
                type: "boolean"
                description: "Auto renew cert"
              caRef:
                description: "null type"
                type: "string"
                nullable: true
              to:
                type: "number"
                description: "Stop date"
              exposed:
                type: "boolean"
                description: "Is the cert exposed (public key exposed in jwks.json)"
              id:
                type: "string"
                description: "Entity id"
              _loc:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    type: "string"
                  teams:
                    type: "array"
                    items:
                      type: "string"
                    description: "Teams of the current entity"
                type: "object"
              sans:
                type: "array"
                items:
                  type: "string"
                description: "Certificate SANs"
              client:
                type: "boolean"
                description: "Is cert a client cert ?"
              from:
                type: "number"
                description: "Start date"
              valid:
                type: "boolean"
                description: "Is cert valid"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              privateKey:
                type: "string"
                description: "Certificate private key (PEM encoded)"
              selfSigned:
                type: "boolean"
                description: "Is cert self signed"
              chain:
                type: "string"
                description: "Certicates chain (PEM encoded)"
              password:
                description: "null type"
                type: "string"
                nullable: true
              exportSecret:
                type: "boolean"
                description: "export certificate as a kubernetes secret"
              secretName:
                type: "string"
                description: "name of the kubernetes secret"
              csr:
                type: "object"
                description: "Settings for generating a certificate"
                properties:
                  client:
                    type: "boolean"
                    description: "Is cert client ?"
                  hosts:
                    type: "array"
                    items:
                      type: "string"
                    description: "Certificate SANs"
                  key:
                    description: "Keypair specs"
                    properties:
                      algo:
                        type: "string"
                        description: "Keypair algorithm"
                      size:
                        type: "integer"
                        format: "int32"
                        description: "Keypair size"
                    type: "object"
                  includeAIA:
                    type: "boolean"
                    description: "Include AIA extension (if generated from otoroshi\
                      \ CA)"
                  signatureAlg:
                    type: "string"
                    description: "Signature algorithm"
                  existingSerialNumber:
                    description: "null type"
                    type: "string"
                    nullable: true
                  duration:
                    type: "number"
                    description: "Certificate lifespan"
                  digestAlg:
                    type: "string"
                    description: "Digest algo"
                  ca:
                    type: "boolean"
                    description: "Is cert ca ?"
                  name:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Certificate name"
                  subject:
                    description: "null type"
                    type: "string"
                    nullable: true
                  issuer:
                    type: "string"
                    description: "the issuer of the csr query"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "service-descriptors.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "ServiceDescriptor"
    plural: "service-descriptors"
    singular: "service-descriptor"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "???"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "???"
            properties:
              buildMode:
                type: "boolean"
                description: "???"
              hosts:
                type: "array"
                items:
                  type: "string"
                description: "???"
              privateApp:
                type: "boolean"
                description: "???"
              localScheme:
                type: "string"
                description: "???"
              authConfigRef:
                description: "null type"
                type: "string"
                nullable: true
              issueCertCA:
                description: "null type"
                type: "string"
                nullable: true
              root:
                type: "string"
                description: "???"
              name:
                type: "string"
                description: "???"
              additionalHeaders:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "???"
              domain:
                type: "string"
                description: "???"
              clientConfig:
                description: "???"
                properties:
                  connectionTimeout:
                    type: "integer"
                    format: "int64"
                    description: "???"
                  useCircuitBreaker:
                    type: "boolean"
                    description: "???"
                  retryInitialDelay:
                    type: "integer"
                    format: "int64"
                    description: "???"
                  cacheConnectionSettings:
                    description: "???"
                    properties:
                      enabled:
                        type: "boolean"
                        description: "???"
                      queueSize:
                        type: "integer"
                        format: "int32"
                        description: "???"
                    type: "object"
                  proxy:
                    description: "???"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  callTimeout:
                    type: "integer"
                    format: "int64"
                    description: "???"
                  callAndStreamTimeout:
                    type: "integer"
                    format: "int64"
                    description: "???"
                  globalTimeout:
                    type: "integer"
                    format: "int64"
                    description: "???"
                  maxErrors:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  retries:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  backoffFactor:
                    type: "integer"
                    format: "int64"
                    description: "???"
                  customTimeouts:
                    type: "array"
                    items:
                      properties:
                        path:
                          type: "string"
                          description: "???"
                        callAndStreamTimeout:
                          type: "integer"
                          format: "int64"
                          description: "???"
                        callTimeout:
                          type: "integer"
                          format: "int64"
                          description: "???"
                        idleTimeout:
                          type: "integer"
                          format: "int64"
                          description: "???"
                        globalTimeout:
                          type: "integer"
                          format: "int64"
                          description: "???"
                        connectionTimeout:
                          type: "integer"
                          format: "int64"
                          description: "???"
                      type: "object"
                    description: "???"
                  idleTimeout:
                    type: "integer"
                    format: "int64"
                    description: "???"
                  sampleInterval:
                    type: "integer"
                    format: "int64"
                    description: "???"
                type: "object"
              matchingRoot:
                description: "null type"
                type: "string"
                nullable: true
              forceHttps:
                type: "boolean"
                description: "???"
              localHost:
                type: "string"
                description: "???"
              sendOtoroshiHeadersBack:
                type: "boolean"
                description: "???"
              healthCheck:
                description: "???"
                properties:
                  enabled:
                    type: "boolean"
                    description: "???"
                  url:
                    type: "string"
                    description: "???"
                type: "object"
              strictlyPrivate:
                type: "boolean"
                description: "???"
              detectApiKeySooner:
                type: "boolean"
                description: "???"
              allowHttp10:
                type: "boolean"
                description: "???"
              subdomain:
                type: "string"
                description: "???"
              paths:
                type: "array"
                items:
                  type: "string"
                description: "???"
              stripPath:
                type: "boolean"
                description: "???"
              secComAlgoChallengeOtoToBack:
                description: "???"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "the kind of algosettings"
                  size:
                    type: "integer"
                    format: "int32"
                    description: "SHA function size"
                  publicKey:
                    type: "string"
                    description: "Public key (for verification)"
                  privateKey:
                    description: "null type"
                    type: "string"
                    nullable: true
                  certId:
                    type: "string"
                    description: "Certificate id"
                  secret:
                    type: "string"
                    description: "HMAC secret"
                  base64:
                    type: "boolean"
                    description: "The secret is base64 encoded"
                  url:
                    type: "string"
                    description: "JWKS url"
                  tlsConfig:
                    description: "TLS config"
                    properties:
                      mtls:
                        type: "boolean"
                        description: "???"
                      loose:
                        type: "boolean"
                        description: "???"
                      trustAll:
                        type: "boolean"
                        description: "???"
                      trustedCerts:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      certs:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                    type: "object"
                  kty:
                    type: "string"
                    description: "Key type"
                  proxy:
                    description: "Web proxy for http client"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Http header when fetching JWKS"
                  ttl:
                    type: "number"
                    description: "Cache ttl"
                  timeout:
                    type: "number"
                    description: "Timeout when fetching JWKS"
                  onlyExposedCerts:
                    type: "boolean"
                    description: "Use only exposed certs"
              apiKeyConstraints:
                description: "???"
                properties:
                  customHeadersAuth:
                    description: "???"
                    properties:
                      enabled:
                        type: "boolean"
                        description: "???"
                      clientIdHeaderName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      clientSecretHeaderName:
                        description: "null type"
                        type: "string"
                        nullable: true
                    type: "object"
                  routing:
                    description: "???"
                    properties:
                      oneTagIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      noneMetaKeysIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      oneMetaIn:
                        type: "object"
                        additionalProperties:
                          type: "string"
                        description: "???"
                      oneMetaKeyIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      allMetaKeysIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      noneTagIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      allTagsIn:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      allMetaIn:
                        type: "object"
                        additionalProperties:
                          type: "string"
                        description: "???"
                      noneMetaIn:
                        type: "object"
                        additionalProperties:
                          type: "string"
                        description: "???"
                    type: "object"
                  clientIdAuth:
                    description: "???"
                    properties:
                      enabled:
                        type: "boolean"
                        description: "???"
                      headerName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      queryName:
                        description: "null type"
                        type: "string"
                        nullable: true
                    type: "object"
                  jwtAuth:
                    description: "???"
                    properties:
                      keyPairSigned:
                        type: "boolean"
                        description: "???"
                      cookieName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      queryName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      headerName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      secretSigned:
                        type: "boolean"
                        description: "???"
                      maxJwtLifespanSecs:
                        description: "null type"
                        type: "string"
                        nullable: true
                      enabled:
                        type: "boolean"
                        description: "???"
                      includeRequestAttributes:
                        type: "boolean"
                        description: "???"
                    type: "object"
                  basicAuth:
                    description: "???"
                    properties:
                      enabled:
                        type: "boolean"
                        description: "???"
                      headerName:
                        description: "null type"
                        type: "string"
                        nullable: true
                      queryName:
                        description: "null type"
                        type: "string"
                        nullable: true
                    type: "object"
                type: "object"
              env:
                type: "string"
                description: "???"
              xForwardedHeaders:
                type: "boolean"
                description: "???"
              transformerRefs:
                type: "array"
                items:
                  type: "string"
                description: "???"
              enabled:
                type: "boolean"
                description: "???"
              gzip:
                description: "???"
                properties:
                  compressionLevel:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  blackList:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  chunkedThreshold:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  excludedPatterns:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  bufferSize:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  whiteList:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  enabled:
                    type: "boolean"
                    description: "???"
                type: "object"
              sendInfoToken:
                type: "boolean"
                description: "???"
              tcpUdpTunneling:
                type: "boolean"
                description: "???"
              removeHeadersOut:
                type: "array"
                items:
                  type: "string"
                description: "???"
              useAkkaHttpClient:
                type: "boolean"
                description: "???"
              maintenanceMode:
                type: "boolean"
                description: "???"
              id:
                type: "string"
                description: "???"
              removeHeadersIn:
                type: "array"
                items:
                  type: "string"
                description: "???"
              logAnalyticsOnServer:
                type: "boolean"
                description: "???"
              secComAlgoInfoToken:
                description: "???"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "the kind of algosettings"
                  size:
                    type: "integer"
                    format: "int32"
                    description: "SHA function size"
                  publicKey:
                    type: "string"
                    description: "Public key (for verification)"
                  privateKey:
                    description: "null type"
                    type: "string"
                    nullable: true
                  certId:
                    type: "string"
                    description: "Certificate id"
                  secret:
                    type: "string"
                    description: "HMAC secret"
                  base64:
                    type: "boolean"
                    description: "The secret is base64 encoded"
                  url:
                    type: "string"
                    description: "JWKS url"
                  tlsConfig:
                    description: "TLS config"
                    properties:
                      mtls:
                        type: "boolean"
                        description: "???"
                      loose:
                        type: "boolean"
                        description: "???"
                      trustAll:
                        type: "boolean"
                        description: "???"
                      trustedCerts:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      certs:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                    type: "object"
                  kty:
                    type: "string"
                    description: "Key type"
                  proxy:
                    description: "Web proxy for http client"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Http header when fetching JWKS"
                  ttl:
                    type: "number"
                    description: "Cache ttl"
                  timeout:
                    type: "number"
                    description: "Timeout when fetching JWKS"
                  onlyExposedCerts:
                    type: "boolean"
                    description: "Use only exposed certs"
              userFacing:
                type: "boolean"
                description: "???"
              transformerConfig:
                type: "object"
                description: "???"
              clientValidatorRef:
                description: "null type"
                type: "string"
                nullable: true
              securityExcludedPatterns:
                type: "array"
                items:
                  type: "string"
                description: "???"
              ipFiltering:
                description: "???"
                properties:
                  whitelist:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  blacklist:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                type: "object"
              redirection:
                description: "???"
                properties:
                  enabled:
                    type: "boolean"
                    description: "???"
                  code:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  to:
                    type: "string"
                    description: "???"
                type: "object"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "???"
              restrictions:
                description: "???"
                properties:
                  forbidden:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "???"
                        path:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "???"
                  allowed:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "???"
                        path:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "???"
                  notFound:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "???"
                        path:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "???"
                  allowLast:
                    type: "boolean"
                    description: "???"
                  enabled:
                    type: "boolean"
                    description: "???"
                type: "object"
              overrideHost:
                type: "boolean"
                description: "???"
              accessValidator:
                description: "???"
                properties:
                  enabled:
                    type: "boolean"
                    description: "???"
                  excludedPatterns:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  refs:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  config:
                    type: "object"
                    description: "???"
                type: "object"
              sendStateChallenge:
                type: "boolean"
                description: "???"
              chaosConfig:
                description: "???"
                properties:
                  badResponsesFaultConfig:
                    description: "Settings for bad responses"
                    type: "object"
                    properties:
                      ratio:
                        type: "number"
                        format: "double"
                        description: "The percentage of requests affected by this\
                          \ fault. Value should be between 0.0 and 1.0"
                      responses:
                        type: "array"
                        items:
                          properties:
                            status:
                              type: "integer"
                              format: "int32"
                              description: "The HTTP status for the response"
                            body:
                              type: "string"
                              description: "The body of the HTTP response"
                            headers:
                              type: "object"
                              additionalProperties:
                                type: "string"
                              description: "The HTTP headers of the response"
                          type: "object"
                        description: "The possibles responses"
                  largeRequestFaultConfig:
                    description: "Settings for large requests"
                    type: "object"
                    properties:
                      ratio:
                        type: "number"
                        format: "double"
                        description: "The percentage of requests affected by this\
                          \ fault. Value should be between 0.0 and 1.0"
                      additionalRequestSize:
                        type: "integer"
                        format: "int32"
                        description: "The size added to the request body in bytes.\
                          \ Added payload will be spaces only."
                  largeResponseFaultConfig:
                    description: "Settings for large responses"
                    type: "object"
                    properties:
                      ratio:
                        type: "number"
                        format: "double"
                        description: "The percentage of requests affected by this\
                          \ fault. Value should be between 0.0 and 1.0"
                      additionalResponseSize:
                        type: "integer"
                        format: "int32"
                        description: "Add n 0 bytes"
                  latencyInjectionFaultConfig:
                    description: "Settings for latency injection"
                    type: "object"
                    properties:
                      ratio:
                        type: "number"
                        format: "double"
                        description: "The percentage of requests affected by this\
                          \ fault. Value should be between 0.0 and 1.0"
                      from:
                        type: "number"
                        description: "The start range of latency added to the request"
                      to:
                        type: "number"
                        description: "The end range of latency added to the request"
                  enabled:
                    type: "boolean"
                    description: "Whether or not this config is enabled"
                type: "object"
              secComInfoTokenVersion:
                description: "Version of the info token"
                type: "string"
              additionalHeadersOut:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "???"
              secComHeaders:
                description: "???"
                properties:
                  claimRequestName:
                    description: "null type"
                    type: "string"
                    nullable: true
                  stateRequestName:
                    description: "null type"
                    type: "string"
                    nullable: true
                  stateResponseName:
                    description: "null type"
                    type: "string"
                    nullable: true
                type: "object"
              matchingHeaders:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "???"
              secComAlgoChallengeBackToOto:
                description: "???"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "the kind of algosettings"
                  size:
                    type: "integer"
                    format: "int32"
                    description: "SHA function size"
                  publicKey:
                    type: "string"
                    description: "Public key (for verification)"
                  privateKey:
                    description: "null type"
                    type: "string"
                    nullable: true
                  certId:
                    type: "string"
                    description: "Certificate id"
                  secret:
                    type: "string"
                    description: "HMAC secret"
                  base64:
                    type: "boolean"
                    description: "The secret is base64 encoded"
                  url:
                    type: "string"
                    description: "JWKS url"
                  tlsConfig:
                    description: "TLS config"
                    properties:
                      mtls:
                        type: "boolean"
                        description: "???"
                      loose:
                        type: "boolean"
                        description: "???"
                      trustAll:
                        type: "boolean"
                        description: "???"
                      trustedCerts:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      certs:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                    type: "object"
                  kty:
                    type: "string"
                    description: "Key type"
                  proxy:
                    description: "Web proxy for http client"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Http header when fetching JWKS"
                  ttl:
                    type: "number"
                    description: "Cache ttl"
                  timeout:
                    type: "number"
                    description: "Timeout when fetching JWKS"
                  onlyExposedCerts:
                    type: "boolean"
                    description: "Use only exposed certs"
              secComUseSameAlgo:
                type: "boolean"
                description: "???"
              useNewWSClient:
                type: "boolean"
                description: "???"
              secComExcludedPatterns:
                type: "array"
                items:
                  type: "string"
                description: "???"
              redirectToLocal:
                type: "boolean"
                description: "???"
              enforceSecureCommunication:
                type: "boolean"
                description: "???"
              missingOnlyHeadersOut:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "???"
              secComSettings:
                description: "???"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "the kind of algosettings"
                  size:
                    type: "integer"
                    format: "int32"
                    description: "SHA function size"
                  publicKey:
                    type: "string"
                    description: "Public key (for verification)"
                  privateKey:
                    description: "null type"
                    type: "string"
                    nullable: true
                  certId:
                    type: "string"
                    description: "Certificate id"
                  secret:
                    type: "string"
                    description: "HMAC secret"
                  base64:
                    type: "boolean"
                    description: "The secret is base64 encoded"
                  url:
                    type: "string"
                    description: "JWKS url"
                  tlsConfig:
                    description: "TLS config"
                    properties:
                      mtls:
                        type: "boolean"
                        description: "???"
                      loose:
                        type: "boolean"
                        description: "???"
                      trustAll:
                        type: "boolean"
                        description: "???"
                      trustedCerts:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      certs:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                    type: "object"
                  kty:
                    type: "string"
                    description: "Key type"
                  proxy:
                    description: "Web proxy for http client"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Http header when fetching JWKS"
                  ttl:
                    type: "number"
                    description: "Cache ttl"
                  timeout:
                    type: "number"
                    description: "Timeout when fetching JWKS"
                  onlyExposedCerts:
                    type: "boolean"
                    description: "Use only exposed certs"
              handleLegacyDomain:
                type: "boolean"
                description: "???"
              canary:
                description: "???"
                properties:
                  enabled:
                    type: "boolean"
                    description: "???"
                  traffic:
                    type: "number"
                    format: "double"
                    description: "???"
                  targets:
                    type: "array"
                    items:
                      properties:
                        tags:
                          type: "array"
                          items:
                            type: "string"
                          description: "???"
                        host:
                          type: "string"
                          description: "???"
                        weight:
                          type: "integer"
                          format: "int32"
                          description: "???"
                        metadata:
                          type: "object"
                          additionalProperties:
                            type: "string"
                          description: "???"
                        protocol:
                          type: "string"
                          description: "???"
                        predicate:
                          description: "???"
                          properties:
                            type:
                              type: "string"
                              description: "the kind of predicate"
                            dc:
                              type: "string"
                              description: "???"
                            positions:
                              type: "array"
                              items:
                                properties:
                                  latitude:
                                    type: "number"
                                    format: "double"
                                    description: "???"
                                  longitude:
                                    type: "number"
                                    format: "double"
                                    description: "???"
                                  radius:
                                    type: "number"
                                    format: "double"
                                    description: "???"
                                type: "object"
                              description: "???"
                            provider:
                              type: "string"
                              description: "???"
                            dataCenter:
                              type: "string"
                              description: "???"
                            rack:
                              type: "string"
                              description: "???"
                            region:
                              type: "string"
                              description: "???"
                            zone:
                              type: "string"
                              description: "???"
                          type: "object"
                        ipAddress:
                          description: "null type"
                          type: "string"
                          nullable: true
                        mtlsConfig:
                          description: "???"
                          properties:
                            mtls:
                              type: "boolean"
                              description: "???"
                            loose:
                              type: "boolean"
                              description: "???"
                            trustAll:
                              type: "boolean"
                              description: "???"
                            trustedCerts:
                              type: "array"
                              items:
                                type: "string"
                              description: "???"
                            certs:
                              type: "array"
                              items:
                                type: "string"
                              description: "???"
                          type: "object"
                        scheme:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "???"
                  root:
                    type: "string"
                    description: "???"
                type: "object"
              _loc:
                description: "???"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    type: "string"
                  teams:
                    type: "array"
                    items:
                      type: "string"
                    description: "Teams of the current entity"
                type: "object"
              plugins:
                description: "???"
                properties:
                  config:
                    type: "object"
                    description: "Plugins configuration"
                  enabled:
                    type: "boolean"
                    description: "Plugins enabled"
                  excluded:
                    type: "array"
                    items:
                      type: "string"
                    description: "Excluded paths"
                  refs:
                    type: "array"
                    items:
                      type: "string"
                    description: "Enabled plugins"
                type: "object"
              secComTtl:
                type: "number"
                description: "???"
              description:
                type: "string"
                description: "???"
              secComVersion:
                description: "Version of the challenge token"
                type: "string"
              preRouting:
                description: "???"
                properties:
                  enabled:
                    type: "boolean"
                    description: "???"
                  excludedPatterns:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  refs:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  config:
                    type: "object"
                    description: "???"
                type: "object"
              groups:
                type: "array"
                items:
                  type: "string"
                description: "???"
              readOnly:
                type: "boolean"
                description: "???"
              privatePatterns:
                type: "array"
                items:
                  type: "string"
                description: "???"
              targetsLoadBalancing:
                description: "???"
                properties:
                  type:
                    type: "string"
                  ratio:
                    type: "number"
                    format: "double"
                type: "object"
              cors:
                description: "???"
                properties:
                  enabled:
                    type: "boolean"
                    description: "???"
                  allowCredentials:
                    type: "boolean"
                    description: "???"
                  maxAge:
                    description: "null type"
                    type: "string"
                    nullable: true
                  allowMethods:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  allowHeaders:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  excludedPatterns:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  exposeHeaders:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  allowOrigin:
                    type: "string"
                    description: "???"
                type: "object"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "???"
              publicPatterns:
                type: "array"
                items:
                  type: "string"
                description: "???"
              api:
                description: "???"
                properties:
                  exposeApi:
                    type: "boolean"
                    description: "???"
                  openApiDescriptorUrl:
                    description: "null type"
                    type: "string"
                    nullable: true
                type: "object"
              missingOnlyHeadersIn:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "???"
              issueCert:
                type: "boolean"
                description: "???"
              headersVerification:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "???"
              jwtVerifier:
                description: "???"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "the kind of verifier"
                  desc:
                    type: "string"
                    description: "Verifier description"
                  name:
                    type: "string"
                    description: "Verifier name"
                  strict:
                    type: "boolean"
                    description: "???"
                  source:
                    description: "???"
                    type: "object"
                    properties:
                      type:
                        type: "string"
                        description: "the kind of location"
                      name:
                        type: "string"
                        description: "Query param name"
                      remove:
                        type: "string"
                        description: "Remove from value"
                  algoSettings:
                    description: "???"
                    properties:
                      type:
                        type: "string"
                        description: "the kind of algosettings"
                      size:
                        type: "integer"
                        format: "int32"
                        description: "SHA function size"
                      publicKey:
                        type: "string"
                        description: "Public key (for verification)"
                      privateKey:
                        description: "null type"
                        type: "string"
                        nullable: true
                      certId:
                        type: "string"
                        description: "Certificate id"
                      secret:
                        type: "string"
                        description: "HMAC secret"
                      base64:
                        type: "boolean"
                        description: "The secret is base64 encoded"
                      url:
                        type: "string"
                        description: "JWKS url"
                      tlsConfig:
                        description: "TLS config"
                        properties:
                          mtls:
                            type: "boolean"
                            description: "???"
                          loose:
                            type: "boolean"
                            description: "???"
                          trustAll:
                            type: "boolean"
                            description: "???"
                          trustedCerts:
                            type: "array"
                            items:
                              type: "string"
                            description: "???"
                          certs:
                            type: "array"
                            items:
                              type: "string"
                            description: "???"
                        type: "object"
                      kty:
                        type: "string"
                        description: "Key type"
                      proxy:
                        description: "Web proxy for http client"
                        type: "object"
                        properties:
                          host:
                            type: "string"
                            description: "The hostname of the proxy server."
                          port:
                            type: "string"
                            description: "The port of the proxy server."
                          protocol:
                            type: "string"
                            description: "The protocol of the proxy server.  Use \"\
                              http\" or \"https\".  Defaults to \"http\" if not specified."
                          principal:
                            type: "string"
                            description: "The principal (aka username) of the credentials\
                              \ for the proxy server."
                          password:
                            type: "string"
                            description: "The password for the credentials for the\
                              \ proxy server."
                          ntlmDomain:
                            type: "string"
                            description: "The ntlm domain for the proxy server."
                          encoding:
                            type: "string"
                            description: "The realm's charset."
                          nonProxyHosts:
                            type: "string"
                            description: "The non proxied hosts"
                      headers:
                        type: "object"
                        additionalProperties:
                          type: "string"
                        description: "Http header when fetching JWKS"
                      ttl:
                        type: "number"
                        description: "Cache ttl"
                      timeout:
                        type: "number"
                        description: "Timeout when fetching JWKS"
                      onlyExposedCerts:
                        type: "boolean"
                        description: "Use only exposed certs"
                    type: "object"
                  tags:
                    type: "array"
                    items:
                      type: "string"
                    description: "Entity tags"
                  id:
                    type: "string"
                    description: "Verifier id"
                  _loc:
                    description: "Entity location"
                    properties:
                      tenant:
                        description: "Organization of the current entity"
                        type: "string"
                      teams:
                        type: "array"
                        items:
                          type: "string"
                        description: "Teams of the current entity"
                    type: "object"
                  strategy:
                    description: "???"
                    type: "object"
                    properties:
                      type:
                        type: "string"
                        description: "the kind of strategy"
                      strict:
                        type: "boolean"
                        description: "If the token already exists in the request,\
                          \ then fail"
                      token:
                        type: "object"
                        description: "The default token"
                      verificationSettings:
                        description: "Verification settings"
                        properties:
                          fields:
                            type: "object"
                            additionalProperties:
                              type: "string"
                            description: "Fields validation"
                          arrayFields:
                            type: "object"
                            additionalProperties:
                              type: "string"
                            description: "Fields array validation"
                        type: "object"
                      algoSettings:
                        description: "Algorithm settings for re-signing token"
                        type: "object"
                        properties:
                          type:
                            type: "string"
                            description: "the kind of algosettings"
                          size:
                            type: "integer"
                            format: "int32"
                            description: "SHA function size"
                          publicKey:
                            type: "string"
                            description: "Public key (for verification)"
                          privateKey:
                            description: "null type"
                            type: "string"
                            nullable: true
                          certId:
                            type: "string"
                            description: "Certificate id"
                          secret:
                            type: "string"
                            description: "HMAC secret"
                          base64:
                            type: "boolean"
                            description: "The secret is base64 encoded"
                          url:
                            type: "string"
                            description: "JWKS url"
                          tlsConfig:
                            description: "TLS config"
                            properties:
                              mtls:
                                type: "boolean"
                                description: "???"
                              loose:
                                type: "boolean"
                                description: "???"
                              trustAll:
                                type: "boolean"
                                description: "???"
                              trustedCerts:
                                type: "array"
                                items:
                                  type: "string"
                                description: "???"
                              certs:
                                type: "array"
                                items:
                                  type: "string"
                                description: "???"
                            type: "object"
                          kty:
                            type: "string"
                            description: "Key type"
                          proxy:
                            description: "Web proxy for http client"
                            type: "object"
                            properties:
                              host:
                                type: "string"
                                description: "The hostname of the proxy server."
                              port:
                                type: "string"
                                description: "The port of the proxy server."
                              protocol:
                                type: "string"
                                description: "The protocol of the proxy server.  Use\
                                  \ \"http\" or \"https\".  Defaults to \"http\" if\
                                  \ not specified."
                              principal:
                                type: "string"
                                description: "The principal (aka username) of the\
                                  \ credentials for the proxy server."
                              password:
                                type: "string"
                                description: "The password for the credentials for\
                                  \ the proxy server."
                              ntlmDomain:
                                type: "string"
                                description: "The ntlm domain for the proxy server."
                              encoding:
                                type: "string"
                                description: "The realm's charset."
                              nonProxyHosts:
                                type: "string"
                                description: "The non proxied hosts"
                          headers:
                            type: "object"
                            additionalProperties:
                              type: "string"
                            description: "Http header when fetching JWKS"
                          ttl:
                            type: "number"
                            description: "Cache ttl"
                          timeout:
                            type: "number"
                            description: "Timeout when fetching JWKS"
                          onlyExposedCerts:
                            type: "boolean"
                            description: "Use only exposed certs"
                      transformSettings:
                        description: "Transformation settings"
                        properties:
                          location:
                            description: "Location of the token"
                            properties:
                              type:
                                type: "string"
                                description: "the kind of location"
                              name:
                                type: "string"
                                description: "Query param name"
                              remove:
                                type: "string"
                                description: "Remove from value"
                            type: "object"
                          mappingSettings:
                            description: "Token mapping settings"
                            properties:
                              map:
                                type: "object"
                                additionalProperties:
                                  type: "string"
                                description: "Change values"
                              values:
                                type: "object"
                                description: "Add values"
                              remove:
                                type: "array"
                                items:
                                  type: "string"
                                description: "Remove some token claims"
                            type: "object"
                        type: "object"
                  metadata:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Entity metadata"
                  enabled:
                    type: "boolean"
                    description: "???"
                  excludedPatterns:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  ids:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
              letsEncrypt:
                type: "boolean"
                description: "???"
              targets:
                x-kubernetes-preserve-unknown-fields: true
                type: "object"
              enabledAdditionalHosts:
                type: "boolean"
                description: "if enabled, the additional hosts will be add to hosts\
                  \ array"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "organizations.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Organization"
    plural: "organizations"
    singular: "organization"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi model for an organization (otoroshi-ui)"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi model for an organization (otoroshi-ui)"
            properties:
              description:
                type: "string"
                description: "Entity description"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              name:
                type: "string"
                description: "Entity name"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              id:
                description: "Entity id"
                type: "string"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "global-configs.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "GlobalConfig"
    plural: "global-configs"
    singular: "global-config"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "The global config (dynamic) for otoroshi"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "The global config (dynamic) for otoroshi"
            properties:
              anonymousTelemetry:
                type: "boolean"
                description: "???"
              geolocationSettings:
                description: "Settings for geolocation extraction"
                type: "object"
                properties:
                  type:
                    type: "string"
                  enabled:
                    type: "boolean"
                    description: "Geolocation using maxmind db enabled"
                  apikey:
                    type: "string"
                    description: "IpStack apikey"
                  timeout:
                    type: "integer"
                    format: "int64"
                    description: "API call timeout"
                  path:
                    type: "string"
                    description: "Maxmlind db file path"
              alertsEmails:
                type: "array"
                items:
                  type: "string"
                description: "Email addresses that will receive all Otoroshi alert\
                  \ events"
              throttlingQuota:
                type: "integer"
                format: "int64"
                description: "Authorized number of calls per second globally, measured\
                  \ on 10 seconds"
              maxWebhookSize:
                type: "integer"
                format: "int32"
                description: "Max number of items in webhooks"
              maxConcurrentRequests:
                type: "integer"
                format: "int64"
                description: "The number of authorized request processed at the same\
                  \ time"
              cleverSettings:
                description: "Optional CleverCloud configuration"
                type: "object"
                properties:
                  consumerSecret:
                    type: "string"
                    description: "Clever-Cloud oauth consumer secret"
                  consumerKey:
                    type: "string"
                    description: "Clever-Cloud oauth consumer key"
                  secret:
                    type: "string"
                    description: "Clever-Cloud oauth secret"
                  token:
                    type: "string"
                    description: "Clever-Cloud oauth token"
                  orgaId:
                    type: "string"
                    description: "Clever-Cloud organization id"
              templates:
                description: "The otoroshi default templates for entities"
                properties:
                  team:
                    description: "null type"
                    type: "string"
                    nullable: true
                  script:
                    description: "null type"
                    type: "string"
                    nullable: true
                  apikey:
                    description: "null type"
                    type: "string"
                    nullable: true
                  group:
                    description: "null type"
                    type: "string"
                    nullable: true
                  tcpService:
                    description: "null type"
                    type: "string"
                    nullable: true
                  verifier:
                    description: "null type"
                    type: "string"
                    nullable: true
                  service:
                    description: "null type"
                    type: "string"
                    nullable: true
                  target:
                    description: "null type"
                    type: "string"
                    nullable: true
                  certificate:
                    description: "null type"
                    type: "string"
                    nullable: true
                  dataExporter:
                    description: "null type"
                    type: "string"
                    nullable: true
                  route:
                    description: "null type"
                    type: "string"
                    nullable: true
                  backend:
                    description: "null type"
                    type: "string"
                    nullable: true
                  template:
                    description: "null type"
                    type: "string"
                    nullable: true
                  tenant:
                    description: "null type"
                    type: "string"
                    nullable: true
                  authConfig:
                    description: "null type"
                    type: "string"
                    nullable: true
                  descriptor:
                    description: "null type"
                    type: "string"
                    nullable: true
                type: "object"
              endlessIpAddresses:
                type: "array"
                items:
                  type: "string"
                description: "IP addresses for which any request to Otoroshi will\
                  \ respond with 128 Gb of zeros"
              plugins:
                description: "global plugins settings"
                properties:
                  config:
                    type: "object"
                    description: "Plugins configuration"
                  enabled:
                    type: "boolean"
                    description: "Plugins enabled"
                  excluded:
                    type: "array"
                    items:
                      type: "string"
                    description: "Excluded paths"
                  refs:
                    type: "array"
                    items:
                      type: "string"
                    description: "Enabled plugins"
                type: "object"
              kafkaConfig:
                description: "Kafka settings"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "the kind of exporter"
                  sendEvents:
                    type: "boolean"
                    description: "Send events to it, or just connect"
                  truststore:
                    description: "null type"
                    type: "string"
                    nullable: true
                  hostValidation:
                    type: "boolean"
                    description: "Enabled TLS hostname validation"
                  servers:
                    type: "array"
                    items:
                      type: "string"
                    description: "URLs of the kafka servers"
                  mtlsConfig:
                    description: "TLS config to access the cluster"
                    properties:
                      mtls:
                        type: "boolean"
                        description: "???"
                      loose:
                        type: "boolean"
                        description: "???"
                      trustAll:
                        type: "boolean"
                        description: "???"
                      trustedCerts:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      certs:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                    type: "object"
                  securityProtocol:
                    type: "string"
                    description: "Used security protocol"
                  keystore:
                    description: "null type"
                    type: "string"
                    nullable: true
                  topic:
                    type: "string"
                    description: "Optional kafka topic (otoroshi-events by default)"
                  keyPass:
                    description: "null type"
                    type: "string"
                    nullable: true
                  saslConfig:
                    description: "SASL configuration"
                    type: "object"
                    properties:
                      username:
                        type: "string"
                        description: "SASL username"
                      password:
                        type: "string"
                        description: "SASL password"
                      mechanism:
                        type: "string"
                        description: "SASL login mechanism"
              maxLogsSize:
                type: "integer"
                format: "int32"
                description: "Number of events kept locally"
              proxies:
                description: "Web proxies settings"
                properties:
                  elastic:
                    description: "Web proxy used to call elastic"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  eventsWebhooks:
                    description: "Web proxy used to call webhooks"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  jwk:
                    description: "Web proxy used to fetch jwks"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  auth:
                    description: "Web proxy used to call OAuth providers"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  clevercloud:
                    description: "Web proxy used to call clevercloud"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  alertEmails:
                    description: "Web proxy used to send alert emails"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  authority:
                    description: "Web proxy used to check authorities"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  services:
                    description: "Web proxy used to access services targets"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                type: "object"
              enableEmbeddedMetrics:
                type: "boolean"
                description: "Enable embedded metrics"
              elasticReadsConfig:
                description: "Config. for elastic reads"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "null type"
                    nullable: true
                  sendWorkers:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  applyTemplate:
                    type: "boolean"
                    description: "Enable template creation/update"
                  uris:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  mtlsConfig:
                    description: "TLS settings for the http client"
                    properties:
                      mtls:
                        type: "boolean"
                        description: "???"
                      loose:
                        type: "boolean"
                        description: "???"
                      trustAll:
                        type: "boolean"
                        description: "???"
                      trustedCerts:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      certs:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                    type: "object"
                  version:
                    description: "null type"
                    type: "string"
                    nullable: true
                  maxBulkSize:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Additionnal headers in the http request"
                  indexSettings:
                    description: "Indexation settings"
                    properties:
                      clientSide:
                        type: "boolean"
                        description: "Enable index splitting on client side"
                      numberOfShards:
                        type: "integer"
                        format: "int32"
                        description: "???"
                      numberOfReplicas:
                        type: "integer"
                        format: "int32"
                        description: "???"
                      interval:
                        type: "string"
                        x-kubernetes-preserve-unknown-fields: true
                        description: "Index splitting interval"
                    type: "object"
                  user:
                    description: "null type"
                    type: "string"
                    nullable: true
                  index:
                    description: "null type"
                    type: "string"
                    nullable: true
                  password:
                    description: "null type"
                    type: "string"
                    nullable: true
              trustXForwarded:
                type: "boolean"
                description: "Use X-Forwarded-* headers for routing"
              quotasSettings:
                description: "Settings to generate alert when an apikey almost exceeded\
                  \ or exceeded its quotas"
                properties:
                  enabled:
                    type: "boolean"
                    description: "Is quotas alert enabled"
                  dailyQuotasThreshold:
                    type: "number"
                    format: "double"
                    description: "The daily quotas threshold before generating alert"
                  monthlyQuotasThreshold:
                    type: "number"
                    format: "double"
                    description: "The monthly quotas threshold before generating alert"
                type: "object"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              limitConcurrentRequests:
                type: "boolean"
                description: "If enabled, Otoroshi will reject new request if too\
                  \ much at the same time"
              useAkkaHttpClient:
                type: "boolean"
                description: "Globally use akka http client for everything"
              elasticWritesConfigs:
                type: "array"
                items:
                  properties:
                    type:
                      type: "string"
                      description: "null type"
                      nullable: true
                    sendWorkers:
                      type: "integer"
                      format: "int32"
                      description: "???"
                    applyTemplate:
                      type: "boolean"
                      description: "Enable template creation/update"
                    uris:
                      type: "array"
                      items:
                        type: "string"
                      description: "???"
                    mtlsConfig:
                      description: "TLS settings for the http client"
                      properties:
                        mtls:
                          type: "boolean"
                          description: "???"
                        loose:
                          type: "boolean"
                          description: "???"
                        trustAll:
                          type: "boolean"
                          description: "???"
                        trustedCerts:
                          type: "array"
                          items:
                            type: "string"
                          description: "???"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "???"
                      type: "object"
                    version:
                      description: "null type"
                      type: "string"
                      nullable: true
                    maxBulkSize:
                      type: "integer"
                      format: "int32"
                      description: "???"
                    headers:
                      type: "object"
                      additionalProperties:
                        type: "string"
                      description: "Additionnal headers in the http request"
                    indexSettings:
                      description: "Indexation settings"
                      properties:
                        clientSide:
                          type: "boolean"
                          description: "Enable index splitting on client side"
                        numberOfShards:
                          type: "integer"
                          format: "int32"
                          description: "???"
                        numberOfReplicas:
                          type: "integer"
                          format: "int32"
                          description: "???"
                        interval:
                          type: "string"
                          x-kubernetes-preserve-unknown-fields: true
                          description: "Index splitting interval"
                      type: "object"
                    user:
                      description: "null type"
                      type: "string"
                      nullable: true
                    index:
                      description: "null type"
                      type: "string"
                      nullable: true
                    password:
                      description: "null type"
                      type: "string"
                      nullable: true
                  type: "object"
                description: "Configs. for Elastic writes"
              logAnalyticsOnServer:
                type: "boolean"
                description: "Log analytics event on the server"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              apiReadOnly:
                type: "boolean"
                description: "If enabled, Admin API won't be able to write/update/delete\
                  \ entities"
              backOfficeAuthRef:
                description: "null type"
                type: "string"
                nullable: true
              streamEntityOnly:
                type: "boolean"
                description: "HTTP will be streamed only. Doesn't work with old browsers"
              otoroshiId:
                type: "string"
                description: "Unique id for this otoroshi instance"
              mailerSettings:
                description: "Optional mailer configuration"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "the kind of exporter"
                  url:
                    type: "string"
                    description: "Sender URL"
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Sender headers"
                  to:
                    type: "array"
                    items:
                      properties:
                        name:
                          type: "string"
                          description: "Destination name"
                        email:
                          type: "string"
                          description: "Email address"
                      type: "object"
                    description: "Destination email address"
                  eu:
                    type: "boolean"
                    description: "European tenant"
                  apiKey:
                    type: "string"
                    description: "Sendgrid apikey"
                  domain:
                    type: "string"
                    description: "Mailgun domain"
                  apiKeyPublic:
                    type: "string"
                    description: "Public key"
                  apiKeyPrivate:
                    type: "string"
                    description: "Private key"
              lines:
                type: "array"
                items:
                  type: "string"
                description: "Possibles lines for Otoroshi"
              middleFingers:
                type: "boolean"
                description: "Use middle finger emoji as a response character for\
                  \ endless HTTP responses"
              analyticsWebhooks:
                type: "array"
                items:
                  properties:
                    type:
                      type: "string"
                      description: "the kind of exporter"
                    url:
                      type: "string"
                      description: "The URL where events are posted"
                    headers:
                      type: "object"
                      additionalProperties:
                        type: "string"
                      description: "Headers to authorize the call or whatever"
                    mtlsConfig:
                      description: "TLS config when calling webhook"
                      properties:
                        mtls:
                          type: "boolean"
                          description: "???"
                        loose:
                          type: "boolean"
                          description: "???"
                        trustAll:
                          type: "boolean"
                          description: "???"
                        trustedCerts:
                          type: "array"
                          items:
                            type: "string"
                          description: "???"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "???"
                      type: "object"
                  type: "object"
                description: "Webhook that will receive all internal Otoroshi events"
              autoCert:
                description: "Auto certs settings"
                properties:
                  allowed:
                    type: "array"
                    items:
                      type: "string"
                    description: "allowed domains"
                  enabled:
                    type: "boolean"
                    description: "Enable auto cert"
                  replyNicely:
                    type: "boolean"
                    description: "Reply TLS error with an auto generated certificate\
                      \ for the domain"
                  notAllowed:
                    type: "array"
                    items:
                      type: "string"
                    description: "not allowed domains"
                  caRef:
                    description: "null type"
                    type: "string"
                    nullable: true
                type: "object"
              wasmManagerSettings:
                description: "???"
                type: "object"
                properties:
                  url:
                    type: "string"
                    description: "???"
                  clientId:
                    type: "string"
                    description: "???"
                  clientSecret:
                    type: "string"
                    description: "???"
                  pluginsFilter:
                    description: "null type"
                    type: "string"
                    nullable: true
              maintenanceMode:
                type: "boolean"
                description: "Global maintenant mode"
              initWithNewEngine:
                type: "boolean"
                description: "Was this instance init with new engine as default"
              letsEncryptSettings:
                description: "Let's encrypt (ACME) settings"
                properties:
                  privateKey:
                    type: "string"
                    description: "Let's encrypt (ACME) private key"
                  contacts:
                    type: "array"
                    items:
                      type: "string"
                    description: "Let's encrypt (ACME) contacts"
                  emails:
                    type: "array"
                    items:
                      type: "string"
                    description: "Let's encrypt (ACME) contact emails"
                  enabled:
                    type: "boolean"
                    description: "Let's encrypt (ACME) enabled"
                  publicKey:
                    type: "string"
                    description: "Let's encrypt (ACME) public key"
                  server:
                    type: "string"
                    description: "Let's encrypt (ACME) server"
                type: "object"
              snowMonkeyConfig:
                description: "Snowmonky settings"
                properties:
                  dryRun:
                    type: "boolean"
                    description: "Whether or not outages will actualy impact requests"
                  outageDurationTo:
                    type: "number"
                    description: "End of outage duration range"
                  chaosConfig:
                    description: "Chaos settings"
                    properties:
                      badResponsesFaultConfig:
                        description: "Settings for bad responses"
                        type: "object"
                        properties:
                          ratio:
                            type: "number"
                            format: "double"
                            description: "The percentage of requests affected by this\
                              \ fault. Value should be between 0.0 and 1.0"
                          responses:
                            type: "array"
                            items:
                              properties:
                                status:
                                  type: "integer"
                                  format: "int32"
                                  description: "The HTTP status for the response"
                                body:
                                  type: "string"
                                  description: "The body of the HTTP response"
                                headers:
                                  type: "object"
                                  additionalProperties:
                                    type: "string"
                                  description: "The HTTP headers of the response"
                              type: "object"
                            description: "The possibles responses"
                      largeRequestFaultConfig:
                        description: "Settings for large requests"
                        type: "object"
                        properties:
                          ratio:
                            type: "number"
                            format: "double"
                            description: "The percentage of requests affected by this\
                              \ fault. Value should be between 0.0 and 1.0"
                          additionalRequestSize:
                            type: "integer"
                            format: "int32"
                            description: "The size added to the request body in bytes.\
                              \ Added payload will be spaces only."
                      largeResponseFaultConfig:
                        description: "Settings for large responses"
                        type: "object"
                        properties:
                          ratio:
                            type: "number"
                            format: "double"
                            description: "The percentage of requests affected by this\
                              \ fault. Value should be between 0.0 and 1.0"
                          additionalResponseSize:
                            type: "integer"
                            format: "int32"
                            description: "Add n 0 bytes"
                      latencyInjectionFaultConfig:
                        description: "Settings for latency injection"
                        type: "object"
                        properties:
                          ratio:
                            type: "number"
                            format: "double"
                            description: "The percentage of requests affected by this\
                              \ fault. Value should be between 0.0 and 1.0"
                          from:
                            type: "number"
                            description: "The start range of latency added to the\
                              \ request"
                          to:
                            type: "number"
                            description: "The end range of latency added to the request"
                      enabled:
                        type: "boolean"
                        description: "Whether or not this config is enabled"
                    type: "object"
                  timesPerDay:
                    type: "integer"
                    format: "int32"
                    description: "Number of time per day each service will be outage"
                  outageDurationFrom:
                    type: "number"
                    description: "Start of outage duration range"
                  startTime:
                    type: "string"
                    description: "Start time of Snow Monkey each day"
                  includeUserFacingDescriptors:
                    type: "boolean"
                    description: "Whether or not user facing apps. will be impacted\
                      \ by Snow Monkey"
                  targetGroups:
                    type: "array"
                    items:
                      type: "string"
                    description: "Groups impacted by Snow Monkey. If empty, all groups\
                      \ will be impacted"
                  enabled:
                    type: "boolean"
                    description: "Whether or not this config is enabled"
                  stopTime:
                    type: "string"
                    description: "Stop time of Snow Monkey each day"
                  outageStrategy:
                    description: ""
                    type: "string"
                type: "object"
              scripts:
                description: "global plugins settings. will be deprecated soon"
                properties:
                  jobConfig:
                    type: "object"
                    description: "jobs enabled"
                  enabled:
                    type: "boolean"
                    description: "Global scripts enabled"
                  transformersConfig:
                    type: "object"
                    description: "transformers config"
                  transformersRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "transformers enabled"
                  preRouteRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "pre-route plugins enabled"
                  sinkConfig:
                    type: "object"
                    description: "sinks config"
                  jobRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "running jobs"
                  validatorRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "validator enabled"
                  sinkRefs:
                    type: "array"
                    items:
                      type: "string"
                    description: "sinks enabled"
                  preRouteConfig:
                    type: "object"
                    description: "pre-route config"
                  validatorConfig:
                    type: "object"
                    description: "validator config"
                type: "object"
              perIpThrottlingQuota:
                type: "integer"
                format: "int64"
                description: "Authorized number of calls per second globally per IP\
                  \ address, measured on 10 seconds"
              useCircuitBreakers:
                type: "boolean"
                description: "If enabled, services will be authorized to use circuit\
                  \ breakers"
              maxHttp10ResponseSize:
                type: "integer"
                format: "int64"
                description: "The max size in bytes of an HTTP 1.0 response"
              tlsSettings:
                description: "TLS settings"
                properties:
                  trustedCAsServer:
                    type: "array"
                    items:
                      type: "string"
                    description: "List for CAs trusted by otoroshi when performing\
                      \ TLS termination"
                  includeJdkCaClient:
                    type: "boolean"
                    description: "Use known JDK CAs to build trust when performing\
                      \ request from otoroshi to backends"
                  randomIfNotFound:
                    type: "boolean"
                    description: "Use a random one"
                  defaultDomain:
                    description: "null type"
                    type: "string"
                    nullable: true
                  includeJdkCaServer:
                    type: "boolean"
                    description: "Use known JDK CAs to build trust for incoming request"
                type: "object"
              statsdConfig:
                description: "Statsd settings (agent connection)"
                type: "object"
                properties:
                  datadog:
                    type: "boolean"
                    description: "Datadog agent"
                  host:
                    type: "string"
                    description: "The host of the StatsD agent"
                  port:
                    type: "integer"
                    format: "int32"
                    description: "The port of the StatsD agent"
              autoLinkToDefaultGroup:
                type: "boolean"
                description: "If not defined, every new service descriptor will be\
                  \ added to the default group"
              alertsWebhooks:
                type: "array"
                items:
                  properties:
                    type:
                      type: "string"
                      description: "the kind of exporter"
                    url:
                      type: "string"
                      description: "The URL where events are posted"
                    headers:
                      type: "object"
                      additionalProperties:
                        type: "string"
                      description: "Headers to authorize the call or whatever"
                    mtlsConfig:
                      description: "TLS config when calling webhook"
                      properties:
                        mtls:
                          type: "boolean"
                          description: "???"
                        loose:
                          type: "boolean"
                          description: "???"
                        trustAll:
                          type: "boolean"
                          description: "???"
                        trustedCerts:
                          type: "array"
                          items:
                            type: "string"
                          description: "???"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "???"
                      type: "object"
                  type: "object"
                description: "Webhook that will receive all Otoroshi alert events"
              ipFiltering:
                description: "Global ip filtering settings"
                properties:
                  whitelist:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  blacklist:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                type: "object"
              u2fLoginOnly:
                type: "boolean"
                description: "If enabled, login to backoffice through Auth0 will be\
                  \ disabled"
              userAgentSettings:
                description: "Settings for useragent extraction"
                properties:
                  enabled:
                    type: "boolean"
                    description: "User agent extraction enabled"
                type: "object"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "apikeys.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "ApiKey"
    plural: "apikeys"
    singular: "apikey"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi apikey that can allow you to access some services"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi apikey that can allow you to access some services"
            properties:
              dailyQuota:
                type: "integer"
                format: "int64"
                description: "Authorized number of calls per day"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Bunch of metadata for the key"
              throttlingQuota:
                type: "integer"
                format: "int64"
                description: "Authorized number of calls per second, measured on 10\
                  \ seconds"
              constrainedServicesOnly:
                type: "boolean"
                description: "This apikey can only be used on services that constrained\
                  \ their apikey routing"
              allowClientIdOnly:
                type: "boolean"
                description: "This apikey can be used juste with the client_id value"
              _loc:
                description: "The location of the apikey"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    type: "string"
                  teams:
                    type: "array"
                    items:
                      type: "string"
                    description: "Teams of the current entity"
                type: "object"
              restrictions:
                description: "Apikey restrictions settings"
                properties:
                  forbidden:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "???"
                        path:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "???"
                  allowed:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "???"
                        path:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "???"
                  notFound:
                    type: "array"
                    items:
                      properties:
                        method:
                          type: "string"
                          description: "???"
                        path:
                          type: "string"
                          description: "???"
                      type: "object"
                    description: "???"
                  allowLast:
                    type: "boolean"
                    description: "???"
                  enabled:
                    type: "boolean"
                    description: "???"
                type: "object"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Apikey tags"
              enabled:
                type: "boolean"
                description: "Whether or not the key is enabled. If disabled, resources\
                  \ won't be available to calls using this key"
              readOnly:
                type: "boolean"
                description: "The apikey only allow access for GET, HEAD and OPTIONS\
                  \ verbs"
              clientSecret:
                type: "string"
                description: "The secret of the Api Key. Usually 64 random alpha numerical\
                  \ characters, but can be anything"
              validUntil:
                description: "null type"
                type: "string"
                nullable: true
              clientName:
                type: "string"
                description: "The name of the api key, for humans ;-)"
              monthlyQuota:
                type: "integer"
                format: "int64"
                description: "Authorized number of calls per month"
              description:
                type: "string"
                description: "Description of this apikey"
              rotation:
                description: "Apikey rotation settings"
                properties:
                  enabled:
                    type: "boolean"
                    description: "Rotation enabled"
                  rotationEvery:
                    type: "integer"
                    format: "int64"
                    description: "Rotate every n hours"
                  gracePeriod:
                    type: "integer"
                    format: "int64"
                    description: "period (in hours) during which both secrets works"
                  nextSecret:
                    description: "null type"
                    type: "string"
                    nullable: true
                type: "object"
              authorizedEntities:
                type: "array"
                items:
                  type: "string"
                description: "The group/service ids (prefixed by group_ or service_\
                  \ on which the key is authorized"
              clientId:
                type: "string"
                description: "The unique id of the Api Key. Usually 16 random alpha\
                  \ numerical characters, but can be anything"
              daikokuToken:
                type: "string"
                description: "Integration token for Daikoku"
              exportSecret:
                type: "boolean"
                description: "export api key as a kubernetes secret"
              secretName:
                type: "string"
                description: "name of the kubernetes secret"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "teams.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Team"
    plural: "teams"
    singular: "team"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi model for a team of users in the organization (otoroshi-ui)"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi model for a team of users in the organization\
              \ (otoroshi-ui)"
            properties:
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              name:
                type: "string"
                description: "Entity name"
              description:
                type: "string"
                description: "Entity description"
              tenant:
                description: "Entity organization"
                type: "string"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              id:
                description: "Entity id"
                type: "string"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "tcp-services.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "TcpService"
    plural: "tcp-services"
    singular: "tcp-service"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "Model for a TCP proxy"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "Model for a TCP proxy"
            properties:
              enabled:
                type: "boolean"
                description: "Service enabled"
              description:
                type: "string"
                description: "Entity description"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              port:
                type: "integer"
                format: "int32"
                description: "network port"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              rules:
                type: "array"
                items:
                  properties:
                    domain:
                      type: "string"
                      description: "match on SNI domain"
                    targets:
                      type: "array"
                      items:
                        properties:
                          host:
                            type: "string"
                            description: "Target host"
                          ip:
                            description: "null type"
                            type: "string"
                            nullable: true
                          port:
                            type: "integer"
                            format: "int32"
                            description: "Target port"
                          tls:
                            type: "boolean"
                            description: "Use tls"
                        type: "object"
                      description: "TCP targets"
                  type: "object"
                description: "Routing rules"
              clientAuth:
                description: "Client authentication mode"
                type: "string"
              interface:
                type: "string"
                description: "Network interface"
              sni:
                description: "SNI settings"
                properties:
                  enabled:
                    type: "boolean"
                    description: "SNI extraction enabled"
                  forwardIfNoMatch:
                    type: "boolean"
                    description: ""
                  forwardsTo:
                    description: "forwards call to"
                    properties:
                      host:
                        type: "string"
                        description: "Target host"
                      ip:
                        description: "null type"
                        type: "string"
                        nullable: true
                      port:
                        type: "integer"
                        format: "int32"
                        description: "Target port"
                      tls:
                        type: "boolean"
                        description: "Use tls"
                    type: "object"
                type: "object"
              id:
                type: "string"
                description: "Entity id"
              _loc:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    type: "string"
                  teams:
                    type: "array"
                    items:
                      type: "string"
                    description: "Teams of the current entity"
                type: "object"
              name:
                type: "string"
                description: "Entity name"
              tls:
                description: "TLS mode"
                type: "string"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "backends.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Backend"
    plural: "backends"
    singular: "backend"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "A backend representation with it's targets, load balancing and\
          \ general settings"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "A backend representation with it's targets, load balancing\
              \ and general settings"
            properties:
              root:
                type: "string"
                description: "The root path of the backend or the full rewrite path"
              health_check:
                description: "???"
                type: "object"
                properties:
                  enabled:
                    type: "boolean"
                    description: "???"
                  url:
                    type: "string"
                    description: "???"
              client:
                description: "Client config. of the backend"
                properties:
                  idle_timeout:
                    type: "integer"
                    format: "int64"
                    description: "Timeout on idle connection"
                  sample_interval:
                    type: "integer"
                    format: "int64"
                    description: "Specify the sliding window time for the circuit\
                      \ breaker in milliseconds, after this time, error count will\
                      \ be reseted"
                  cache_connection_settings:
                    description: "Cached connection settings"
                    properties:
                      queue_size:
                        type: "integer"
                        format: "int32"
                        description: "How much request can be queue before dropping\
                          \ it"
                      enabled:
                        type: "boolean"
                        description: "Is cached connection enabled"
                    type: "object"
                  call_and_stream_timeout:
                    type: "integer"
                    format: "int64"
                    description: "Specify how long each call should last at most in\
                      \ milliseconds (hard timeout, connection will be closed after\
                      \ that duration)"
                  custom_timeouts:
                    type: "array"
                    items:
                      properties:
                        connection_timeout:
                          type: "integer"
                          format: "int64"
                          description: "Timeout at connection"
                        call_and_stream_timeout:
                          type: "integer"
                          format: "int64"
                          description: "Specify how long each call should last at\
                            \ most in milliseconds (hard timeout, connection will\
                            \ be closed after that duration)"
                        path:
                          type: "string"
                          description: "path on which this configuration works"
                        call_timeout:
                          type: "integer"
                          format: "int64"
                          description: "Specify how long each call should last at\
                            \ most in milliseconds (soft timeout as it's enforced\
                            \ by the circuit breaker)"
                        idle_timeout:
                          type: "integer"
                          format: "int64"
                          description: "Timeout on idle connection"
                        global_timeout:
                          type: "integer"
                          format: "int64"
                          description: "Specify how long the global call (with retries)\
                            \ should last at most in milliseconds"
                      type: "object"
                    description: "Custom timeouts per path"
                  connection_timeout:
                    type: "integer"
                    format: "int64"
                    description: "Timeout at connection"
                  call_timeout:
                    type: "integer"
                    format: "int64"
                    description: "Specify how long each call should last at most in\
                      \ milliseconds (soft timeout as it's enforced by the circuit\
                      \ breaker)"
                  global_timeout:
                    type: "integer"
                    format: "int64"
                    description: "Specify how long the global call (with retries)\
                      \ should last at most in milliseconds"
                  retry_initial_delay:
                    type: "integer"
                    format: "int64"
                    description: "Specify the delay between two retries. Each retry,\
                      \ the delay is multiplied by the backoff factor"
                  backoff_factor:
                    type: "integer"
                    format: "int64"
                    description: "Specify the factor to multiply the delay for each\
                      \ retry"
                  proxy:
                    description: "Web proxy settings for http client"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  retries:
                    type: "integer"
                    format: "int32"
                    description: "Specify how many times the client will try to fetch\
                      \ the result of the request after an error before giving up."
                  max_errors:
                    type: "integer"
                    format: "int32"
                    description: "Specify how many errors can pass before opening\
                      \ the circuit breaker"
                type: "object"
              load_balancing:
                description: "Loadbalancing config og the backend"
                properties:
                  type:
                    type: "string"
                  ratio:
                    type: "number"
                    format: "double"
                type: "object"
              rewrite:
                type: "boolean"
                description: "Does the backend performs a full url rewrite ?"
              targets:
                type: "array"
                items:
                  properties:
                    ip_address:
                      description: "null type"
                      type: "string"
                      nullable: true
                    protocol:
                      type: "string"
                      description: "Protocol for the target"
                    predicate:
                      description: "Predicate to choose this target"
                      properties:
                        type:
                          type: "string"
                          description: "the kind of predicate"
                        dc:
                          type: "string"
                          description: "???"
                        positions:
                          type: "array"
                          items:
                            properties:
                              latitude:
                                type: "number"
                                format: "double"
                                description: "???"
                              longitude:
                                type: "number"
                                format: "double"
                                description: "???"
                              radius:
                                type: "number"
                                format: "double"
                                description: "???"
                            type: "object"
                          description: "???"
                        provider:
                          type: "string"
                          description: "???"
                        dataCenter:
                          type: "string"
                          description: "???"
                        rack:
                          type: "string"
                          description: "???"
                        region:
                          type: "string"
                          description: "???"
                        zone:
                          type: "string"
                          description: "???"
                      type: "object"
                    tls_config:
                      description: "TLS settings to contact this target"
                      properties:
                        enabled:
                          type: "boolean"
                          description: "Enabled"
                        certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                        loose:
                          type: "boolean"
                          description: "Loose verification"
                        trust_all:
                          type: "boolean"
                          description: "Trust any certificate"
                        trusted_certs:
                          type: "array"
                          items:
                            type: "string"
                          description: "Trusted cert. ids"
                      type: "object"
                    tls:
                      type: "boolean"
                      description: "Does the target uses TLS"
                    port:
                      type: "integer"
                      format: "int32"
                      description: "port of the target"
                    id:
                      type: "string"
                      description: "id of the target"
                    weight:
                      type: "integer"
                      format: "int32"
                      description: "The weight of the target when choosing"
                    hostname:
                      type: "string"
                      description: "hostname of the target"
                  type: "object"
                description: "The targets of the backend"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "auth-modules.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "AuthModule"
    plural: "auth-modules"
    singular: "auth-module"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "???"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "???"
            properties:
              type:
                type: "string"
                description: "the type of the module"
              desc:
                type: "string"
                description: "???"
              name:
                type: "string"
                description: "???"
              clientSideSessionEnabled:
                type: "boolean"
                description: "???"
              basicAuth:
                type: "boolean"
                description: "???"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "???"
              users:
                type: "array"
                items:
                  properties:
                    metadata:
                      type: "object"
                      description: "???"
                    password:
                      type: "string"
                      description: "???"
                    tags:
                      type: "array"
                      items:
                        type: "string"
                      description: "???"
                    email:
                      type: "string"
                      description: "???"
                    webauthn:
                      description: "???"
                      type: "object"
                      properties:
                        handle:
                          type: "string"
                          description: "???"
                        credentials:
                          type: "object"
                          additionalProperties:
                            type: "object"
                          description: "???"
                    rights:
                      description: "???"
                      properties:
                        rights:
                          type: "array"
                          items:
                            properties:
                              tenant:
                                description: "Access rights on organizations"
                                properties:
                                  canWrite:
                                    type: "boolean"
                                    description: "Can this access right write data"
                                  value:
                                    type: "string"
                                    description: "Access pattern"
                                  canRead:
                                    type: "boolean"
                                    description: "Can this access right read data"
                                type: "object"
                              teams:
                                type: "array"
                                items:
                                  properties:
                                    canRead:
                                      type: "boolean"
                                      description: "Can this access right read data"
                                    value:
                                      type: "string"
                                      description: "Access pattern"
                                    canWrite:
                                      type: "boolean"
                                      description: "Can this access right write data"
                                  type: "object"
                                description: "Access rights on teams"
                            type: "object"
                          description: "Access rights of a user"
                      type: "object"
                    name:
                      type: "string"
                      description: "???"
                  type: "object"
                description: "???"
              sessionMaxAge:
                type: "integer"
                format: "int32"
                description: "???"
              webauthn:
                type: "boolean"
                description: "???"
              userValidators:
                type: "array"
                items:
                  properties:
                    path:
                      type: "string"
                      description: "???"
                    value:
                      type: "object"
                      description: "???"
                  type: "object"
                description: "???"
              id:
                type: "string"
                description: "???"
              _loc:
                description: "???"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    type: "string"
                  teams:
                    type: "array"
                    items:
                      type: "string"
                    description: "Teams of the current entity"
                type: "object"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "???"
              sessionCookieValues:
                description: "???"
                properties:
                  httpOnly:
                    type: "boolean"
                    description: "???"
                  secure:
                    type: "boolean"
                    description: "???"
                type: "object"
              extraMetadata:
                type: "object"
                description: "???"
              rightsOverride:
                type: "object"
                additionalProperties:
                  properties:
                    rights:
                      type: "array"
                      items:
                        properties:
                          tenant:
                            description: "Access rights on organizations"
                            properties:
                              canWrite:
                                type: "boolean"
                                description: "Can this access right write data"
                              value:
                                type: "string"
                                description: "Access pattern"
                              canRead:
                                type: "boolean"
                                description: "Can this access right read data"
                            type: "object"
                          teams:
                            type: "array"
                            items:
                              properties:
                                canRead:
                                  type: "boolean"
                                  description: "Can this access right read data"
                                value:
                                  type: "string"
                                  description: "Access pattern"
                                canWrite:
                                  type: "boolean"
                                  description: "Can this access right write data"
                              type: "object"
                            description: "Access rights on teams"
                        type: "object"
                      description: "Access rights of a user"
                  type: "object"
                description: "???"
              clientId:
                type: "string"
                description: "???"
              otoroshiRightsField:
                type: "string"
                description: "???"
              scope:
                type: "string"
                description: "???"
              accessTokenField:
                type: "string"
                description: "???"
              superAdmins:
                type: "boolean"
                description: "???"
              refreshTokens:
                type: "boolean"
                description: "???"
              loginUrl:
                type: "string"
                description: "???"
              apiKeyTagsField:
                type: "string"
                description: "???"
              otoroshiDataField:
                type: "string"
                description: "???"
              emailField:
                type: "string"
                description: "???"
              mtlsConfig:
                description: "???"
                properties:
                  mtls:
                    type: "boolean"
                    description: "???"
                  loose:
                    type: "boolean"
                    description: "???"
                  trustAll:
                    type: "boolean"
                    description: "???"
                  trustedCerts:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  certs:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                type: "object"
              tokenUrl:
                type: "string"
                description: "???"
              useCookie:
                type: "boolean"
                description: "???"
              pkce:
                description: "???"
                type: "object"
                properties:
                  enabled:
                    type: "boolean"
                    description: "???"
                  algorithm:
                    type: "string"
                    description: "???"
              authorizeUrl:
                type: "string"
                description: "???"
              callbackUrl:
                type: "string"
                description: "???"
              proxy:
                description: "???"
                type: "object"
                properties:
                  host:
                    type: "string"
                    description: "The hostname of the proxy server."
                  port:
                    type: "string"
                    description: "The port of the proxy server."
                  protocol:
                    type: "string"
                    description: "The protocol of the proxy server.  Use \"http\"\
                      \ or \"https\".  Defaults to \"http\" if not specified."
                  principal:
                    type: "string"
                    description: "The principal (aka username) of the credentials\
                      \ for the proxy server."
                  password:
                    type: "string"
                    description: "The password for the credentials for the proxy server."
                  ntlmDomain:
                    type: "string"
                    description: "The ntlm domain for the proxy server."
                  encoding:
                    type: "string"
                    description: "The realm's charset."
                  nonProxyHosts:
                    type: "string"
                    description: "The non proxied hosts"
              apiKeyMetaField:
                type: "string"
                description: "???"
              clientSecret:
                type: "string"
                description: "???"
              useJson:
                type: "boolean"
                description: "???"
              oidConfig:
                description: "null type"
                type: "string"
                nullable: true
              claims:
                type: "string"
                description: "???"
              noWildcardRedirectURI:
                type: "boolean"
                description: "???"
              nameField:
                type: "string"
                description: "???"
              introspectionUrl:
                type: "string"
                description: "???"
              logoutUrl:
                type: "string"
                description: "???"
              dataOverride:
                type: "object"
                additionalProperties:
                  type: "object"
                description: "???"
              userInfoUrl:
                type: "string"
                description: "???"
              jwtVerifier:
                description: "???"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "the kind of algosettings"
                  size:
                    type: "integer"
                    format: "int32"
                    description: "SHA function size"
                  publicKey:
                    type: "string"
                    description: "Public key (for verification)"
                  privateKey:
                    description: "null type"
                    type: "string"
                    nullable: true
                  certId:
                    type: "string"
                    description: "Certificate id"
                  secret:
                    type: "string"
                    description: "HMAC secret"
                  base64:
                    type: "boolean"
                    description: "The secret is base64 encoded"
                  url:
                    type: "string"
                    description: "JWKS url"
                  tlsConfig:
                    description: "TLS config"
                    properties:
                      mtls:
                        type: "boolean"
                        description: "???"
                      loose:
                        type: "boolean"
                        description: "???"
                      trustAll:
                        type: "boolean"
                        description: "???"
                      trustedCerts:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      certs:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                    type: "object"
                  kty:
                    type: "string"
                    description: "Key type"
                  proxy:
                    description: "Web proxy for http client"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Http header when fetching JWKS"
                  ttl:
                    type: "number"
                    description: "Cache ttl"
                  timeout:
                    type: "number"
                    description: "Timeout when fetching JWKS"
                  onlyExposedCerts:
                    type: "boolean"
                    description: "Use only exposed certs"
              readProfileFromToken:
                type: "boolean"
                description: "???"
              allowEmptyPassword:
                type: "boolean"
                description: "???"
              groupFilters:
                type: "array"
                items:
                  properties:
                    group:
                      type: "string"
                      description: "???"
                    tenant:
                      description: "???"
                      properties:
                        canWrite:
                          type: "boolean"
                          description: "Can this access right write data"
                        value:
                          type: "string"
                          description: "Access pattern"
                        canRead:
                          type: "boolean"
                          description: "Can this access right read data"
                      type: "object"
                    team:
                      type: "string"
                      description: "???"
                  type: "object"
                description: "???"
              serverUrls:
                type: "array"
                items:
                  type: "string"
                description: "???"
              searchBase:
                type: "string"
                description: "???"
              groupRights:
                type: "object"
                additionalProperties:
                  properties:
                    userRights:
                      description: "???"
                      properties:
                        rights:
                          type: "array"
                          items:
                            properties:
                              tenant:
                                description: "Access rights on organizations"
                                properties:
                                  canWrite:
                                    type: "boolean"
                                    description: "Can this access right write data"
                                  value:
                                    type: "string"
                                    description: "Access pattern"
                                  canRead:
                                    type: "boolean"
                                    description: "Can this access right read data"
                                type: "object"
                              teams:
                                type: "array"
                                items:
                                  properties:
                                    canRead:
                                      type: "boolean"
                                      description: "Can this access right read data"
                                    value:
                                      type: "string"
                                      description: "Access pattern"
                                    canWrite:
                                      type: "boolean"
                                      description: "Can this access right write data"
                                  type: "object"
                                description: "Access rights on teams"
                            type: "object"
                          description: "Access rights of a user"
                      type: "object"
                    users:
                      type: "array"
                      items:
                        type: "string"
                      description: "???"
                  type: "object"
                description: "???"
              metadataField:
                description: "null type"
                type: "string"
                nullable: true
              searchFilter:
                type: "string"
                description: "???"
              adminUsername:
                description: "null type"
                type: "string"
                nullable: true
              extractProfileFilter:
                type: "array"
                items:
                  type: "string"
                description: "???"
              userBase:
                description: "null type"
                type: "string"
                nullable: true
              adminPassword:
                description: "null type"
                type: "string"
                nullable: true
              extractProfileFilterNot:
                type: "array"
                items:
                  type: "string"
                description: "???"
              extractProfile:
                type: "boolean"
                description: "???"
              accessTokenURL:
                type: "string"
                description: "???"
              authorizeURL:
                type: "string"
                description: "???"
              consumerKey:
                type: "string"
                description: "???"
              callbackURL:
                type: "string"
                description: "???"
              profileURL:
                type: "string"
                description: "???"
              httpMethod:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "???"
              requestTokenURL:
                type: "string"
                description: "???"
              consumerSecret:
                type: "string"
                description: "???"
              ssoProtocolBinding:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "???"
              emailAttributeName:
                description: "null type"
                type: "string"
                nullable: true
              validatingCertificates:
                type: "array"
                items:
                  type: "string"
                description: "???"
              singleLogoutProtocolBinding:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "???"
              issuer:
                type: "string"
                description: "???"
              signature:
                description: "???"
                properties:
                  algorithm:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "???"
                  canocalizationMethod:
                    type: "object"
                    x-kubernetes-preserve-unknown-fields: true
                    description: "???"
                type: "object"
              singleLogoutUrl:
                type: "string"
                description: "???"
              usedNameIDAsEmail:
                type: "boolean"
                description: "???"
              singleSignOnUrl:
                type: "string"
                description: "???"
              validateAssertions:
                type: "boolean"
                description: "???"
              nameIDFormat:
                type: "object"
                x-kubernetes-preserve-unknown-fields: true
                description: "???"
              validateSignature:
                type: "boolean"
                description: "???"
              credentials:
                description: "???"
                properties:
                  signingKey:
                    description: "???"
                    properties:
                      certificate:
                        description: "null type"
                        type: "string"
                        nullable: true
                      privateKey:
                        description: "null type"
                        type: "string"
                        nullable: true
                      certId:
                        description: "null type"
                        type: "string"
                        nullable: true
                      useOtoroshiCertificate:
                        type: "boolean"
                        description: "???"
                    type: "object"
                  encryptionKey:
                    description: "???"
                    properties:
                      certificate:
                        description: "null type"
                        type: "string"
                        nullable: true
                      privateKey:
                        description: "null type"
                        type: "string"
                        nullable: true
                      certId:
                        description: "null type"
                        type: "string"
                        nullable: true
                      useOtoroshiCertificate:
                        type: "boolean"
                        description: "???"
                    type: "object"
                  signedDocuments:
                    type: "boolean"
                    description: "???"
                  encryptedAssertions:
                    type: "boolean"
                    description: "???"
                type: "object"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "jwt-verifiers.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "JwtVerifier"
    plural: "jwt-verifiers"
    singular: "jwt-verifier"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "Otoroshi model for JWT token verifier"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "Otoroshi model for JWT token verifier"
            properties:
              type:
                type: "string"
                description: "the kind of jwt verifier"
              desc:
                type: "string"
                description: "Verifier description"
              name:
                type: "string"
                description: "Verifier name"
              strict:
                type: "boolean"
                description: "Does it fail if JWT not found"
              source:
                description: "Where to find the jwt token"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "the kind of location"
                  name:
                    type: "string"
                    description: "Query param name"
                  remove:
                    type: "string"
                    description: "Remove from value"
              algoSettings:
                description: "Algo settings of the verifier"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "the kind of algosettings"
                  size:
                    type: "integer"
                    format: "int32"
                    description: "SHA function size"
                  publicKey:
                    type: "string"
                    description: "Public key (for verification)"
                  privateKey:
                    description: "null type"
                    type: "string"
                    nullable: true
                  certId:
                    type: "string"
                    description: "Certificate id"
                  secret:
                    type: "string"
                    description: "HMAC secret"
                  base64:
                    type: "boolean"
                    description: "The secret is base64 encoded"
                  url:
                    type: "string"
                    description: "JWKS url"
                  tlsConfig:
                    description: "TLS config"
                    properties:
                      mtls:
                        type: "boolean"
                        description: "???"
                      loose:
                        type: "boolean"
                        description: "???"
                      trustAll:
                        type: "boolean"
                        description: "???"
                      trustedCerts:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      certs:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                    type: "object"
                  kty:
                    type: "string"
                    description: "Key type"
                  proxy:
                    description: "Web proxy for http client"
                    type: "object"
                    properties:
                      host:
                        type: "string"
                        description: "The hostname of the proxy server."
                      port:
                        type: "string"
                        description: "The port of the proxy server."
                      protocol:
                        type: "string"
                        description: "The protocol of the proxy server.  Use \"http\"\
                          \ or \"https\".  Defaults to \"http\" if not specified."
                      principal:
                        type: "string"
                        description: "The principal (aka username) of the credentials\
                          \ for the proxy server."
                      password:
                        type: "string"
                        description: "The password for the credentials for the proxy\
                          \ server."
                      ntlmDomain:
                        type: "string"
                        description: "The ntlm domain for the proxy server."
                      encoding:
                        type: "string"
                        description: "The realm's charset."
                      nonProxyHosts:
                        type: "string"
                        description: "The non proxied hosts"
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Http header when fetching JWKS"
                  ttl:
                    type: "number"
                    description: "Cache ttl"
                  timeout:
                    type: "number"
                    description: "Timeout when fetching JWKS"
                  onlyExposedCerts:
                    type: "boolean"
                    description: "Use only exposed certs"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              id:
                type: "string"
                description: "Verifier id"
              _loc:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    type: "string"
                  teams:
                    type: "array"
                    items:
                      type: "string"
                    description: "Teams of the current entity"
                type: "object"
              strategy:
                description: "The strategy of the verifier"
                type: "object"
                properties:
                  type:
                    type: "string"
                    description: "the kind of strategy"
                  strict:
                    type: "boolean"
                    description: "If the token already exists in the request, then\
                      \ fail"
                  token:
                    type: "object"
                    description: "The default token"
                  verificationSettings:
                    description: "Verification settings"
                    properties:
                      fields:
                        type: "object"
                        additionalProperties:
                          type: "string"
                        description: "Fields validation"
                      arrayFields:
                        type: "object"
                        additionalProperties:
                          type: "string"
                        description: "Fields array validation"
                    type: "object"
                  algoSettings:
                    description: "Algorithm settings for re-signing token"
                    type: "object"
                    properties:
                      type:
                        type: "string"
                        description: "the kind of algosettings"
                      size:
                        type: "integer"
                        format: "int32"
                        description: "SHA function size"
                      publicKey:
                        type: "string"
                        description: "Public key (for verification)"
                      privateKey:
                        description: "null type"
                        type: "string"
                        nullable: true
                      certId:
                        type: "string"
                        description: "Certificate id"
                      secret:
                        type: "string"
                        description: "HMAC secret"
                      base64:
                        type: "boolean"
                        description: "The secret is base64 encoded"
                      url:
                        type: "string"
                        description: "JWKS url"
                      tlsConfig:
                        description: "TLS config"
                        properties:
                          mtls:
                            type: "boolean"
                            description: "???"
                          loose:
                            type: "boolean"
                            description: "???"
                          trustAll:
                            type: "boolean"
                            description: "???"
                          trustedCerts:
                            type: "array"
                            items:
                              type: "string"
                            description: "???"
                          certs:
                            type: "array"
                            items:
                              type: "string"
                            description: "???"
                        type: "object"
                      kty:
                        type: "string"
                        description: "Key type"
                      proxy:
                        description: "Web proxy for http client"
                        type: "object"
                        properties:
                          host:
                            type: "string"
                            description: "The hostname of the proxy server."
                          port:
                            type: "string"
                            description: "The port of the proxy server."
                          protocol:
                            type: "string"
                            description: "The protocol of the proxy server.  Use \"\
                              http\" or \"https\".  Defaults to \"http\" if not specified."
                          principal:
                            type: "string"
                            description: "The principal (aka username) of the credentials\
                              \ for the proxy server."
                          password:
                            type: "string"
                            description: "The password for the credentials for the\
                              \ proxy server."
                          ntlmDomain:
                            type: "string"
                            description: "The ntlm domain for the proxy server."
                          encoding:
                            type: "string"
                            description: "The realm's charset."
                          nonProxyHosts:
                            type: "string"
                            description: "The non proxied hosts"
                      headers:
                        type: "object"
                        additionalProperties:
                          type: "string"
                        description: "Http header when fetching JWKS"
                      ttl:
                        type: "number"
                        description: "Cache ttl"
                      timeout:
                        type: "number"
                        description: "Timeout when fetching JWKS"
                      onlyExposedCerts:
                        type: "boolean"
                        description: "Use only exposed certs"
                  transformSettings:
                    description: "Transformation settings"
                    properties:
                      location:
                        description: "Location of the token"
                        properties:
                          type:
                            type: "string"
                            description: "the kind of location"
                          name:
                            type: "string"
                            description: "Query param name"
                          remove:
                            type: "string"
                            description: "Remove from value"
                        type: "object"
                      mappingSettings:
                        description: "Token mapping settings"
                        properties:
                          map:
                            type: "object"
                            additionalProperties:
                              type: "string"
                            description: "Change values"
                          values:
                            type: "object"
                            description: "Add values"
                          remove:
                            type: "array"
                            items:
                              type: "string"
                            description: "Remove some token claims"
                        type: "object"
                    type: "object"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "data-exporters.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "DataExporter"
    plural: "data-exporters"
    singular: "data-exporter"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "Data exporter settings"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "Data exporter settings"
            properties:
              desc:
                type: "string"
                description: "Description"
              _loc:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    type: "string"
                  teams:
                    type: "array"
                    items:
                      type: "string"
                    description: "Teams of the current entity"
                type: "object"
              bufferSize:
                type: "integer"
                format: "int32"
                description: "Number of events in buffer"
              jsonWorkers:
                type: "integer"
                format: "int32"
                description: "Number of workers that transform events"
              groupDuration:
                type: "number"
                description: "The max duration before sending group"
              groupSize:
                type: "integer"
                format: "int32"
                description: "The max size of events group before sending"
              type:
                description: "Type of data exporter"
                type: "string"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              sendWorkers:
                type: "integer"
                format: "int32"
                description: "Number of workers that sends events"
              id:
                type: "string"
                description: "Id of the exporter"
              name:
                type: "string"
                description: "Entity name"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              config:
                description: "Exporter config"
                properties:
                  type:
                    type: "string"
                    description: "the kind of exporter"
                  sendEvents:
                    type: "boolean"
                    description: "Send events to it, or just connect"
                  truststore:
                    description: "null type"
                    type: "string"
                    nullable: true
                  hostValidation:
                    type: "boolean"
                    description: "Enabled TLS hostname validation"
                  servers:
                    type: "array"
                    items:
                      type: "string"
                    description: "URLs of the kafka servers"
                  mtlsConfig:
                    description: "TLS config when calling webhook"
                    properties:
                      mtls:
                        type: "boolean"
                        description: "???"
                      loose:
                        type: "boolean"
                        description: "???"
                      trustAll:
                        type: "boolean"
                        description: "???"
                      trustedCerts:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                      certs:
                        type: "array"
                        items:
                          type: "string"
                        description: "???"
                    type: "object"
                  securityProtocol:
                    type: "string"
                    description: "Used security protocol"
                  keystore:
                    description: "null type"
                    type: "string"
                    nullable: true
                  topic:
                    type: "string"
                    description: "Pulsar topic"
                  keyPass:
                    description: "null type"
                    type: "string"
                    nullable: true
                  saslConfig:
                    description: "SASL configuration"
                    type: "object"
                    properties:
                      username:
                        type: "string"
                        description: "SASL username"
                      password:
                        type: "string"
                        description: "SASL password"
                      mechanism:
                        type: "string"
                        description: "SASL login mechanism"
                  tlsTrustCertsFilePath:
                    description: "null type"
                    type: "string"
                    nullable: true
                  tenant:
                    type: "string"
                    description: "Pulsar tenant"
                  uri:
                    type: "string"
                    description: "Pulsar access uri"
                  namespace:
                    type: "string"
                    description: "Pulsar namespace"
                  sendWorkers:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  applyTemplate:
                    type: "boolean"
                    description: "Enable template creation/update"
                  uris:
                    type: "array"
                    items:
                      type: "string"
                    description: "???"
                  version:
                    description: "null type"
                    type: "string"
                    nullable: true
                  maxBulkSize:
                    type: "integer"
                    format: "int32"
                    description: "???"
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Sender headers"
                  indexSettings:
                    description: "Indexation settings"
                    properties:
                      clientSide:
                        type: "boolean"
                        description: "Enable index splitting on client side"
                      numberOfShards:
                        type: "integer"
                        format: "int32"
                        description: "???"
                      numberOfReplicas:
                        type: "integer"
                        format: "int32"
                        description: "???"
                      interval:
                        type: "string"
                        x-kubernetes-preserve-unknown-fields: true
                        description: "Index splitting interval"
                    type: "object"
                  user:
                    description: "null type"
                    type: "string"
                    nullable: true
                  index:
                    description: "null type"
                    type: "string"
                    nullable: true
                  password:
                    description: "null type"
                    type: "string"
                    nullable: true
                  ref:
                    type: "string"
                    description: "Reference to an exporter"
                  config:
                    type: "object"
                    description: "Exporter config."
                  path:
                    type: "string"
                    description: "File path"
                  maxFileSize:
                    type: "integer"
                    format: "int64"
                    description: "Max file size for rolling"
                  labels:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "Exported labels for prometheus"
                  url:
                    type: "string"
                    description: "Sender URL"
                  to:
                    type: "array"
                    items:
                      properties:
                        name:
                          type: "string"
                          description: "Destination name"
                        email:
                          type: "string"
                          description: "Email address"
                      type: "object"
                    description: "Destination email address"
                  eu:
                    type: "boolean"
                    description: "European tenant"
                  apiKey:
                    type: "string"
                    description: "Sendgrid apikey"
                  domain:
                    type: "string"
                    description: "Mailgun domain"
                  apiKeyPublic:
                    type: "string"
                    description: "Public key"
                  apiKeyPrivate:
                    type: "string"
                    description: "Private key"
                type: "object"
              projection:
                type: "object"
                description: "Event projection"
              enabled:
                type: "boolean"
                description: "Is the exporter enabled"
              filtering:
                description: "Filtering options"
                properties:
                  include:
                    type: "array"
                    items:
                      type: "object"
                    description: "Event include filter"
                  exclude:
                    type: "array"
                    items:
                      type: "object"
                    description: "Event exclude filter"
                type: "object"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "routes.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Route"
    plural: "routes"
    singular: "route"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "A routing primitive representing how a request is matched and\
          \ where the request is forwarded"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "A routing primitive representing how a request is matched\
              \ and where the request is forwarded"
            properties:
              debug_flow:
                type: "boolean"
                description: "Enable report debugging"
              enabled:
                type: "boolean"
                description: "Is the route enabled"
              name:
                type: "string"
                description: "The name of the route"
              id:
                type: "string"
                description: "The ud of the route"
              export_reporting:
                type: "boolean"
                description: "Export the execution reporting through standard data\
                  \ exporter"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "The metadata of the route"
              frontend:
                description: "The frontend of the route"
                properties:
                  headers:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "the headers that will be matched"
                  query:
                    type: "object"
                    additionalProperties:
                      type: "string"
                    description: "the query params that will be matched"
                  domains:
                    type: "array"
                    items:
                      type: "string"
                    description: "The domain and path that will be matched"
                  methods:
                    type: "array"
                    items:
                      type: "string"
                    description: "the http methods that will be matched"
                  exact:
                    type: "boolean"
                    description: "Match on exact path ?"
                  strip_path:
                    type: "boolean"
                    description: "Is path stripped from backend request"
                type: "object"
              _loc:
                description: "The location of the route"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    type: "string"
                  teams:
                    type: "array"
                    items:
                      type: "string"
                    description: "Teams of the current entity"
                type: "object"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "The tags of the route"
              capture:
                type: "boolean"
                description: "Capture http traffic"
              groups:
                type: "array"
                items:
                  type: "string"
                description: "The groups of the route"
              backend_ref:
                description: "null type"
                type: "string"
                nullable: true
              description:
                type: "string"
                description: "The description of the route"
              backend:
                description: "The backend of the route"
                properties:
                  root:
                    type: "string"
                    description: "The root path of the backend or the full rewrite\
                      \ path"
                  health_check:
                    description: "???"
                    type: "object"
                    properties:
                      enabled:
                        type: "boolean"
                        description: "???"
                      url:
                        type: "string"
                        description: "???"
                  client:
                    description: "Client config. of the backend"
                    properties:
                      idle_timeout:
                        type: "integer"
                        format: "int64"
                        description: "Timeout on idle connection"
                      sample_interval:
                        type: "integer"
                        format: "int64"
                        description: "Specify the sliding window time for the circuit\
                          \ breaker in milliseconds, after this time, error count\
                          \ will be reseted"
                      cache_connection_settings:
                        description: "Cached connection settings"
                        properties:
                          queue_size:
                            type: "integer"
                            format: "int32"
                            description: "How much request can be queue before dropping\
                              \ it"
                          enabled:
                            type: "boolean"
                            description: "Is cached connection enabled"
                        type: "object"
                      call_and_stream_timeout:
                        type: "integer"
                        format: "int64"
                        description: "Specify how long each call should last at most\
                          \ in milliseconds (hard timeout, connection will be closed\
                          \ after that duration)"
                      custom_timeouts:
                        type: "array"
                        items:
                          properties:
                            connection_timeout:
                              type: "integer"
                              format: "int64"
                              description: "Timeout at connection"
                            call_and_stream_timeout:
                              type: "integer"
                              format: "int64"
                              description: "Specify how long each call should last\
                                \ at most in milliseconds (hard timeout, connection\
                                \ will be closed after that duration)"
                            path:
                              type: "string"
                              description: "path on which this configuration works"
                            call_timeout:
                              type: "integer"
                              format: "int64"
                              description: "Specify how long each call should last\
                                \ at most in milliseconds (soft timeout as it's enforced\
                                \ by the circuit breaker)"
                            idle_timeout:
                              type: "integer"
                              format: "int64"
                              description: "Timeout on idle connection"
                            global_timeout:
                              type: "integer"
                              format: "int64"
                              description: "Specify how long the global call (with\
                                \ retries) should last at most in milliseconds"
                          type: "object"
                        description: "Custom timeouts per path"
                      connection_timeout:
                        type: "integer"
                        format: "int64"
                        description: "Timeout at connection"
                      call_timeout:
                        type: "integer"
                        format: "int64"
                        description: "Specify how long each call should last at most\
                          \ in milliseconds (soft timeout as it's enforced by the\
                          \ circuit breaker)"
                      global_timeout:
                        type: "integer"
                        format: "int64"
                        description: "Specify how long the global call (with retries)\
                          \ should last at most in milliseconds"
                      retry_initial_delay:
                        type: "integer"
                        format: "int64"
                        description: "Specify the delay between two retries. Each\
                          \ retry, the delay is multiplied by the backoff factor"
                      backoff_factor:
                        type: "integer"
                        format: "int64"
                        description: "Specify the factor to multiply the delay for\
                          \ each retry"
                      proxy:
                        description: "Web proxy settings for http client"
                        type: "object"
                        properties:
                          host:
                            type: "string"
                            description: "The hostname of the proxy server."
                          port:
                            type: "string"
                            description: "The port of the proxy server."
                          protocol:
                            type: "string"
                            description: "The protocol of the proxy server.  Use \"\
                              http\" or \"https\".  Defaults to \"http\" if not specified."
                          principal:
                            type: "string"
                            description: "The principal (aka username) of the credentials\
                              \ for the proxy server."
                          password:
                            type: "string"
                            description: "The password for the credentials for the\
                              \ proxy server."
                          ntlmDomain:
                            type: "string"
                            description: "The ntlm domain for the proxy server."
                          encoding:
                            type: "string"
                            description: "The realm's charset."
                          nonProxyHosts:
                            type: "string"
                            description: "The non proxied hosts"
                      retries:
                        type: "integer"
                        format: "int32"
                        description: "Specify how many times the client will try to\
                          \ fetch the result of the request after an error before\
                          \ giving up."
                      max_errors:
                        type: "integer"
                        format: "int32"
                        description: "Specify how many errors can pass before opening\
                          \ the circuit breaker"
                    type: "object"
                  load_balancing:
                    description: "Loadbalancing config og the backend"
                    properties:
                      type:
                        type: "string"
                      ratio:
                        type: "number"
                        format: "double"
                    type: "object"
                  rewrite:
                    type: "boolean"
                    description: "Does the backend performs a full url rewrite ?"
                  targets:
                    type: "array"
                    items:
                      properties:
                        ip_address:
                          description: "null type"
                          type: "string"
                          nullable: true
                        protocol:
                          type: "string"
                          description: "Protocol for the target"
                        predicate:
                          description: "Predicate to choose this target"
                          properties:
                            type:
                              type: "string"
                              description: "the kind of predicate"
                            dc:
                              type: "string"
                              description: "???"
                            positions:
                              type: "array"
                              items:
                                properties:
                                  latitude:
                                    type: "number"
                                    format: "double"
                                    description: "???"
                                  longitude:
                                    type: "number"
                                    format: "double"
                                    description: "???"
                                  radius:
                                    type: "number"
                                    format: "double"
                                    description: "???"
                                type: "object"
                              description: "???"
                            provider:
                              type: "string"
                              description: "???"
                            dataCenter:
                              type: "string"
                              description: "???"
                            rack:
                              type: "string"
                              description: "???"
                            region:
                              type: "string"
                              description: "???"
                            zone:
                              type: "string"
                              description: "???"
                          type: "object"
                        tls_config:
                          description: "TLS settings to contact this target"
                          properties:
                            enabled:
                              type: "boolean"
                              description: "Enabled"
                            certs:
                              type: "array"
                              items:
                                type: "string"
                              description: "Trusted cert. ids"
                            loose:
                              type: "boolean"
                              description: "Loose verification"
                            trust_all:
                              type: "boolean"
                              description: "Trust any certificate"
                            trusted_certs:
                              type: "array"
                              items:
                                type: "string"
                              description: "Trusted cert. ids"
                          type: "object"
                        tls:
                          type: "boolean"
                          description: "Does the target uses TLS"
                        port:
                          type: "integer"
                          format: "int32"
                          description: "port of the target"
                        id:
                          type: "string"
                          description: "id of the target"
                        weight:
                          type: "integer"
                          format: "int32"
                          description: "The weight of the target when choosing"
                        hostname:
                          type: "string"
                          description: "hostname of the target"
                      type: "object"
                    description: "The targets of the backend"
                type: "object"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "admins.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Admin"
    plural: "admins"
    singular: "admin"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi admin user"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi admin user"
            properties:
              type:
                description: "Admin kind"
                type: "string"
              username:
                type: "string"
                description: "User username"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              label:
                type: "string"
                description: "User label"
              _loc:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    type: "string"
                  teams:
                    type: "array"
                    items:
                      type: "string"
                    description: "Teams of the current entity"
                type: "object"
              createdAt:
                type: "number"
                description: "User creation date"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              rights:
                description: "User rights"
                properties:
                  rights:
                    type: "array"
                    items:
                      properties:
                        tenant:
                          description: "Access rights on organizations"
                          properties:
                            canWrite:
                              type: "boolean"
                              description: "Can this access right write data"
                            value:
                              type: "string"
                              description: "Access pattern"
                            canRead:
                              type: "boolean"
                              description: "Can this access right read data"
                          type: "object"
                        teams:
                          type: "array"
                          items:
                            properties:
                              canRead:
                                type: "boolean"
                                description: "Can this access right read data"
                              value:
                                type: "string"
                                description: "Access pattern"
                              canWrite:
                                type: "boolean"
                                description: "Can this access right write data"
                            type: "object"
                          description: "Access rights on teams"
                      type: "object"
                    description: "Access rights of a user"
                type: "object"
              password:
                type: "string"
                description: "User password (bcrypt hashed)"
---
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "scripts.proxy.otoroshi.io"
  creationTimestamp: null
spec:
  group: "proxy.otoroshi.io"
  names:
    kind: "Script"
    plural: "scripts"
    singular: "script"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    served: true
    storage: false
    deprecated: true
    schema:
      openAPIV3Schema:
        x-kubernetes-preserve-unknown-fields: true
        type: "object"
  - name: "v1"
    served: true
    storage: true
    deprecated: false
    schema:
      openAPIV3Schema:
        type: "object"
        description: "An otoroshi plugins stored as scala code in the otoroshi datastore"
        properties:
          apiVersion:
            description: "APIVersion defines the versioned schema of this representation\
              \ of an object. Servers should convert recognized schemas to the latest\
              \ internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
            type: "string"
          kind:
            description: "Kind is a string value representing the REST resource this\
              \ object represents. Servers may infer this from the endpoint the client\
              \ submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
            type: "string"
          metadata:
            type: "object"
          spec:
            type: "object"
            description: "An otoroshi plugins stored as scala code in the otoroshi\
              \ datastore"
            properties:
              name:
                type: "string"
                description: "The name of the script"
              metadata:
                type: "object"
                additionalProperties:
                  type: "string"
                description: "Entity metadata"
              tags:
                type: "array"
                items:
                  type: "string"
                description: "Entity tags"
              _loc:
                description: "Entity location"
                properties:
                  tenant:
                    description: "Organization of the current entity"
                    type: "string"
                  teams:
                    type: "array"
                    items:
                      type: "string"
                    description: "Teams of the current entity"
                type: "object"
              desc:
                type: "string"
                description: "The description of the script"
              code:
                type: "string"
                description: "The code of the script"
              id:
                type: "string"
                description: "The id of the script"
              type:
                description: "Plugin kind"
                type: "string"
